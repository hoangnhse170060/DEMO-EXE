(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ov(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Iv={exports:{}},bd={},Mv={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=Symbol.for("react.element"),P_=Symbol.for("react.portal"),B_=Symbol.for("react.fragment"),D_=Symbol.for("react.strict_mode"),F_=Symbol.for("react.profiler"),R_=Symbol.for("react.provider"),O_=Symbol.for("react.context"),I_=Symbol.for("react.forward_ref"),M_=Symbol.for("react.suspense"),L_=Symbol.for("react.memo"),z_=Symbol.for("react.lazy"),fx=Symbol.iterator;function H_(t){return t===null||typeof t!="object"?null:(t=fx&&t[fx]||t["@@iterator"],typeof t=="function"?t:null)}var Lv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zv=Object.assign,Hv={};function oo(t,e,n){this.props=t,this.context=e,this.refs=Hv,this.updater=n||Lv}oo.prototype.isReactComponent={};oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qv(){}qv.prototype=oo.prototype;function Tp(t,e,n){this.props=t,this.context=e,this.refs=Hv,this.updater=n||Lv}var Ap=Tp.prototype=new qv;Ap.constructor=Tp;zv(Ap,oo.prototype);Ap.isPureReactComponent=!0;var px=Array.isArray,$v=Object.prototype.hasOwnProperty,Pp={current:null},Uv={key:!0,ref:!0,__self:!0,__source:!0};function Vv(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)$v.call(e,r)&&!Uv.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ql,type:t,key:i,ref:o,props:s,_owner:Pp.current}}function q_(t,e){return{$$typeof:Ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ql}function $_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mx=/\/+/g;function Zd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$_(""+t.key):e.toString(36)}function ru(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ql:case P_:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Zd(o,0):r,px(s)?(n="",t!=null&&(n=t.replace(mx,"$&/")+"/"),ru(s,e,n,"",function(u){return u})):s!=null&&(Bp(s)&&(s=q_(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(mx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",px(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Zd(i,l);o+=ru(i,e,n,c,s)}else if(c=H_(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Zd(i,l++),o+=ru(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hc(t,e,n){if(t==null)return t;var r=[],s=0;return ru(t,r,"","",function(i){return e.call(n,i,s++)}),r}function U_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yn={current:null},su={transition:null},V_={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:su,ReactCurrentOwner:Pp};function Kv(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:hc,forEach:function(t,e,n){hc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hc(t,function(){e++}),e},toArray:function(t){return hc(t,function(e){return e})||[]},only:function(t){if(!Bp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=oo;Ae.Fragment=B_;Ae.Profiler=F_;Ae.PureComponent=Tp;Ae.StrictMode=D_;Ae.Suspense=M_;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V_;Ae.act=Kv;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zv({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Pp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)$v.call(e,c)&&!Uv.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ql,type:t.type,key:s,ref:i,props:r,_owner:o}};Ae.createContext=function(t){return t={$$typeof:O_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:R_,_context:t},t.Consumer=t};Ae.createElement=Vv;Ae.createFactory=function(t){var e=Vv.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:I_,render:t}};Ae.isValidElement=Bp;Ae.lazy=function(t){return{$$typeof:z_,_payload:{_status:-1,_result:t},_init:U_}};Ae.memo=function(t,e){return{$$typeof:L_,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=su.transition;su.transition={};try{t()}finally{su.transition=e}};Ae.unstable_act=Kv;Ae.useCallback=function(t,e){return yn.current.useCallback(t,e)};Ae.useContext=function(t){return yn.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return yn.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return yn.current.useEffect(t,e)};Ae.useId=function(){return yn.current.useId()};Ae.useImperativeHandle=function(t,e,n){return yn.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return yn.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return yn.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return yn.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return yn.current.useReducer(t,e,n)};Ae.useRef=function(t){return yn.current.useRef(t)};Ae.useState=function(t){return yn.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return yn.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return yn.current.useTransition()};Ae.version="18.3.1";Mv.exports=Ae;var S=Mv.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_=S,W_=Symbol.for("react.element"),G_=Symbol.for("react.fragment"),Q_=Object.prototype.hasOwnProperty,Y_=K_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X_={key:!0,ref:!0,__self:!0,__source:!0};function Wv(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Q_.call(e,r)&&!X_.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:W_,type:t,key:i,ref:o,props:s,_owner:Y_.current}}bd.Fragment=G_;bd.jsx=Wv;bd.jsxs=Wv;Iv.exports=bd;var a=Iv.exports,Gv={exports:{}},Zn={},Qv={exports:{}},Yv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,K){var E=I.length;I.push(K);e:for(;0<E;){var O=E-1>>>1,M=I[O];if(0<s(M,K))I[O]=K,I[E]=M,E=O;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var K=I[0],E=I.pop();if(E!==K){I[0]=E;e:for(var O=0,M=I.length,U=M>>>1;O<U;){var z=2*(O+1)-1,de=I[z],se=z+1,ve=I[se];if(0>s(de,E))se<M&&0>s(ve,de)?(I[O]=ve,I[se]=E,O=se):(I[O]=de,I[z]=E,O=z);else if(se<M&&0>s(ve,E))I[O]=ve,I[se]=E,O=se;else break e}}return K}function s(I,K){var E=I.sortIndex-K.sortIndex;return E!==0?E:I.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,x=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=I)r(u),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(u)}}function y(I){if(v=!1,g(I),!x)if(n(c)!==null)x=!0,W(_);else{var K=n(u);K!==null&&G(y,K.startTime-I)}}function _(I,K){x=!1,v&&(v=!1,b(C),C=-1),m=!0;var E=h;try{for(g(K),f=n(c);f!==null&&(!(f.expirationTime>K)||I&&!B());){var O=f.callback;if(typeof O=="function"){f.callback=null,h=f.priorityLevel;var M=O(f.expirationTime<=K);K=t.unstable_now(),typeof M=="function"?f.callback=M:f===n(c)&&r(c),g(K)}else r(c);f=n(c)}if(f!==null)var U=!0;else{var z=n(u);z!==null&&G(y,z.startTime-K),U=!1}return U}finally{f=null,h=E,m=!1}}var j=!1,k=null,C=-1,T=5,N=-1;function B(){return!(t.unstable_now()-N<T)}function A(){if(k!==null){var I=t.unstable_now();N=I;var K=!0;try{K=k(!0,I)}finally{K?D():(j=!1,k=null)}}else j=!1}var D;if(typeof p=="function")D=function(){p(A)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,q=H.port2;H.port1.onmessage=A,D=function(){q.postMessage(null)}}else D=function(){w(A,0)};function W(I){k=I,j||(j=!0,D())}function G(I,K){C=w(function(){I(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,W(_))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var E=h;h=K;try{return I()}finally{h=E}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,K){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var E=h;h=I;try{return K()}finally{h=E}},t.unstable_scheduleCallback=function(I,K,E){var O=t.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?O+E:O):E=O,I){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=E+M,I={id:d++,callback:K,priorityLevel:I,startTime:E,expirationTime:M,sortIndex:-1},E>O?(I.sortIndex=E,e(u,I),n(c)===null&&I===n(u)&&(v?(b(C),C=-1):v=!0,G(y,E-O))):(I.sortIndex=M,e(c,I),x||m||(x=!0,W(_))),I},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(I){var K=h;return function(){var E=h;h=K;try{return I.apply(this,arguments)}finally{h=E}}}})(Yv);Qv.exports=Yv;var J_=Qv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_=S,Yn=J_;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xv=new Set,gl={};function Yi(t,e){Ua(t,e),Ua(t+"Capture",e)}function Ua(t,e){for(gl[t]=e,t=0;t<e.length;t++)Xv.add(e[t])}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),K0=Object.prototype.hasOwnProperty,e4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xx={},gx={};function t4(t){return K0.call(gx,t)?!0:K0.call(xx,t)?!1:e4.test(t)?gx[t]=!0:(xx[t]=!0,!1)}function n4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function r4(t,e,n,r){if(e===null||typeof e>"u"||n4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new wn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new wn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new wn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new wn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new wn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new wn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new wn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new wn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new wn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dp=/[\-:]([a-z])/g;function Fp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dp,Fp);Gt[e]=new wn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dp,Fp);Gt[e]=new wn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dp,Fp);Gt[e]=new wn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new wn(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new wn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rp(t,e,n,r){var s=Gt.hasOwnProperty(e)?Gt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(r4(e,n,s,r)&&(n=null),r||s===null?t4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bs=Z_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fc=Symbol.for("react.element"),ga=Symbol.for("react.portal"),va=Symbol.for("react.fragment"),Op=Symbol.for("react.strict_mode"),W0=Symbol.for("react.profiler"),Jv=Symbol.for("react.provider"),Zv=Symbol.for("react.context"),Ip=Symbol.for("react.forward_ref"),G0=Symbol.for("react.suspense"),Q0=Symbol.for("react.suspense_list"),Mp=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),eb=Symbol.for("react.offscreen"),vx=Symbol.iterator;function vo(t){return t===null||typeof t!="object"?null:(t=vx&&t[vx]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,eh;function Fo(t){if(eh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);eh=e&&e[1]||""}return`
`+eh+t}var th=!1;function nh(t,e){if(!t||th)return"";th=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{th=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fo(t):""}function s4(t){switch(t.tag){case 5:return Fo(t.type);case 16:return Fo("Lazy");case 13:return Fo("Suspense");case 19:return Fo("SuspenseList");case 0:case 2:case 15:return t=nh(t.type,!1),t;case 11:return t=nh(t.type.render,!1),t;case 1:return t=nh(t.type,!0),t;default:return""}}function Y0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case va:return"Fragment";case ga:return"Portal";case W0:return"Profiler";case Op:return"StrictMode";case G0:return"Suspense";case Q0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zv:return(t.displayName||"Context")+".Consumer";case Jv:return(t._context.displayName||"Context")+".Provider";case Ip:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mp:return e=t.displayName||null,e!==null?e:Y0(t.type)||"Memo";case Es:e=t._payload,t=t._init;try{return Y0(t(e))}catch{}}return null}function i4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y0(e);case 8:return e===Op?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function a4(t){var e=tb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pc(t){t._valueTracker||(t._valueTracker=a4(t))}function nb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Su(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function X0(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rb(t,e){e=e.checked,e!=null&&Rp(t,"checked",e,!1)}function J0(t,e){rb(t,e);var n=Xs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Z0(t,e.type,n):e.hasOwnProperty("defaultValue")&&Z0(t,e.type,Xs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Z0(t,e,n){(e!=="number"||Su(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ro=Array.isArray;function Ba(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ef(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Ro(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xs(n)}}function sb(t,e){var n=Xs(e.value),r=Xs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _x(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ib(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ib(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mc,ab=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mc=mc||document.createElement("div"),mc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o4=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(t){o4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wo[e]=Wo[t]})});function ob(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wo.hasOwnProperty(t)&&Wo[t]?(""+e).trim():e+"px"}function lb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ob(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var l4=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nf(t,e){if(e){if(l4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function rf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sf=null;function Lp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var af=null,Da=null,Fa=null;function kx(t){if(t=Jl(t)){if(typeof af!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=jd(e),af(t.stateNode,t.type,e))}}function cb(t){Da?Fa?Fa.push(t):Fa=[t]:Da=t}function ub(){if(Da){var t=Da,e=Fa;if(Fa=Da=null,kx(t),e)for(t=0;t<e.length;t++)kx(e[t])}}function db(t,e){return t(e)}function hb(){}var rh=!1;function fb(t,e,n){if(rh)return t(e,n);rh=!0;try{return db(t,e,n)}finally{rh=!1,(Da!==null||Fa!==null)&&(hb(),ub())}}function bl(t,e){var n=t.stateNode;if(n===null)return null;var r=jd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var of=!1;if(hs)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){of=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{of=!1}function c4(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Go=!1,Eu=null,Tu=!1,lf=null,u4={onError:function(t){Go=!0,Eu=t}};function d4(t,e,n,r,s,i,o,l,c){Go=!1,Eu=null,c4.apply(u4,arguments)}function h4(t,e,n,r,s,i,o,l,c){if(d4.apply(this,arguments),Go){if(Go){var u=Eu;Go=!1,Eu=null}else throw Error(Y(198));Tu||(Tu=!0,lf=u)}}function Xi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jx(t){if(Xi(t)!==t)throw Error(Y(188))}function f4(t){var e=t.alternate;if(!e){if(e=Xi(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return jx(s),t;if(i===r)return jx(s),e;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function mb(t){return t=f4(t),t!==null?xb(t):null}function xb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xb(t);if(e!==null)return e;t=t.sibling}return null}var gb=Yn.unstable_scheduleCallback,Nx=Yn.unstable_cancelCallback,p4=Yn.unstable_shouldYield,m4=Yn.unstable_requestPaint,yt=Yn.unstable_now,x4=Yn.unstable_getCurrentPriorityLevel,zp=Yn.unstable_ImmediatePriority,vb=Yn.unstable_UserBlockingPriority,Au=Yn.unstable_NormalPriority,g4=Yn.unstable_LowPriority,bb=Yn.unstable_IdlePriority,yd=null,Kr=null;function v4(t){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(yd,t,void 0,(t.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:w4,b4=Math.log,y4=Math.LN2;function w4(t){return t>>>=0,t===0?32:31-(b4(t)/y4|0)|0}var xc=64,gc=4194304;function Oo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Oo(l):(i&=o,i!==0&&(r=Oo(i)))}else o=n&~s,o!==0?r=Oo(o):i!==0&&(r=Oo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nr(e),s=1<<n,r|=t[n],e&=~s;return r}function _4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Nr(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=_4(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function cf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yb(){var t=xc;return xc<<=1,!(xc&4194240)&&(xc=64),t}function sh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nr(e),t[e]=n}function j4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Nr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Hp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var He=0;function wb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _b,qp,kb,jb,Nb,uf=!1,vc=[],zs=null,Hs=null,qs=null,yl=new Map,wl=new Map,As=[],N4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cx(t,e){switch(t){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":yl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(e.pointerId)}}function yo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Jl(e),e!==null&&qp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function C4(t,e,n,r,s){switch(e){case"focusin":return zs=yo(zs,t,e,n,r,s),!0;case"dragenter":return Hs=yo(Hs,t,e,n,r,s),!0;case"mouseover":return qs=yo(qs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return yl.set(i,yo(yl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,wl.set(i,yo(wl.get(i)||null,t,e,n,r,s)),!0}return!1}function Cb(t){var e=ki(t.target);if(e!==null){var n=Xi(e);if(n!==null){if(e=n.tag,e===13){if(e=pb(n),e!==null){t.blockedOn=e,Nb(t.priority,function(){kb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function iu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=df(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sf=r,n.target.dispatchEvent(r),sf=null}else return e=Jl(n),e!==null&&qp(e),t.blockedOn=n,!1;e.shift()}return!0}function Sx(t,e,n){iu(t)&&n.delete(e)}function S4(){uf=!1,zs!==null&&iu(zs)&&(zs=null),Hs!==null&&iu(Hs)&&(Hs=null),qs!==null&&iu(qs)&&(qs=null),yl.forEach(Sx),wl.forEach(Sx)}function wo(t,e){t.blockedOn===e&&(t.blockedOn=null,uf||(uf=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,S4)))}function _l(t){function e(s){return wo(s,t)}if(0<vc.length){wo(vc[0],t);for(var n=1;n<vc.length;n++){var r=vc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zs!==null&&wo(zs,t),Hs!==null&&wo(Hs,t),qs!==null&&wo(qs,t),yl.forEach(e),wl.forEach(e),n=0;n<As.length;n++)r=As[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<As.length&&(n=As[0],n.blockedOn===null);)Cb(n),n.blockedOn===null&&As.shift()}var Ra=bs.ReactCurrentBatchConfig,Bu=!0;function E4(t,e,n,r){var s=He,i=Ra.transition;Ra.transition=null;try{He=1,$p(t,e,n,r)}finally{He=s,Ra.transition=i}}function T4(t,e,n,r){var s=He,i=Ra.transition;Ra.transition=null;try{He=4,$p(t,e,n,r)}finally{He=s,Ra.transition=i}}function $p(t,e,n,r){if(Bu){var s=df(t,e,n,r);if(s===null)ph(t,e,r,Du,n),Cx(t,r);else if(C4(s,t,e,n,r))r.stopPropagation();else if(Cx(t,r),e&4&&-1<N4.indexOf(t)){for(;s!==null;){var i=Jl(s);if(i!==null&&_b(i),i=df(t,e,n,r),i===null&&ph(t,e,r,Du,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ph(t,e,r,null,n)}}var Du=null;function df(t,e,n,r){if(Du=null,t=Lp(r),t=ki(t),t!==null)if(e=Xi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Du=t,null}function Sb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x4()){case zp:return 1;case vb:return 4;case Au:case g4:return 16;case bb:return 536870912;default:return 16}default:return 16}}var Ds=null,Up=null,au=null;function Eb(){if(au)return au;var t,e=Up,n=e.length,r,s="value"in Ds?Ds.value:Ds.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return au=s.slice(t,1<r?1-r:void 0)}function ou(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bc(){return!0}function Ex(){return!1}function er(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bc:Ex,this.isPropagationStopped=Ex,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bc)},persist:function(){},isPersistent:bc}),e}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vp=er(lo),Xl=ht({},lo,{view:0,detail:0}),A4=er(Xl),ih,ah,_o,wd=ht({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_o&&(_o&&t.type==="mousemove"?(ih=t.screenX-_o.screenX,ah=t.screenY-_o.screenY):ah=ih=0,_o=t),ih)},movementY:function(t){return"movementY"in t?t.movementY:ah}}),Tx=er(wd),P4=ht({},wd,{dataTransfer:0}),B4=er(P4),D4=ht({},Xl,{relatedTarget:0}),oh=er(D4),F4=ht({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),R4=er(F4),O4=ht({},lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I4=er(O4),M4=ht({},lo,{data:0}),Ax=er(M4),L4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=H4[t])?!!e[t]:!1}function Kp(){return q4}var $4=ht({},Xl,{key:function(t){if(t.key){var e=L4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ou(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?z4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kp,charCode:function(t){return t.type==="keypress"?ou(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ou(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),U4=er($4),V4=ht({},wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Px=er(V4),K4=ht({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kp}),W4=er(K4),G4=ht({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q4=er(G4),Y4=ht({},wd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X4=er(Y4),J4=[9,13,27,32],Wp=hs&&"CompositionEvent"in window,Qo=null;hs&&"documentMode"in document&&(Qo=document.documentMode);var Z4=hs&&"TextEvent"in window&&!Qo,Tb=hs&&(!Wp||Qo&&8<Qo&&11>=Qo),Bx=" ",Dx=!1;function Ab(t,e){switch(t){case"keyup":return J4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function ek(t,e){switch(t){case"compositionend":return Pb(e);case"keypress":return e.which!==32?null:(Dx=!0,Bx);case"textInput":return t=e.data,t===Bx&&Dx?null:t;default:return null}}function tk(t,e){if(ba)return t==="compositionend"||!Wp&&Ab(t,e)?(t=Eb(),au=Up=Ds=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tb&&e.locale!=="ko"?null:e.data;default:return null}}var nk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nk[t.type]:e==="textarea"}function Bb(t,e,n,r){cb(r),e=Fu(e,"onChange"),0<e.length&&(n=new Vp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yo=null,kl=null;function rk(t){$b(t,0)}function _d(t){var e=_a(t);if(nb(e))return t}function sk(t,e){if(t==="change")return e}var Db=!1;if(hs){var lh;if(hs){var ch="oninput"in document;if(!ch){var Rx=document.createElement("div");Rx.setAttribute("oninput","return;"),ch=typeof Rx.oninput=="function"}lh=ch}else lh=!1;Db=lh&&(!document.documentMode||9<document.documentMode)}function Ox(){Yo&&(Yo.detachEvent("onpropertychange",Fb),kl=Yo=null)}function Fb(t){if(t.propertyName==="value"&&_d(kl)){var e=[];Bb(e,kl,t,Lp(t)),fb(rk,e)}}function ik(t,e,n){t==="focusin"?(Ox(),Yo=e,kl=n,Yo.attachEvent("onpropertychange",Fb)):t==="focusout"&&Ox()}function ak(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _d(kl)}function ok(t,e){if(t==="click")return _d(e)}function lk(t,e){if(t==="input"||t==="change")return _d(e)}function ck(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sr=typeof Object.is=="function"?Object.is:ck;function jl(t,e){if(Sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!K0.call(e,s)||!Sr(t[s],e[s]))return!1}return!0}function Ix(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mx(t,e){var n=Ix(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ix(n)}}function Rb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ob(){for(var t=window,e=Su();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Su(t.document)}return e}function Gp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uk(t){var e=Ob(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Rb(n.ownerDocument.documentElement,n)){if(r!==null&&Gp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Mx(n,i);var o=Mx(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dk=hs&&"documentMode"in document&&11>=document.documentMode,ya=null,hf=null,Xo=null,ff=!1;function Lx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ff||ya==null||ya!==Su(r)||(r=ya,"selectionStart"in r&&Gp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xo&&jl(Xo,r)||(Xo=r,r=Fu(hf,"onSelect"),0<r.length&&(e=new Vp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ya)))}function yc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wa={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},uh={},Ib={};hs&&(Ib=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function kd(t){if(uh[t])return uh[t];if(!wa[t])return t;var e=wa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ib)return uh[t]=e[n];return t}var Mb=kd("animationend"),Lb=kd("animationiteration"),zb=kd("animationstart"),Hb=kd("transitionend"),qb=new Map,zx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(t,e){qb.set(t,e),Yi(e,[t])}for(var dh=0;dh<zx.length;dh++){var hh=zx[dh],hk=hh.toLowerCase(),fk=hh[0].toUpperCase()+hh.slice(1);ri(hk,"on"+fk)}ri(Mb,"onAnimationEnd");ri(Lb,"onAnimationIteration");ri(zb,"onAnimationStart");ri("dblclick","onDoubleClick");ri("focusin","onFocus");ri("focusout","onBlur");ri(Hb,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function Hx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,h4(r,e,void 0,t),t.currentTarget=null}function $b(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Hx(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Hx(s,l,u),i=c}}}if(Tu)throw t=lf,Tu=!1,lf=null,t}function et(t,e){var n=e[vf];n===void 0&&(n=e[vf]=new Set);var r=t+"__bubble";n.has(r)||(Ub(e,t,2,!1),n.add(r))}function fh(t,e,n){var r=0;e&&(r|=4),Ub(n,t,r,e)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Nl(t){if(!t[wc]){t[wc]=!0,Xv.forEach(function(n){n!=="selectionchange"&&(pk.has(n)||fh(n,!1,t),fh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wc]||(e[wc]=!0,fh("selectionchange",!1,e))}}function Ub(t,e,n,r){switch(Sb(e)){case 1:var s=E4;break;case 4:s=T4;break;default:s=$p}n=s.bind(null,e,n,t),s=void 0,!of||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ph(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ki(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}fb(function(){var u=i,d=Lp(n),f=[];e:{var h=qb.get(t);if(h!==void 0){var m=Vp,x=t;switch(t){case"keypress":if(ou(n)===0)break e;case"keydown":case"keyup":m=U4;break;case"focusin":x="focus",m=oh;break;case"focusout":x="blur",m=oh;break;case"beforeblur":case"afterblur":m=oh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Tx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=B4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=W4;break;case Mb:case Lb:case zb:m=R4;break;case Hb:m=Q4;break;case"scroll":m=A4;break;case"wheel":m=X4;break;case"copy":case"cut":case"paste":m=I4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Px}var v=(e&4)!==0,w=!v&&t==="scroll",b=v?h!==null?h+"Capture":null:h;v=[];for(var p=u,g;p!==null;){g=p;var y=g.stateNode;if(g.tag===5&&y!==null&&(g=y,b!==null&&(y=bl(p,b),y!=null&&v.push(Cl(p,y,g)))),w)break;p=p.return}0<v.length&&(h=new m(h,x,null,n,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==sf&&(x=n.relatedTarget||n.fromElement)&&(ki(x)||x[fs]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?ki(x):null,x!==null&&(w=Xi(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(v=Tx,y="onMouseLeave",b="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Px,y="onPointerLeave",b="onPointerEnter",p="pointer"),w=m==null?h:_a(m),g=x==null?h:_a(x),h=new v(y,p+"leave",m,n,d),h.target=w,h.relatedTarget=g,y=null,ki(d)===u&&(v=new v(b,p+"enter",x,n,d),v.target=g,v.relatedTarget=w,y=v),w=y,m&&x)t:{for(v=m,b=x,p=0,g=v;g;g=na(g))p++;for(g=0,y=b;y;y=na(y))g++;for(;0<p-g;)v=na(v),p--;for(;0<g-p;)b=na(b),g--;for(;p--;){if(v===b||b!==null&&v===b.alternate)break t;v=na(v),b=na(b)}v=null}else v=null;m!==null&&qx(f,h,m,v,!1),x!==null&&w!==null&&qx(f,w,x,v,!0)}}e:{if(h=u?_a(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=sk;else if(Fx(h))if(Db)_=lk;else{_=ak;var j=ik}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=ok);if(_&&(_=_(t,u))){Bb(f,_,n,d);break e}j&&j(t,h,u),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Z0(h,"number",h.value)}switch(j=u?_a(u):window,t){case"focusin":(Fx(j)||j.contentEditable==="true")&&(ya=j,hf=u,Xo=null);break;case"focusout":Xo=hf=ya=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,Lx(f,n,d);break;case"selectionchange":if(dk)break;case"keydown":case"keyup":Lx(f,n,d)}var k;if(Wp)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ba?Ab(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Tb&&n.locale!=="ko"&&(ba||C!=="onCompositionStart"?C==="onCompositionEnd"&&ba&&(k=Eb()):(Ds=d,Up="value"in Ds?Ds.value:Ds.textContent,ba=!0)),j=Fu(u,C),0<j.length&&(C=new Ax(C,t,null,n,d),f.push({event:C,listeners:j}),k?C.data=k:(k=Pb(n),k!==null&&(C.data=k)))),(k=Z4?ek(t,n):tk(t,n))&&(u=Fu(u,"onBeforeInput"),0<u.length&&(d=new Ax("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=k))}$b(f,e)})}function Cl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=bl(t,n),i!=null&&r.unshift(Cl(t,i,s)),i=bl(t,e),i!=null&&r.push(Cl(t,i,s))),t=t.return}return r}function na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qx(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=bl(n,i),c!=null&&o.unshift(Cl(n,c,l))):s||(c=bl(n,i),c!=null&&o.push(Cl(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mk=/\r\n?/g,xk=/\u0000|\uFFFD/g;function $x(t){return(typeof t=="string"?t:""+t).replace(mk,`
`).replace(xk,"")}function _c(t,e,n){if(e=$x(e),$x(t)!==e&&n)throw Error(Y(425))}function Ru(){}var pf=null,mf=null;function xf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gf=typeof setTimeout=="function"?setTimeout:void 0,gk=typeof clearTimeout=="function"?clearTimeout:void 0,Ux=typeof Promise=="function"?Promise:void 0,vk=typeof queueMicrotask=="function"?queueMicrotask:typeof Ux<"u"?function(t){return Ux.resolve(null).then(t).catch(bk)}:gf;function bk(t){setTimeout(function(){throw t})}function mh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),_l(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_l(e)}function $s(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var co=Math.random().toString(36).slice(2),zr="__reactFiber$"+co,Sl="__reactProps$"+co,fs="__reactContainer$"+co,vf="__reactEvents$"+co,yk="__reactListeners$"+co,wk="__reactHandles$"+co;function ki(t){var e=t[zr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fs]||n[zr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vx(t);t!==null;){if(n=t[zr])return n;t=Vx(t)}return e}t=n,n=t.parentNode}return null}function Jl(t){return t=t[zr]||t[fs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _a(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function jd(t){return t[Sl]||null}var bf=[],ka=-1;function si(t){return{current:t}}function tt(t){0>ka||(t.current=bf[ka],bf[ka]=null,ka--)}function Ze(t,e){ka++,bf[ka]=t.current,t.current=e}var Js={},cn=si(Js),Sn=si(!1),Li=Js;function Va(t,e){var n=t.type.contextTypes;if(!n)return Js;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function En(t){return t=t.childContextTypes,t!=null}function Ou(){tt(Sn),tt(cn)}function Kx(t,e,n){if(cn.current!==Js)throw Error(Y(168));Ze(cn,e),Ze(Sn,n)}function Vb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Y(108,i4(t)||"Unknown",s));return ht({},n,r)}function Iu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Js,Li=cn.current,Ze(cn,t),Ze(Sn,Sn.current),!0}function Wx(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=Vb(t,e,Li),r.__reactInternalMemoizedMergedChildContext=t,tt(Sn),tt(cn),Ze(cn,t)):tt(Sn),Ze(Sn,n)}var ns=null,Nd=!1,xh=!1;function Kb(t){ns===null?ns=[t]:ns.push(t)}function _k(t){Nd=!0,Kb(t)}function ii(){if(!xh&&ns!==null){xh=!0;var t=0,e=He;try{var n=ns;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ns=null,Nd=!1}catch(s){throw ns!==null&&(ns=ns.slice(t+1)),gb(zp,ii),s}finally{He=e,xh=!1}}return null}var ja=[],Na=0,Mu=null,Lu=0,rr=[],sr=0,zi=null,is=1,as="";function mi(t,e){ja[Na++]=Lu,ja[Na++]=Mu,Mu=t,Lu=e}function Wb(t,e,n){rr[sr++]=is,rr[sr++]=as,rr[sr++]=zi,zi=t;var r=is;t=as;var s=32-Nr(r)-1;r&=~(1<<s),n+=1;var i=32-Nr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,is=1<<32-Nr(e)+s|n<<s|r,as=i+t}else is=1<<i|n<<s|r,as=t}function Qp(t){t.return!==null&&(mi(t,1),Wb(t,1,0))}function Yp(t){for(;t===Mu;)Mu=ja[--Na],ja[Na]=null,Lu=ja[--Na],ja[Na]=null;for(;t===zi;)zi=rr[--sr],rr[sr]=null,as=rr[--sr],rr[sr]=null,is=rr[--sr],rr[sr]=null}var Gn=null,Kn=null,rt=!1,kr=null;function Gb(t,e){var n=or(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gn=t,Kn=$s(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gn=t,Kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zi!==null?{id:is,overflow:as}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=or(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gn=t,Kn=null,!0):!1;default:return!1}}function yf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wf(t){if(rt){var e=Kn;if(e){var n=e;if(!Gx(t,e)){if(yf(t))throw Error(Y(418));e=$s(n.nextSibling);var r=Gn;e&&Gx(t,e)?Gb(r,n):(t.flags=t.flags&-4097|2,rt=!1,Gn=t)}}else{if(yf(t))throw Error(Y(418));t.flags=t.flags&-4097|2,rt=!1,Gn=t}}}function Qx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gn=t}function kc(t){if(t!==Gn)return!1;if(!rt)return Qx(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xf(t.type,t.memoizedProps)),e&&(e=Kn)){if(yf(t))throw Qb(),Error(Y(418));for(;e;)Gb(t,e),e=$s(e.nextSibling)}if(Qx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kn=$s(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kn=null}}else Kn=Gn?$s(t.stateNode.nextSibling):null;return!0}function Qb(){for(var t=Kn;t;)t=$s(t.nextSibling)}function Ka(){Kn=Gn=null,rt=!1}function Xp(t){kr===null?kr=[t]:kr.push(t)}var kk=bs.ReactCurrentBatchConfig;function ko(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function jc(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yx(t){var e=t._init;return e(t._payload)}function Yb(t){function e(b,p){if(t){var g=b.deletions;g===null?(b.deletions=[p],b.flags|=16):g.push(p)}}function n(b,p){if(!t)return null;for(;p!==null;)e(b,p),p=p.sibling;return null}function r(b,p){for(b=new Map;p!==null;)p.key!==null?b.set(p.key,p):b.set(p.index,p),p=p.sibling;return b}function s(b,p){return b=Ws(b,p),b.index=0,b.sibling=null,b}function i(b,p,g){return b.index=g,t?(g=b.alternate,g!==null?(g=g.index,g<p?(b.flags|=2,p):g):(b.flags|=2,p)):(b.flags|=1048576,p)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,p,g,y){return p===null||p.tag!==6?(p=kh(g,b.mode,y),p.return=b,p):(p=s(p,g),p.return=b,p)}function c(b,p,g,y){var _=g.type;return _===va?d(b,p,g.props.children,y,g.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Es&&Yx(_)===p.type)?(y=s(p,g.props),y.ref=ko(b,p,g),y.return=b,y):(y=pu(g.type,g.key,g.props,null,b.mode,y),y.ref=ko(b,p,g),y.return=b,y)}function u(b,p,g,y){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=jh(g,b.mode,y),p.return=b,p):(p=s(p,g.children||[]),p.return=b,p)}function d(b,p,g,y,_){return p===null||p.tag!==7?(p=Ai(g,b.mode,y,_),p.return=b,p):(p=s(p,g),p.return=b,p)}function f(b,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=kh(""+p,b.mode,g),p.return=b,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case fc:return g=pu(p.type,p.key,p.props,null,b.mode,g),g.ref=ko(b,null,p),g.return=b,g;case ga:return p=jh(p,b.mode,g),p.return=b,p;case Es:var y=p._init;return f(b,y(p._payload),g)}if(Ro(p)||vo(p))return p=Ai(p,b.mode,g,null),p.return=b,p;jc(b,p)}return null}function h(b,p,g,y){var _=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:l(b,p,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case fc:return g.key===_?c(b,p,g,y):null;case ga:return g.key===_?u(b,p,g,y):null;case Es:return _=g._init,h(b,p,_(g._payload),y)}if(Ro(g)||vo(g))return _!==null?null:d(b,p,g,y,null);jc(b,g)}return null}function m(b,p,g,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return b=b.get(g)||null,l(p,b,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fc:return b=b.get(y.key===null?g:y.key)||null,c(p,b,y,_);case ga:return b=b.get(y.key===null?g:y.key)||null,u(p,b,y,_);case Es:var j=y._init;return m(b,p,g,j(y._payload),_)}if(Ro(y)||vo(y))return b=b.get(g)||null,d(p,b,y,_,null);jc(p,y)}return null}function x(b,p,g,y){for(var _=null,j=null,k=p,C=p=0,T=null;k!==null&&C<g.length;C++){k.index>C?(T=k,k=null):T=k.sibling;var N=h(b,k,g[C],y);if(N===null){k===null&&(k=T);break}t&&k&&N.alternate===null&&e(b,k),p=i(N,p,C),j===null?_=N:j.sibling=N,j=N,k=T}if(C===g.length)return n(b,k),rt&&mi(b,C),_;if(k===null){for(;C<g.length;C++)k=f(b,g[C],y),k!==null&&(p=i(k,p,C),j===null?_=k:j.sibling=k,j=k);return rt&&mi(b,C),_}for(k=r(b,k);C<g.length;C++)T=m(k,b,C,g[C],y),T!==null&&(t&&T.alternate!==null&&k.delete(T.key===null?C:T.key),p=i(T,p,C),j===null?_=T:j.sibling=T,j=T);return t&&k.forEach(function(B){return e(b,B)}),rt&&mi(b,C),_}function v(b,p,g,y){var _=vo(g);if(typeof _!="function")throw Error(Y(150));if(g=_.call(g),g==null)throw Error(Y(151));for(var j=_=null,k=p,C=p=0,T=null,N=g.next();k!==null&&!N.done;C++,N=g.next()){k.index>C?(T=k,k=null):T=k.sibling;var B=h(b,k,N.value,y);if(B===null){k===null&&(k=T);break}t&&k&&B.alternate===null&&e(b,k),p=i(B,p,C),j===null?_=B:j.sibling=B,j=B,k=T}if(N.done)return n(b,k),rt&&mi(b,C),_;if(k===null){for(;!N.done;C++,N=g.next())N=f(b,N.value,y),N!==null&&(p=i(N,p,C),j===null?_=N:j.sibling=N,j=N);return rt&&mi(b,C),_}for(k=r(b,k);!N.done;C++,N=g.next())N=m(k,b,C,N.value,y),N!==null&&(t&&N.alternate!==null&&k.delete(N.key===null?C:N.key),p=i(N,p,C),j===null?_=N:j.sibling=N,j=N);return t&&k.forEach(function(A){return e(b,A)}),rt&&mi(b,C),_}function w(b,p,g,y){if(typeof g=="object"&&g!==null&&g.type===va&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case fc:e:{for(var _=g.key,j=p;j!==null;){if(j.key===_){if(_=g.type,_===va){if(j.tag===7){n(b,j.sibling),p=s(j,g.props.children),p.return=b,b=p;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Es&&Yx(_)===j.type){n(b,j.sibling),p=s(j,g.props),p.ref=ko(b,j,g),p.return=b,b=p;break e}n(b,j);break}else e(b,j);j=j.sibling}g.type===va?(p=Ai(g.props.children,b.mode,y,g.key),p.return=b,b=p):(y=pu(g.type,g.key,g.props,null,b.mode,y),y.ref=ko(b,p,g),y.return=b,b=y)}return o(b);case ga:e:{for(j=g.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(b,p.sibling),p=s(p,g.children||[]),p.return=b,b=p;break e}else{n(b,p);break}else e(b,p);p=p.sibling}p=jh(g,b.mode,y),p.return=b,b=p}return o(b);case Es:return j=g._init,w(b,p,j(g._payload),y)}if(Ro(g))return x(b,p,g,y);if(vo(g))return v(b,p,g,y);jc(b,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(b,p.sibling),p=s(p,g),p.return=b,b=p):(n(b,p),p=kh(g,b.mode,y),p.return=b,b=p),o(b)):n(b,p)}return w}var Wa=Yb(!0),Xb=Yb(!1),zu=si(null),Hu=null,Ca=null,Jp=null;function Zp(){Jp=Ca=Hu=null}function em(t){var e=zu.current;tt(zu),t._currentValue=e}function _f(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oa(t,e){Hu=t,Jp=Ca=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cn=!0),t.firstContext=null)}function fr(t){var e=t._currentValue;if(Jp!==t)if(t={context:t,memoizedValue:e,next:null},Ca===null){if(Hu===null)throw Error(Y(308));Ca=t,Hu.dependencies={lanes:0,firstContext:t}}else Ca=Ca.next=t;return e}var ji=null;function tm(t){ji===null?ji=[t]:ji.push(t)}function Jb(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,tm(e)):(n.next=s.next,s.next=n),e.interleaved=n,ps(t,r)}function ps(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ts=!1;function nm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ls(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ps(t,n)}return s=r.interleaved,s===null?(e.next=e,tm(r)):(e.next=s.next,s.next=e),r.interleaved=e,ps(t,n)}function lu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hp(t,n)}}function Xx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qu(t,e,n,r){var s=t.updateQueue;Ts=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,v=l;switch(h=e,m=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=ht({},f,h);break e;case 2:Ts=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);qi|=o,t.lanes=o,t.memoizedState=f}}function Jx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var Zl={},Wr=si(Zl),El=si(Zl),Tl=si(Zl);function Ni(t){if(t===Zl)throw Error(Y(174));return t}function rm(t,e){switch(Ze(Tl,e),Ze(El,t),Ze(Wr,Zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tf(e,t)}tt(Wr),Ze(Wr,e)}function Ga(){tt(Wr),tt(El),tt(Tl)}function ey(t){Ni(Tl.current);var e=Ni(Wr.current),n=tf(e,t.type);e!==n&&(Ze(El,t),Ze(Wr,n))}function sm(t){El.current===t&&(tt(Wr),tt(El))}var lt=si(0);function $u(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gh=[];function im(){for(var t=0;t<gh.length;t++)gh[t]._workInProgressVersionPrimary=null;gh.length=0}var cu=bs.ReactCurrentDispatcher,vh=bs.ReactCurrentBatchConfig,Hi=0,dt=null,Bt=null,It=null,Uu=!1,Jo=!1,Al=0,jk=0;function Jt(){throw Error(Y(321))}function am(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sr(t[n],e[n]))return!1;return!0}function om(t,e,n,r,s,i){if(Hi=i,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cu.current=t===null||t.memoizedState===null?Ek:Tk,t=n(r,s),Jo){i=0;do{if(Jo=!1,Al=0,25<=i)throw Error(Y(301));i+=1,It=Bt=null,e.updateQueue=null,cu.current=Ak,t=n(r,s)}while(Jo)}if(cu.current=Vu,e=Bt!==null&&Bt.next!==null,Hi=0,It=Bt=dt=null,Uu=!1,e)throw Error(Y(300));return t}function lm(){var t=Al!==0;return Al=0,t}function Or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?dt.memoizedState=It=t:It=It.next=t,It}function pr(){if(Bt===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Bt.next;var e=It===null?dt.memoizedState:It.next;if(e!==null)It=e,Bt=t;else{if(t===null)throw Error(Y(310));Bt=t,t={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},It===null?dt.memoizedState=It=t:It=It.next=t}return It}function Pl(t,e){return typeof e=="function"?e(t):e}function bh(t){var e=pr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=Bt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Hi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,dt.lanes|=d,qi|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Sr(r,e.memoizedState)||(Cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,dt.lanes|=i,qi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yh(t){var e=pr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Sr(i,e.memoizedState)||(Cn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ty(){}function ny(t,e){var n=dt,r=pr(),s=e(),i=!Sr(r.memoizedState,s);if(i&&(r.memoizedState=s,Cn=!0),r=r.queue,cm(iy.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,Bl(9,sy.bind(null,n,r,s,e),void 0,null),Mt===null)throw Error(Y(349));Hi&30||ry(n,e,s)}return s}function ry(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sy(t,e,n,r){e.value=n,e.getSnapshot=r,ay(e)&&oy(t)}function iy(t,e,n){return n(function(){ay(e)&&oy(t)})}function ay(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sr(t,n)}catch{return!0}}function oy(t){var e=ps(t,1);e!==null&&Cr(e,t,1,-1)}function Zx(t){var e=Or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:t},e.queue=t,t=t.dispatch=Sk.bind(null,dt,t),[e.memoizedState,t]}function Bl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ly(){return pr().memoizedState}function uu(t,e,n,r){var s=Or();dt.flags|=t,s.memoizedState=Bl(1|e,n,void 0,r===void 0?null:r)}function Cd(t,e,n,r){var s=pr();r=r===void 0?null:r;var i=void 0;if(Bt!==null){var o=Bt.memoizedState;if(i=o.destroy,r!==null&&am(r,o.deps)){s.memoizedState=Bl(e,n,i,r);return}}dt.flags|=t,s.memoizedState=Bl(1|e,n,i,r)}function eg(t,e){return uu(8390656,8,t,e)}function cm(t,e){return Cd(2048,8,t,e)}function cy(t,e){return Cd(4,2,t,e)}function uy(t,e){return Cd(4,4,t,e)}function dy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hy(t,e,n){return n=n!=null?n.concat([t]):null,Cd(4,4,dy.bind(null,e,t),n)}function um(){}function fy(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&am(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function py(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&am(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function my(t,e,n){return Hi&21?(Sr(n,e)||(n=yb(),dt.lanes|=n,qi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cn=!0),t.memoizedState=n)}function Nk(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=vh.transition;vh.transition={};try{t(!1),e()}finally{He=n,vh.transition=r}}function xy(){return pr().memoizedState}function Ck(t,e,n){var r=Ks(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gy(t))vy(e,n);else if(n=Jb(t,e,n,r),n!==null){var s=bn();Cr(n,t,r,s),by(n,e,r)}}function Sk(t,e,n){var r=Ks(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gy(t))vy(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Sr(l,o)){var c=e.interleaved;c===null?(s.next=s,tm(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Jb(t,e,s,r),n!==null&&(s=bn(),Cr(n,t,r,s),by(n,e,r))}}function gy(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function vy(t,e){Jo=Uu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function by(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hp(t,n)}}var Vu={readContext:fr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},Ek={readContext:fr,useCallback:function(t,e){return Or().memoizedState=[t,e===void 0?null:e],t},useContext:fr,useEffect:eg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uu(4194308,4,dy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uu(4194308,4,t,e)},useInsertionEffect:function(t,e){return uu(4,2,t,e)},useMemo:function(t,e){var n=Or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ck.bind(null,dt,t),[r.memoizedState,t]},useRef:function(t){var e=Or();return t={current:t},e.memoizedState=t},useState:Zx,useDebugValue:um,useDeferredValue:function(t){return Or().memoizedState=t},useTransition:function(){var t=Zx(!1),e=t[0];return t=Nk.bind(null,t[1]),Or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dt,s=Or();if(rt){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Mt===null)throw Error(Y(349));Hi&30||ry(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,eg(iy.bind(null,r,i,t),[t]),r.flags|=2048,Bl(9,sy.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Or(),e=Mt.identifierPrefix;if(rt){var n=as,r=is;n=(r&~(1<<32-Nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Al++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Tk={readContext:fr,useCallback:fy,useContext:fr,useEffect:cm,useImperativeHandle:hy,useInsertionEffect:cy,useLayoutEffect:uy,useMemo:py,useReducer:bh,useRef:ly,useState:function(){return bh(Pl)},useDebugValue:um,useDeferredValue:function(t){var e=pr();return my(e,Bt.memoizedState,t)},useTransition:function(){var t=bh(Pl)[0],e=pr().memoizedState;return[t,e]},useMutableSource:ty,useSyncExternalStore:ny,useId:xy,unstable_isNewReconciler:!1},Ak={readContext:fr,useCallback:fy,useContext:fr,useEffect:cm,useImperativeHandle:hy,useInsertionEffect:cy,useLayoutEffect:uy,useMemo:py,useReducer:yh,useRef:ly,useState:function(){return yh(Pl)},useDebugValue:um,useDeferredValue:function(t){var e=pr();return Bt===null?e.memoizedState=t:my(e,Bt.memoizedState,t)},useTransition:function(){var t=yh(Pl)[0],e=pr().memoizedState;return[t,e]},useMutableSource:ty,useSyncExternalStore:ny,useId:xy,unstable_isNewReconciler:!1};function yr(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function kf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sd={isMounted:function(t){return(t=t._reactInternals)?Xi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bn(),s=Ks(t),i=ls(r,s);i.payload=e,n!=null&&(i.callback=n),e=Us(t,i,s),e!==null&&(Cr(e,t,s,r),lu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bn(),s=Ks(t),i=ls(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Us(t,i,s),e!==null&&(Cr(e,t,s,r),lu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bn(),r=Ks(t),s=ls(n,r);s.tag=2,e!=null&&(s.callback=e),e=Us(t,s,r),e!==null&&(Cr(e,t,r,n),lu(e,t,r))}};function tg(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!jl(n,r)||!jl(s,i):!0}function yy(t,e,n){var r=!1,s=Js,i=e.contextType;return typeof i=="object"&&i!==null?i=fr(i):(s=En(e)?Li:cn.current,r=e.contextTypes,i=(r=r!=null)?Va(t,s):Js),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ng(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sd.enqueueReplaceState(e,e.state,null)}function jf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},nm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=fr(i):(i=En(e)?Li:cn.current,s.context=Va(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(kf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Sd.enqueueReplaceState(s,s.state,null),qu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Qa(t,e){try{var n="",r=e;do n+=s4(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function wh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Nf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Pk=typeof WeakMap=="function"?WeakMap:Map;function wy(t,e,n){n=ls(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wu||(Wu=!0,Rf=r),Nf(t,e)},n}function _y(t,e,n){n=ls(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Nf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Nf(t,e),typeof r!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Pk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Vk.bind(null,t,e,n),e.then(t,t))}function sg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ig(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ls(-1,1),e.tag=2,Us(n,e,1))),n.lanes|=1),t)}var Bk=bs.ReactCurrentOwner,Cn=!1;function pn(t,e,n,r){e.child=t===null?Xb(e,null,n,r):Wa(e,t.child,n,r)}function ag(t,e,n,r,s){n=n.render;var i=e.ref;return Oa(e,s),r=om(t,e,n,r,i,s),n=lm(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ms(t,e,s)):(rt&&n&&Qp(e),e.flags|=1,pn(t,e,r,s),e.child)}function og(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!vm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ky(t,e,i,r,s)):(t=pu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:jl,n(o,r)&&t.ref===e.ref)return ms(t,e,s)}return e.flags|=1,t=Ws(i,r),t.ref=e.ref,t.return=e,e.child=t}function ky(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(jl(i,r)&&t.ref===e.ref)if(Cn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Cn=!0);else return e.lanes=t.lanes,ms(t,e,s)}return Cf(t,e,n,r,s)}function jy(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Ea,zn),zn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(Ea,zn),zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ze(Ea,zn),zn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ze(Ea,zn),zn|=r;return pn(t,e,s,n),e.child}function Ny(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cf(t,e,n,r,s){var i=En(n)?Li:cn.current;return i=Va(e,i),Oa(e,s),n=om(t,e,n,r,i,s),r=lm(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ms(t,e,s)):(rt&&r&&Qp(e),e.flags|=1,pn(t,e,n,s),e.child)}function lg(t,e,n,r,s){if(En(n)){var i=!0;Iu(e)}else i=!1;if(Oa(e,s),e.stateNode===null)du(t,e),yy(e,n,r),jf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=fr(u):(u=En(n)?Li:cn.current,u=Va(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&ng(e,o,r,u),Ts=!1;var h=e.memoizedState;o.state=h,qu(e,r,o,s),c=e.memoizedState,l!==r||h!==c||Sn.current||Ts?(typeof d=="function"&&(kf(e,n,d,r),c=e.memoizedState),(l=Ts||tg(e,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Zb(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:yr(e.type,l),o.props=u,f=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=fr(c):(c=En(n)?Li:cn.current,c=Va(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&ng(e,o,r,c),Ts=!1,h=e.memoizedState,o.state=h,qu(e,r,o,s);var x=e.memoizedState;l!==f||h!==x||Sn.current||Ts?(typeof m=="function"&&(kf(e,n,m,r),x=e.memoizedState),(u=Ts||tg(e,n,u,r,h,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Sf(t,e,n,r,i,s)}function Sf(t,e,n,r,s,i){Ny(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Wx(e,n,!1),ms(t,e,i);r=e.stateNode,Bk.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Wa(e,t.child,null,i),e.child=Wa(e,null,l,i)):pn(t,e,l,i),e.memoizedState=r.state,s&&Wx(e,n,!0),e.child}function Cy(t){var e=t.stateNode;e.pendingContext?Kx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kx(t,e.context,!1),rm(t,e.containerInfo)}function cg(t,e,n,r,s){return Ka(),Xp(s),e.flags|=256,pn(t,e,n,r),e.child}var Ef={dehydrated:null,treeContext:null,retryLane:0};function Tf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Sy(t,e,n){var r=e.pendingProps,s=lt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ze(lt,s&1),t===null)return wf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ad(o,r,0,null),t=Ai(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Tf(n),e.memoizedState=Ef,t):dm(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Dk(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ws(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ws(l,i):(i=Ai(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Tf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ef,r}return i=t.child,t=i.sibling,r=Ws(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dm(t,e){return e=Ad({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nc(t,e,n,r){return r!==null&&Xp(r),Wa(e,t.child,null,n),t=dm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Dk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=wh(Error(Y(422))),Nc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ad({mode:"visible",children:r.children},s,0,null),i=Ai(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Wa(e,t.child,null,o),e.child.memoizedState=Tf(o),e.memoizedState=Ef,i);if(!(e.mode&1))return Nc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Y(419)),r=wh(i,r,void 0),Nc(t,e,o,r)}if(l=(o&t.childLanes)!==0,Cn||l){if(r=Mt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ps(t,s),Cr(r,t,s,-1))}return gm(),r=wh(Error(Y(421))),Nc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Kk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Kn=$s(s.nextSibling),Gn=e,rt=!0,kr=null,t!==null&&(rr[sr++]=is,rr[sr++]=as,rr[sr++]=zi,is=t.id,as=t.overflow,zi=e),e=dm(e,r.children),e.flags|=4096,e)}function ug(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_f(t.return,e,n)}function _h(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ey(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(pn(t,e,r.children,n),r=lt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ug(t,n,e);else if(t.tag===19)ug(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(lt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&$u(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_h(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&$u(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_h(e,!0,n,null,i);break;case"together":_h(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function du(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ms(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Fk(t,e,n){switch(e.tag){case 3:Cy(e),Ka();break;case 5:ey(e);break;case 1:En(e.type)&&Iu(e);break;case 4:rm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ze(zu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(lt,lt.current&1),e.flags|=128,null):n&e.child.childLanes?Sy(t,e,n):(Ze(lt,lt.current&1),t=ms(t,e,n),t!==null?t.sibling:null);Ze(lt,lt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ey(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ze(lt,lt.current),r)break;return null;case 22:case 23:return e.lanes=0,jy(t,e,n)}return ms(t,e,n)}var Ty,Af,Ay,Py;Ty=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Af=function(){};Ay=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ni(Wr.current);var i=null;switch(n){case"input":s=X0(t,s),r=X0(t,r),i=[];break;case"select":s=ht({},s,{value:void 0}),r=ht({},r,{value:void 0}),i=[];break;case"textarea":s=ef(t,s),r=ef(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ru)}nf(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&et("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Py=function(t,e,n,r){n!==r&&(e.flags|=4)};function jo(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Rk(t,e,n){var r=e.pendingProps;switch(Yp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return En(e.type)&&Ou(),Zt(e),null;case 3:return r=e.stateNode,Ga(),tt(Sn),tt(cn),im(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kr!==null&&(Mf(kr),kr=null))),Af(t,e),Zt(e),null;case 5:sm(e);var s=Ni(Tl.current);if(n=e.type,t!==null&&e.stateNode!=null)Ay(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Zt(e),null}if(t=Ni(Wr.current),kc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[zr]=e,r[Sl]=i,t=(e.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(s=0;s<Io.length;s++)et(Io[s],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":bx(r,i),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},et("invalid",r);break;case"textarea":wx(r,i),et("invalid",r)}nf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&_c(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&_c(r.textContent,l,t),s=["children",""+l]):gl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&et("scroll",r)}switch(n){case"input":pc(r),yx(r,i,!0);break;case"textarea":pc(r),_x(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ru)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ib(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[zr]=e,t[Sl]=r,Ty(t,e,!1,!1),e.stateNode=t;e:{switch(o=rf(n,r),n){case"dialog":et("cancel",t),et("close",t),s=r;break;case"iframe":case"object":case"embed":et("load",t),s=r;break;case"video":case"audio":for(s=0;s<Io.length;s++)et(Io[s],t);s=r;break;case"source":et("error",t),s=r;break;case"img":case"image":case"link":et("error",t),et("load",t),s=r;break;case"details":et("toggle",t),s=r;break;case"input":bx(t,r),s=X0(t,r),et("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ht({},r,{value:void 0}),et("invalid",t);break;case"textarea":wx(t,r),s=ef(t,r),et("invalid",t);break;default:s=r}nf(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?lb(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ab(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&vl(t,c):typeof c=="number"&&vl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&et("scroll",t):c!=null&&Rp(t,i,c,o))}switch(n){case"input":pc(t),yx(t,r,!1);break;case"textarea":pc(t),_x(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ba(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ba(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ru)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)Py(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Ni(Tl.current),Ni(Wr.current),kc(e)){if(r=e.stateNode,n=e.memoizedProps,r[zr]=e,(i=r.nodeValue!==n)&&(t=Gn,t!==null))switch(t.tag){case 3:_c(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_c(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zr]=e,e.stateNode=r}return Zt(e),null;case 13:if(tt(lt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&Kn!==null&&e.mode&1&&!(e.flags&128))Qb(),Ka(),e.flags|=98560,i=!1;else if(i=kc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[zr]=e}else Ka(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),i=!1}else kr!==null&&(Mf(kr),kr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||lt.current&1?Ft===0&&(Ft=3):gm())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return Ga(),Af(t,e),t===null&&Nl(e.stateNode.containerInfo),Zt(e),null;case 10:return em(e.type._context),Zt(e),null;case 17:return En(e.type)&&Ou(),Zt(e),null;case 19:if(tt(lt),i=e.memoizedState,i===null)return Zt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)jo(i,!1);else{if(Ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$u(t),o!==null){for(e.flags|=128,jo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(lt,lt.current&1|2),e.child}t=t.sibling}i.tail!==null&&yt()>Ya&&(e.flags|=128,r=!0,jo(i,!1),e.lanes=4194304)}else{if(!r)if(t=$u(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!rt)return Zt(e),null}else 2*yt()-i.renderingStartTime>Ya&&n!==1073741824&&(e.flags|=128,r=!0,jo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=yt(),e.sibling=null,n=lt.current,Ze(lt,r?n&1|2:n&1),e):(Zt(e),null);case 22:case 23:return xm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zn&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function Ok(t,e){switch(Yp(e),e.tag){case 1:return En(e.type)&&Ou(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ga(),tt(Sn),tt(cn),im(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sm(e),null;case 13:if(tt(lt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Ka()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(lt),null;case 4:return Ga(),null;case 10:return em(e.type._context),null;case 22:case 23:return xm(),null;case 24:return null;default:return null}}var Cc=!1,sn=!1,Ik=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Sa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mt(t,e,r)}else n.current=null}function Pf(t,e,n){try{n()}catch(r){mt(t,e,r)}}var dg=!1;function Mk(t,e){if(pf=Bu,t=Ob(),Gp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===s&&(l=o),h===i&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(mf={focusedElem:t,selectionRange:n},Bu=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,w=x.memoizedState,b=e.stateNode,p=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:yr(e.type,v),w);b.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(y){mt(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return x=dg,dg=!1,x}function Zo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Pf(e,n,i)}s=s.next}while(s!==r)}}function Ed(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function By(t){var e=t.alternate;e!==null&&(t.alternate=null,By(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zr],delete e[Sl],delete e[vf],delete e[yk],delete e[wk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dy(t){return t.tag===5||t.tag===3||t.tag===4}function hg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Df(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ru));else if(r!==4&&(t=t.child,t!==null))for(Df(t,e,n),t=t.sibling;t!==null;)Df(t,e,n),t=t.sibling}function Ff(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ff(t,e,n),t=t.sibling;t!==null;)Ff(t,e,n),t=t.sibling}var Ut=null,wr=!1;function _s(t,e,n){for(n=n.child;n!==null;)Fy(t,e,n),n=n.sibling}function Fy(t,e,n){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(yd,n)}catch{}switch(n.tag){case 5:sn||Sa(n,e);case 6:var r=Ut,s=wr;Ut=null,_s(t,e,n),Ut=r,wr=s,Ut!==null&&(wr?(t=Ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(wr?(t=Ut,n=n.stateNode,t.nodeType===8?mh(t.parentNode,n):t.nodeType===1&&mh(t,n),_l(t)):mh(Ut,n.stateNode));break;case 4:r=Ut,s=wr,Ut=n.stateNode.containerInfo,wr=!0,_s(t,e,n),Ut=r,wr=s;break;case 0:case 11:case 14:case 15:if(!sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Pf(n,e,o),s=s.next}while(s!==r)}_s(t,e,n);break;case 1:if(!sn&&(Sa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){mt(n,e,l)}_s(t,e,n);break;case 21:_s(t,e,n);break;case 22:n.mode&1?(sn=(r=sn)||n.memoizedState!==null,_s(t,e,n),sn=r):_s(t,e,n);break;default:_s(t,e,n)}}function fg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ik),e.forEach(function(r){var s=Wk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ut=l.stateNode,wr=!1;break e;case 3:Ut=l.stateNode.containerInfo,wr=!0;break e;case 4:Ut=l.stateNode.containerInfo,wr=!0;break e}l=l.return}if(Ut===null)throw Error(Y(160));Fy(i,o,s),Ut=null,wr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){mt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ry(e,t),e=e.sibling}function Ry(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gr(e,t),Rr(t),r&4){try{Zo(3,t,t.return),Ed(3,t)}catch(v){mt(t,t.return,v)}try{Zo(5,t,t.return)}catch(v){mt(t,t.return,v)}}break;case 1:gr(e,t),Rr(t),r&512&&n!==null&&Sa(n,n.return);break;case 5:if(gr(e,t),Rr(t),r&512&&n!==null&&Sa(n,n.return),t.flags&32){var s=t.stateNode;try{vl(s,"")}catch(v){mt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&rb(s,i),rf(l,o);var u=rf(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?lb(s,f):d==="dangerouslySetInnerHTML"?ab(s,f):d==="children"?vl(s,f):Rp(s,d,f,u)}switch(l){case"input":J0(s,i);break;case"textarea":sb(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ba(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ba(s,!!i.multiple,i.defaultValue,!0):Ba(s,!!i.multiple,i.multiple?[]:"",!1))}s[Sl]=i}catch(v){mt(t,t.return,v)}}break;case 6:if(gr(e,t),Rr(t),r&4){if(t.stateNode===null)throw Error(Y(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){mt(t,t.return,v)}}break;case 3:if(gr(e,t),Rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_l(e.containerInfo)}catch(v){mt(t,t.return,v)}break;case 4:gr(e,t),Rr(t);break;case 13:gr(e,t),Rr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(pm=yt())),r&4&&fg(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(sn=(u=sn)||d,gr(e,t),sn=u):gr(e,t),Rr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ie=t,d=t.child;d!==null;){for(f=ie=d;ie!==null;){switch(h=ie,m=h.child,h.tag){case 0:case 11:case 14:case 15:Zo(4,h,h.return);break;case 1:Sa(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){mt(r,n,v)}}break;case 5:Sa(h,h.return);break;case 22:if(h.memoizedState!==null){mg(f);continue}}m!==null?(m.return=h,ie=m):mg(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ob("display",o))}catch(v){mt(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){mt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gr(e,t),Rr(t),r&4&&fg(t);break;case 21:break;default:gr(e,t),Rr(t)}}function Rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Dy(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(vl(s,""),r.flags&=-33);var i=hg(t);Ff(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=hg(t);Df(t,l,o);break;default:throw Error(Y(161))}}catch(c){mt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Lk(t,e,n){ie=t,Oy(t)}function Oy(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var s=ie,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Cc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||sn;l=Cc;var u=sn;if(Cc=o,(sn=c)&&!u)for(ie=s;ie!==null;)o=ie,c=o.child,o.tag===22&&o.memoizedState!==null?xg(s):c!==null?(c.return=o,ie=c):xg(s);for(;i!==null;)ie=i,Oy(i),i=i.sibling;ie=s,Cc=l,sn=u}pg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ie=i):pg(t)}}function pg(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sn||Ed(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:yr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Jx(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jx(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&_l(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}sn||e.flags&512&&Bf(e)}catch(h){mt(e,e.return,h)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function mg(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function xg(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ed(4,e)}catch(c){mt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){mt(e,s,c)}}var i=e.return;try{Bf(e)}catch(c){mt(e,i,c)}break;case 5:var o=e.return;try{Bf(e)}catch(c){mt(e,o,c)}}}catch(c){mt(e,e.return,c)}if(e===t){ie=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ie=l;break}ie=e.return}}var zk=Math.ceil,Ku=bs.ReactCurrentDispatcher,hm=bs.ReactCurrentOwner,dr=bs.ReactCurrentBatchConfig,Ie=0,Mt=null,St=null,Kt=0,zn=0,Ea=si(0),Ft=0,Dl=null,qi=0,Td=0,fm=0,el=null,jn=null,pm=0,Ya=1/0,Zr=null,Wu=!1,Rf=null,Vs=null,Sc=!1,Fs=null,Gu=0,tl=0,Of=null,hu=-1,fu=0;function bn(){return Ie&6?yt():hu!==-1?hu:hu=yt()}function Ks(t){return t.mode&1?Ie&2&&Kt!==0?Kt&-Kt:kk.transition!==null?(fu===0&&(fu=yb()),fu):(t=He,t!==0||(t=window.event,t=t===void 0?16:Sb(t.type)),t):1}function Cr(t,e,n,r){if(50<tl)throw tl=0,Of=null,Error(Y(185));Yl(t,n,r),(!(Ie&2)||t!==Mt)&&(t===Mt&&(!(Ie&2)&&(Td|=n),Ft===4&&Ps(t,Kt)),Tn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Ya=yt()+500,Nd&&ii()))}function Tn(t,e){var n=t.callbackNode;k4(t,e);var r=Pu(t,t===Mt?Kt:0);if(r===0)n!==null&&Nx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nx(n),e===1)t.tag===0?_k(gg.bind(null,t)):Kb(gg.bind(null,t)),vk(function(){!(Ie&6)&&ii()}),n=null;else{switch(wb(r)){case 1:n=zp;break;case 4:n=vb;break;case 16:n=Au;break;case 536870912:n=bb;break;default:n=Au}n=Uy(n,Iy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Iy(t,e){if(hu=-1,fu=0,Ie&6)throw Error(Y(327));var n=t.callbackNode;if(Ia()&&t.callbackNode!==n)return null;var r=Pu(t,t===Mt?Kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qu(t,r);else{e=r;var s=Ie;Ie|=2;var i=Ly();(Mt!==t||Kt!==e)&&(Zr=null,Ya=yt()+500,Ti(t,e));do try{$k();break}catch(l){My(t,l)}while(!0);Zp(),Ku.current=i,Ie=s,St!==null?e=0:(Mt=null,Kt=0,e=Ft)}if(e!==0){if(e===2&&(s=cf(t),s!==0&&(r=s,e=If(t,s))),e===1)throw n=Dl,Ti(t,0),Ps(t,r),Tn(t,yt()),n;if(e===6)Ps(t,r);else{if(s=t.current.alternate,!(r&30)&&!Hk(s)&&(e=Qu(t,r),e===2&&(i=cf(t),i!==0&&(r=i,e=If(t,i))),e===1))throw n=Dl,Ti(t,0),Ps(t,r),Tn(t,yt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:xi(t,jn,Zr);break;case 3:if(Ps(t,r),(r&130023424)===r&&(e=pm+500-yt(),10<e)){if(Pu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){bn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=gf(xi.bind(null,t,jn,Zr),e);break}xi(t,jn,Zr);break;case 4:if(Ps(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Nr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zk(r/1960))-r,10<r){t.timeoutHandle=gf(xi.bind(null,t,jn,Zr),r);break}xi(t,jn,Zr);break;case 5:xi(t,jn,Zr);break;default:throw Error(Y(329))}}}return Tn(t,yt()),t.callbackNode===n?Iy.bind(null,t):null}function If(t,e){var n=el;return t.current.memoizedState.isDehydrated&&(Ti(t,e).flags|=256),t=Qu(t,e),t!==2&&(e=jn,jn=n,e!==null&&Mf(e)),t}function Mf(t){jn===null?jn=t:jn.push.apply(jn,t)}function Hk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Sr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ps(t,e){for(e&=~fm,e&=~Td,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nr(e),r=1<<n;t[n]=-1,e&=~r}}function gg(t){if(Ie&6)throw Error(Y(327));Ia();var e=Pu(t,0);if(!(e&1))return Tn(t,yt()),null;var n=Qu(t,e);if(t.tag!==0&&n===2){var r=cf(t);r!==0&&(e=r,n=If(t,r))}if(n===1)throw n=Dl,Ti(t,0),Ps(t,e),Tn(t,yt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xi(t,jn,Zr),Tn(t,yt()),null}function mm(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Ya=yt()+500,Nd&&ii())}}function $i(t){Fs!==null&&Fs.tag===0&&!(Ie&6)&&Ia();var e=Ie;Ie|=1;var n=dr.transition,r=He;try{if(dr.transition=null,He=1,t)return t()}finally{He=r,dr.transition=n,Ie=e,!(Ie&6)&&ii()}}function xm(){zn=Ea.current,tt(Ea)}function Ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gk(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(Yp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ou();break;case 3:Ga(),tt(Sn),tt(cn),im();break;case 5:sm(r);break;case 4:Ga();break;case 13:tt(lt);break;case 19:tt(lt);break;case 10:em(r.type._context);break;case 22:case 23:xm()}n=n.return}if(Mt=t,St=t=Ws(t.current,null),Kt=zn=e,Ft=0,Dl=null,fm=Td=qi=0,jn=el=null,ji!==null){for(e=0;e<ji.length;e++)if(n=ji[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ji=null}return t}function My(t,e){do{var n=St;try{if(Zp(),cu.current=Vu,Uu){for(var r=dt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Uu=!1}if(Hi=0,It=Bt=dt=null,Jo=!1,Al=0,hm.current=null,n===null||n.return===null){Ft=1,Dl=e,St=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=Kt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=sg(o);if(m!==null){m.flags&=-257,ig(m,o,l,i,e),m.mode&1&&rg(i,u,e),e=m,c=u;var x=e.updateQueue;if(x===null){var v=new Set;v.add(c),e.updateQueue=v}else x.add(c);break e}else{if(!(e&1)){rg(i,u,e),gm();break e}c=Error(Y(426))}}else if(rt&&l.mode&1){var w=sg(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ig(w,o,l,i,e),Xp(Qa(c,l));break e}}i=c=Qa(c,l),Ft!==4&&(Ft=2),el===null?el=[i]:el.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=wy(i,c,e);Xx(i,b);break e;case 1:l=c;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Vs===null||!Vs.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var y=_y(i,l,e);Xx(i,y);break e}}i=i.return}while(i!==null)}Hy(n)}catch(_){e=_,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function Ly(){var t=Ku.current;return Ku.current=Vu,t===null?Vu:t}function gm(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Mt===null||!(qi&268435455)&&!(Td&268435455)||Ps(Mt,Kt)}function Qu(t,e){var n=Ie;Ie|=2;var r=Ly();(Mt!==t||Kt!==e)&&(Zr=null,Ti(t,e));do try{qk();break}catch(s){My(t,s)}while(!0);if(Zp(),Ie=n,Ku.current=r,St!==null)throw Error(Y(261));return Mt=null,Kt=0,Ft}function qk(){for(;St!==null;)zy(St)}function $k(){for(;St!==null&&!p4();)zy(St)}function zy(t){var e=$y(t.alternate,t,zn);t.memoizedProps=t.pendingProps,e===null?Hy(t):St=e,hm.current=null}function Hy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ok(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ft=6,St=null;return}}else if(n=Rk(n,e,zn),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);Ft===0&&(Ft=5)}function xi(t,e,n){var r=He,s=dr.transition;try{dr.transition=null,He=1,Uk(t,e,n,r)}finally{dr.transition=s,He=r}return null}function Uk(t,e,n,r){do Ia();while(Fs!==null);if(Ie&6)throw Error(Y(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(j4(t,i),t===Mt&&(St=Mt=null,Kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sc||(Sc=!0,Uy(Au,function(){return Ia(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dr.transition,dr.transition=null;var o=He;He=1;var l=Ie;Ie|=4,hm.current=null,Mk(t,n),Ry(n,t),uk(mf),Bu=!!pf,mf=pf=null,t.current=n,Lk(n),m4(),Ie=l,He=o,dr.transition=i}else t.current=n;if(Sc&&(Sc=!1,Fs=t,Gu=s),i=t.pendingLanes,i===0&&(Vs=null),v4(n.stateNode),Tn(t,yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wu)throw Wu=!1,t=Rf,Rf=null,t;return Gu&1&&t.tag!==0&&Ia(),i=t.pendingLanes,i&1?t===Of?tl++:(tl=0,Of=t):tl=0,ii(),null}function Ia(){if(Fs!==null){var t=wb(Gu),e=dr.transition,n=He;try{if(dr.transition=null,He=16>t?16:t,Fs===null)var r=!1;else{if(t=Fs,Fs=null,Gu=0,Ie&6)throw Error(Y(331));var s=Ie;for(Ie|=4,ie=t.current;ie!==null;){var i=ie,o=i.child;if(ie.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:Zo(8,d,i)}var f=d.child;if(f!==null)f.return=d,ie=f;else for(;ie!==null;){d=ie;var h=d.sibling,m=d.return;if(By(d),d===u){ie=null;break}if(h!==null){h.return=m,ie=h;break}ie=m}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}ie=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ie=o;else e:for(;ie!==null;){if(i=ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zo(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ie=b;break e}ie=i.return}}var p=t.current;for(ie=p;ie!==null;){o=ie;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,ie=g;else e:for(o=p;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ed(9,l)}}catch(_){mt(l,l.return,_)}if(l===o){ie=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,ie=y;break e}ie=l.return}}if(Ie=s,ii(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(yd,t)}catch{}r=!0}return r}finally{He=n,dr.transition=e}}return!1}function vg(t,e,n){e=Qa(n,e),e=wy(t,e,1),t=Us(t,e,1),e=bn(),t!==null&&(Yl(t,1,e),Tn(t,e))}function mt(t,e,n){if(t.tag===3)vg(t,t,n);else for(;e!==null;){if(e.tag===3){vg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){t=Qa(n,t),t=_y(e,t,1),e=Us(e,t,1),t=bn(),e!==null&&(Yl(e,1,t),Tn(e,t));break}}e=e.return}}function Vk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bn(),t.pingedLanes|=t.suspendedLanes&n,Mt===t&&(Kt&n)===n&&(Ft===4||Ft===3&&(Kt&130023424)===Kt&&500>yt()-pm?Ti(t,0):fm|=n),Tn(t,e)}function qy(t,e){e===0&&(t.mode&1?(e=gc,gc<<=1,!(gc&130023424)&&(gc=4194304)):e=1);var n=bn();t=ps(t,e),t!==null&&(Yl(t,e,n),Tn(t,n))}function Kk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qy(t,n)}function Wk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),qy(t,n)}var $y;$y=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sn.current)Cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Cn=!1,Fk(t,e,n);Cn=!!(t.flags&131072)}else Cn=!1,rt&&e.flags&1048576&&Wb(e,Lu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;du(t,e),t=e.pendingProps;var s=Va(e,cn.current);Oa(e,n),s=om(null,e,r,t,s,n);var i=lm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(r)?(i=!0,Iu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,nm(e),s.updater=Sd,e.stateNode=s,s._reactInternals=e,jf(e,r,t,n),e=Sf(null,e,r,!0,i,n)):(e.tag=0,rt&&i&&Qp(e),pn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(du(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Qk(r),t=yr(r,t),s){case 0:e=Cf(null,e,r,t,n);break e;case 1:e=lg(null,e,r,t,n);break e;case 11:e=ag(null,e,r,t,n);break e;case 14:e=og(null,e,r,yr(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yr(r,s),Cf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yr(r,s),lg(t,e,r,s,n);case 3:e:{if(Cy(e),t===null)throw Error(Y(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Zb(t,e),qu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Qa(Error(Y(423)),e),e=cg(t,e,r,n,s);break e}else if(r!==s){s=Qa(Error(Y(424)),e),e=cg(t,e,r,n,s);break e}else for(Kn=$s(e.stateNode.containerInfo.firstChild),Gn=e,rt=!0,kr=null,n=Xb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ka(),r===s){e=ms(t,e,n);break e}pn(t,e,r,n)}e=e.child}return e;case 5:return ey(e),t===null&&wf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,xf(r,s)?o=null:i!==null&&xf(r,i)&&(e.flags|=32),Ny(t,e),pn(t,e,o,n),e.child;case 6:return t===null&&wf(e),null;case 13:return Sy(t,e,n);case 4:return rm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wa(e,null,r,n):pn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yr(r,s),ag(t,e,r,s,n);case 7:return pn(t,e,e.pendingProps,n),e.child;case 8:return pn(t,e,e.pendingProps.children,n),e.child;case 12:return pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ze(zu,r._currentValue),r._currentValue=o,i!==null)if(Sr(i.value,o)){if(i.children===s.children&&!Sn.current){e=ms(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ls(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),_f(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Y(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_f(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Oa(e,n),s=fr(s),r=r(s),e.flags|=1,pn(t,e,r,n),e.child;case 14:return r=e.type,s=yr(r,e.pendingProps),s=yr(r.type,s),og(t,e,r,s,n);case 15:return ky(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yr(r,s),du(t,e),e.tag=1,En(r)?(t=!0,Iu(e)):t=!1,Oa(e,n),yy(e,r,s),jf(e,r,s,n),Sf(null,e,r,!0,t,n);case 19:return Ey(t,e,n);case 22:return jy(t,e,n)}throw Error(Y(156,e.tag))};function Uy(t,e){return gb(t,e)}function Gk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(t,e,n,r){return new Gk(t,e,n,r)}function vm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qk(t){if(typeof t=="function")return vm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ip)return 11;if(t===Mp)return 14}return 2}function Ws(t,e){var n=t.alternate;return n===null?(n=or(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")vm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case va:return Ai(n.children,s,i,e);case Op:o=8,s|=8;break;case W0:return t=or(12,n,e,s|2),t.elementType=W0,t.lanes=i,t;case G0:return t=or(13,n,e,s),t.elementType=G0,t.lanes=i,t;case Q0:return t=or(19,n,e,s),t.elementType=Q0,t.lanes=i,t;case eb:return Ad(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Jv:o=10;break e;case Zv:o=9;break e;case Ip:o=11;break e;case Mp:o=14;break e;case Es:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=or(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ai(t,e,n,r){return t=or(7,t,r,e),t.lanes=n,t}function Ad(t,e,n,r){return t=or(22,t,r,e),t.elementType=eb,t.lanes=n,t.stateNode={isHidden:!1},t}function kh(t,e,n){return t=or(6,t,null,e),t.lanes=n,t}function jh(t,e,n){return e=or(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sh(0),this.expirationTimes=sh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function bm(t,e,n,r,s,i,o,l,c){return t=new Yk(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=or(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nm(i),t}function Xk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ga,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Vy(t){if(!t)return Js;t=t._reactInternals;e:{if(Xi(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(En(n))return Vb(t,n,e)}return e}function Ky(t,e,n,r,s,i,o,l,c){return t=bm(n,r,!0,t,s,i,o,l,c),t.context=Vy(null),n=t.current,r=bn(),s=Ks(n),i=ls(r,s),i.callback=e??null,Us(n,i,s),t.current.lanes=s,Yl(t,s,r),Tn(t,r),t}function Pd(t,e,n,r){var s=e.current,i=bn(),o=Ks(s);return n=Vy(n),e.context===null?e.context=n:e.pendingContext=n,e=ls(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Us(s,e,o),t!==null&&(Cr(t,s,o,i),lu(t,s,o)),o}function Yu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ym(t,e){bg(t,e),(t=t.alternate)&&bg(t,e)}function Jk(){return null}var Wy=typeof reportError=="function"?reportError:function(t){console.error(t)};function wm(t){this._internalRoot=t}Bd.prototype.render=wm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Pd(t,e,null,null)};Bd.prototype.unmount=wm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$i(function(){Pd(null,t,null,null)}),e[fs]=null}};function Bd(t){this._internalRoot=t}Bd.prototype.unstable_scheduleHydration=function(t){if(t){var e=jb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<As.length&&e!==0&&e<As[n].priority;n++);As.splice(n,0,t),n===0&&Cb(t)}};function _m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yg(){}function Zk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Yu(o);i.call(u)}}var o=Ky(e,r,t,0,null,!1,!1,"",yg);return t._reactRootContainer=o,t[fs]=o.current,Nl(t.nodeType===8?t.parentNode:t),$i(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Yu(c);l.call(u)}}var c=bm(t,0,!1,null,null,!1,!1,"",yg);return t._reactRootContainer=c,t[fs]=c.current,Nl(t.nodeType===8?t.parentNode:t),$i(function(){Pd(e,c,n,r)}),c}function Fd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Yu(o);l.call(c)}}Pd(e,o,t,s)}else o=Zk(n,e,t,s,r);return Yu(o)}_b=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Oo(e.pendingLanes);n!==0&&(Hp(e,n|1),Tn(e,yt()),!(Ie&6)&&(Ya=yt()+500,ii()))}break;case 13:$i(function(){var r=ps(t,1);if(r!==null){var s=bn();Cr(r,t,1,s)}}),ym(t,1)}};qp=function(t){if(t.tag===13){var e=ps(t,134217728);if(e!==null){var n=bn();Cr(e,t,134217728,n)}ym(t,134217728)}};kb=function(t){if(t.tag===13){var e=Ks(t),n=ps(t,e);if(n!==null){var r=bn();Cr(n,t,e,r)}ym(t,e)}};jb=function(){return He};Nb=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};af=function(t,e,n){switch(e){case"input":if(J0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=jd(r);if(!s)throw Error(Y(90));nb(r),J0(r,s)}}}break;case"textarea":sb(t,n);break;case"select":e=n.value,e!=null&&Ba(t,!!n.multiple,e,!1)}};db=mm;hb=$i;var ej={usingClientEntryPoint:!1,Events:[Jl,_a,jd,cb,ub,mm]},No={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tj={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mb(t),t===null?null:t.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||Jk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{yd=Ec.inject(tj),Kr=Ec}catch{}}Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ej;Zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_m(e))throw Error(Y(200));return Xk(t,e,null,n)};Zn.createRoot=function(t,e){if(!_m(t))throw Error(Y(299));var n=!1,r="",s=Wy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=bm(t,1,!1,null,null,n,!1,r,s),t[fs]=e.current,Nl(t.nodeType===8?t.parentNode:t),new wm(e)};Zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=mb(e),t=t===null?null:t.stateNode,t};Zn.flushSync=function(t){return $i(t)};Zn.hydrate=function(t,e,n){if(!Dd(e))throw Error(Y(200));return Fd(null,t,e,!0,n)};Zn.hydrateRoot=function(t,e,n){if(!_m(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Wy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ky(e,null,t,1,n??null,s,!1,i,o),t[fs]=e.current,Nl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Bd(e)};Zn.render=function(t,e,n){if(!Dd(e))throw Error(Y(200));return Fd(null,t,e,!1,n)};Zn.unmountComponentAtNode=function(t){if(!Dd(t))throw Error(Y(40));return t._reactRootContainer?($i(function(){Fd(null,null,t,!1,function(){t._reactRootContainer=null,t[fs]=null})}),!0):!1};Zn.unstable_batchedUpdates=mm;Zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Dd(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return Fd(t,e,n,!1,r)};Zn.version="18.3.1-next-f1338f8080-20240426";function Gy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gy)}catch(t){console.error(t)}}Gy(),Gv.exports=Zn;var nj=Gv.exports,Qy,wg=nj;Qy=wg.createRoot,wg.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _g="popstate";function rj(t={}){function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Lf("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Fl(s)}return ij(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sj(){return Math.random().toString(36).substring(2,10)}function kg(t,e){return{usr:t.state,key:t.key,idx:e}}function Lf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?uo(e):e,state:n,key:e&&e.key||r||sj()}}function Fl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function uo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ij(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){l="POP";let w=d(),b=w==null?null:w-u;u=w,c&&c({action:l,location:v.location,delta:b})}function h(w,b){l="PUSH";let p=Lf(v.location,w,b);u=d()+1;let g=kg(p,u),y=v.createHref(p);try{o.pushState(g,"",y)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(y)}i&&c&&c({action:l,location:v.location,delta:1})}function m(w,b){l="REPLACE";let p=Lf(v.location,w,b);u=d();let g=kg(p,u),y=v.createHref(p);o.replaceState(g,"",y),i&&c&&c({action:l,location:v.location,delta:0})}function x(w){return aj(w)}let v={get action(){return l},get location(){return t(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(_g,f),c=w,()=>{s.removeEventListener(_g,f),c=null}},createHref(w){return e(s,w)},createURL:x,encodeLocation(w){let b=x(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(w){return o.go(w)}};return v}function aj(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Fl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Yy(t,e,n="/"){return oj(t,e,n,!1)}function oj(t,e,n,r){let s=typeof e=="string"?uo(e):e,i=xs(s.pathname||"/",n);if(i==null)return null;let o=Xy(t);lj(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=bj(i);l=gj(o[c],u,r)}return l}function Xy(t,e=[],n=[],r="",s=!1){let i=(o,l,c=s,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;it(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=cs([r,d.relativePath]),h=n.concat(d);o.children&&o.children.length>0&&(it(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Xy(o.children,e,h,f,c)),!(o.path==null&&!o.index)&&e.push({path:f,score:mj(f,o.index),routesMeta:h})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of Jy(o.path))i(o,l,!0,u)}),e}function Jy(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Jy(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function lj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cj=/^:[\w-]+$/,uj=3,dj=2,hj=1,fj=10,pj=-2,jg=t=>t==="*";function mj(t,e){let n=t.split("/"),r=n.length;return n.some(jg)&&(r+=pj),e&&(r+=dj),n.filter(s=>!jg(s)).reduce((s,i)=>s+(cj.test(i)?uj:i===""?hj:fj),r)}function xj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function gj(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=Xu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Xu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:cs([i,f.pathname]),pathnameBase:kj(cs([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=cs([i,f.pathnameBase]))}return o}function Xu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let x=l[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function vj(t,e=!1,n=!0){mr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function bj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function xs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yj(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?uo(t):t;return{pathname:n?n.startsWith("/")?n:wj(n,e):e,search:jj(r),hash:Nj(s)}}function wj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Nh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _j(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function km(t){let e=_j(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function jm(t,e,n,r=!1){let s;typeof t=="string"?s=uo(t):(s={...t},it(!s.pathname||!s.pathname.includes("?"),Nh("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),Nh("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),Nh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?e[f]:"/"}let c=yj(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var cs=t=>t.join("/").replace(/\/\/+/g,"/"),kj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Nj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Cj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Zy=["POST","PUT","PATCH","DELETE"];new Set(Zy);var Sj=["GET",...Zy];new Set(Sj);var ho=S.createContext(null);ho.displayName="DataRouter";var Rd=S.createContext(null);Rd.displayName="DataRouterState";S.createContext(!1);var e2=S.createContext({isTransitioning:!1});e2.displayName="ViewTransition";var Ej=S.createContext(new Map);Ej.displayName="Fetchers";var Tj=S.createContext(null);Tj.displayName="Await";var Er=S.createContext(null);Er.displayName="Navigation";var ec=S.createContext(null);ec.displayName="Location";var Tr=S.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var Nm=S.createContext(null);Nm.displayName="RouteError";function Aj(t,{relative:e}={}){it(fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Er),{hash:s,pathname:i,search:o}=tc(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:cs([n,i])),r.createHref({pathname:l,search:o,hash:s})}function fo(){return S.useContext(ec)!=null}function Rn(){return it(fo(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(ec).location}var t2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n2(t){S.useContext(Er).static||S.useLayoutEffect(t)}function gt(){let{isDataRoute:t}=S.useContext(Tr);return t?Uj():Pj()}function Pj(){it(fo(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(ho),{basename:e,navigator:n}=S.useContext(Er),{matches:r}=S.useContext(Tr),{pathname:s}=Rn(),i=JSON.stringify(km(r)),o=S.useRef(!1);return n2(()=>{o.current=!0}),S.useCallback((c,u={})=>{if(mr(o.current,t2),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=jm(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:cs([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,s,t])}S.createContext(null);function Bj(){let{matches:t}=S.useContext(Tr),e=t[t.length-1];return e?e.params:{}}function tc(t,{relative:e}={}){let{matches:n}=S.useContext(Tr),{pathname:r}=Rn(),s=JSON.stringify(km(n));return S.useMemo(()=>jm(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Dj(t,e){return r2(t,e)}function r2(t,e,n,r,s){var p;it(fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(Er),{matches:o}=S.useContext(Tr),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let g=f&&f.path||"";s2(u,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let h=Rn(),m;if(e){let g=typeof e=="string"?uo(e):e;it(d==="/"||((p=g.pathname)==null?void 0:p.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${g.pathname}" was given in the \`location\` prop.`),m=g}else m=h;let x=m.pathname||"/",v=x;if(d!=="/"){let g=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(g.length).join("/")}let w=Yy(t,{pathname:v});mr(f||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),mr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Mj(w&&w.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:cs([d,i.encodeLocation?i.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:cs([d,i.encodeLocation?i.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),o,n,r,s);return e&&b?S.createElement(ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function Fj(){let t=$j(),e=Cj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,o)}var Rj=S.createElement(Fj,null),Oj=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(Tr.Provider,{value:this.props.routeContext},S.createElement(Nm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ij({routeContext:t,match:e,children:n}){let r=S.useContext(ho);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Tr.Provider,{value:t},n)}function Mj(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);it(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(n)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,f)=>{let h,m=!1,x=null,v=null;n&&(h=o&&d.route.id?o[d.route.id]:void 0,x=d.route.errorElement||Rj,l&&(c<0&&f===0?(s2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,v=null):c===f&&(m=!0,v=d.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,f+1)),b=()=>{let p;return h?p=x:m?p=v:d.route.Component?p=S.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=u,S.createElement(Ij,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:p})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?S.createElement(Oj,{location:n.location,revalidation:n.revalidation,component:x,error:h,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:r}):b()},null)}function Cm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lj(t){let e=S.useContext(ho);return it(e,Cm(t)),e}function zj(t){let e=S.useContext(Rd);return it(e,Cm(t)),e}function Hj(t){let e=S.useContext(Tr);return it(e,Cm(t)),e}function Sm(t){let e=Hj(t),n=e.matches[e.matches.length-1];return it(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qj(){return Sm("useRouteId")}function $j(){var r;let t=S.useContext(Nm),e=zj("useRouteError"),n=Sm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Uj(){let{router:t}=Lj("useNavigate"),e=Sm("useNavigate"),n=S.useRef(!1);return n2(()=>{n.current=!0}),S.useCallback(async(s,i={})=>{mr(n.current,t2),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var Ng={};function s2(t,e,n){!e&&!Ng[t]&&(Ng[t]=!0,mr(!1,n))}S.memo(Vj);function Vj({routes:t,future:e,state:n,unstable_onError:r}){return r2(t,void 0,n,r,e)}function i2({to:t,replace:e,state:n,relative:r}){it(fo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=S.useContext(Er);mr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=S.useContext(Tr),{pathname:o}=Rn(),l=gt(),c=jm(t,km(i),o,r==="path"),u=JSON.stringify(c);return S.useEffect(()=>{l(JSON.parse(u),{replace:e,state:n,relative:r})},[l,u,r,e,n]),null}function pt(t){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kj({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){it(!fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=uo(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=n,m=S.useMemo(()=>{let x=xs(c,o);return x==null?null:{location:{pathname:x,search:u,hash:d,state:f,key:h},navigationType:r}},[o,c,u,d,f,h,r]);return mr(m!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:S.createElement(Er.Provider,{value:l},S.createElement(ec.Provider,{children:e,value:m}))}function Wj({children:t,location:e}){return Dj(zf(t),e)}function zf(t,e=[]){let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,zf(r.props.children,i));return}it(r.type===pt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zf(r.props.children,i)),n.push(o)}),n}var mu="get",xu="application/x-www-form-urlencoded";function Od(t){return t!=null&&typeof t.tagName=="string"}function Gj(t){return Od(t)&&t.tagName.toLowerCase()==="button"}function Qj(t){return Od(t)&&t.tagName.toLowerCase()==="form"}function Yj(t){return Od(t)&&t.tagName.toLowerCase()==="input"}function Xj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Jj(t,e){return t.button===0&&(!e||e==="_self")&&!Xj(t)}function Hf(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Zj(t,e){let n=Hf(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}var Tc=null;function eN(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var tN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ch(t){return t!=null&&!tN.has(t)?(mr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xu}"`),null):t}function nN(t,e){let n,r,s,i,o;if(Qj(t)){let l=t.getAttribute("action");r=l?xs(l,e):null,n=t.getAttribute("method")||mu,s=Ch(t.getAttribute("enctype"))||xu,i=new FormData(t)}else if(Gj(t)||Yj(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?xs(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||mu,s=Ch(t.getAttribute("formenctype"))||Ch(l.getAttribute("enctype"))||xu,i=new FormData(l,t),!eN()){let{name:u,type:d,value:f}=t;if(d==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,f)}}else{if(Od(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mu,r=null,s=xu,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Em(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&xs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function sN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function aN(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await sN(i,n);return o.links?o.links():[]}return[]}));return uN(r.flat(1).filter(iN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Cg(t,e,n,r,s,i){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?e.filter((c,u)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function oN(t,e,{includeHydrateFallback:n}={}){return lN(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function lN(t){return[...new Set(t)]}function cN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function uN(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(cN(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function a2(){let t=S.useContext(ho);return Em(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dN(){let t=S.useContext(Rd);return Em(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Tm=S.createContext(void 0);Tm.displayName="FrameworkContext";function o2(){let t=S.useContext(Tm);return Em(t,"You must render this element inside a <HydratedRouter> element"),t}function hN(t,e){let n=S.useContext(Tm),[r,s]=S.useState(!1),[i,o]=S.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,h=S.useRef(null);S.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let v=b=>{b.forEach(p=>{o(p.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[t]),S.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let m=()=>{s(!0)},x=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,h,{}]:[i,h,{onFocus:Co(l,m),onBlur:Co(c,x),onMouseEnter:Co(u,m),onMouseLeave:Co(d,x),onTouchStart:Co(f,m)}]:[!1,h,{}]}function Co(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function fN({page:t,...e}){let{router:n}=a2(),r=S.useMemo(()=>Yy(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(mN,{page:t,matches:r,...e}):null}function pN(t){let{manifest:e,routeModules:n}=o2(),[r,s]=S.useState([]);return S.useEffect(()=>{let i=!1;return aN(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function mN({page:t,matches:e,...n}){let r=Rn(),{manifest:s,routeModules:i}=o2(),{basename:o}=a2(),{loaderData:l,matches:c}=dN(),u=S.useMemo(()=>Cg(t,e,c,s,r,"data"),[t,e,c,s,r]),d=S.useMemo(()=>Cg(t,e,c,s,r,"assets"),[t,e,c,s,r]),f=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,v=!1;if(e.forEach(b=>{var g;let p=s.routes[b.route.id];!p||!p.hasLoader||(!u.some(y=>y.route.id===b.route.id)&&b.route.id in l&&((g=i[b.route.id])!=null&&g.shouldRevalidate)||p.hasClientLoader?v=!0:x.add(b.route.id))}),x.size===0)return[];let w=rN(t,o,"data");return v&&x.size>0&&w.searchParams.set("_routes",e.filter(b=>x.has(b.route.id)).map(b=>b.route.id).join(",")),[w.pathname+w.search]},[o,l,r,s,u,e,t,i]),h=S.useMemo(()=>oN(d,s),[d,s]),m=pN(d);return S.createElement(S.Fragment,null,f.map(x=>S.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),h.map(x=>S.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),m.map(({key:x,link:v})=>S.createElement("link",{key:x,nonce:n.nonce,...v})))}function xN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var l2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{l2&&(window.__reactRouterVersion="7.9.4")}catch{}function gN({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=rj({window:n,v5Compat:!0}));let s=r.current,[i,o]=S.useState({action:s.action,location:s.location}),l=S.useCallback(c=>{S.startTransition(()=>o(c))},[o]);return S.useLayoutEffect(()=>s.listen(l),[s,l]),S.createElement(Kj,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var c2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u2=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:x}=S.useContext(Er),v=typeof u=="string"&&c2.test(u),w,b=!1;if(typeof u=="string"&&v&&(w=u,l2))try{let T=new URL(window.location.href),N=u.startsWith("//")?new URL(T.protocol+u):new URL(u),B=xs(N.pathname,x);N.origin===T.origin&&B!=null?u=B+N.search+N.hash:b=!0}catch{mr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=Aj(u,{relative:s}),[g,y,_]=hN(r,h),j=wN(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function k(T){e&&e(T),T.defaultPrevented||j(T)}let C=S.createElement("a",{...h,..._,href:w||p,onClick:b||i?e:k,ref:xN(m,y),target:c,"data-discover":!v&&n==="render"?"true":void 0});return g&&!v?S.createElement(S.Fragment,null,C,S.createElement(fN,{page:p})):C});u2.displayName="Link";var vN=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...u},d){let f=tc(o,{relative:u.relative}),h=Rn(),m=S.useContext(Rd),{navigator:x,basename:v}=S.useContext(Er),w=m!=null&&CN(f)&&l===!0,b=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,p=h.pathname,g=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(p=p.toLowerCase(),g=g?g.toLowerCase():null,b=b.toLowerCase()),g&&v&&(g=xs(g,v)||g);const y=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let _=p===b||!s&&p.startsWith(b)&&p.charAt(y)==="/",j=g!=null&&(g===b||!s&&g.startsWith(b)&&g.charAt(b.length)==="/"),k={isActive:_,isPending:j,isTransitioning:w},C=_?e:void 0,T;typeof r=="function"?T=r(k):T=[r,_?"active":null,j?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let N=typeof i=="function"?i(k):i;return S.createElement(u2,{...u,"aria-current":C,className:T,ref:d,style:N,to:o,viewTransition:l},typeof c=="function"?c(k):c)});vN.displayName="NavLink";var bN=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=mu,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let x=jN(),v=NN(l,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&c2.test(l),p=g=>{if(c&&c(g),g.defaultPrevented)return;g.preventDefault();let y=g.nativeEvent.submitter,_=(y==null?void 0:y.getAttribute("formmethod"))||o;x(y||g.currentTarget,{fetcherKey:e,method:_,navigate:n,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return S.createElement("form",{ref:m,method:w,action:v,onSubmit:r?c:p,...h,"data-discover":!b&&t==="render"?"true":void 0})});bN.displayName="Form";function yN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d2(t){let e=S.useContext(ho);return it(e,yN(t)),e}function wN(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=gt(),c=Rn(),u=tc(t,{relative:i});return S.useCallback(d=>{if(Jj(d,e)){d.preventDefault();let f=n!==void 0?n:Fl(c)===Fl(u);l(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,n,r,e,t,s,i,o])}function Id(t){mr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=S.useRef(Hf(t)),n=S.useRef(!1),r=Rn(),s=S.useMemo(()=>Zj(r.search,n.current?null:e.current),[r.search]),i=gt(),o=S.useCallback((l,c)=>{const u=Hf(typeof l=="function"?l(new URLSearchParams(s)):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}var _N=0,kN=()=>`__${String(++_N)}__`;function jN(){let{router:t}=d2("useSubmit"),{basename:e}=S.useContext(Er),n=qj();return S.useCallback(async(r,s={})=>{let{action:i,method:o,encType:l,formData:c,body:u}=nN(r,e);if(s.navigate===!1){let d=s.fetcherKey||kN();await t.fetch(d,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function NN(t,{relative:e}={}){let{basename:n}=S.useContext(Er),r=S.useContext(Tr);it(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...tc(t||".",{relative:e})},o=Rn();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:cs([n,i.pathname])),Fl(i)}function CN(t,{relative:e}={}){let n=S.useContext(e2);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=d2("useViewTransitionState"),s=tc(t,{relative:e});if(!n.isTransitioning)return!1;let i=xs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=xs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Xu(s.pathname,o)!=null||Xu(s.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),re=(t,e)=>{const n=S.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>S.createElement("svg",{ref:d,...SN,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${EN(t)}`,l].join(" "),...u},[...e.map(([f,h])=>S.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=re("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=re("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=re("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=re("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=re("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=re("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=re("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=re("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=re("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=re("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=re("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=re("Laugh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z",key:"b2q4dd"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=re("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=re("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=re("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=re("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=re("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=re("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=re("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=re("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=re("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=re("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=re("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=re("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=re("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=re("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=re("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=re("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=re("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=re("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=re("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=re("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=re("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),e3="modulepreload",t3=function(t){return"/"+t},Ag={},rc=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=t3(c),c in Ag)return;Ag[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":e3,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},n3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>rc(async()=>{const{default:r}=await Promise.resolve().then(()=>po);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Bm extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class r3 extends Bm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pg extends Bm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Bg extends Bm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Uf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Uf||(Uf={}));var s3=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class i3{constructor(e,{headers:n={},customFetch:r,region:s=Uf.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=n3(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return s3(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(v=>{throw new r3(v)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Pg(f);if(!f.ok)throw new Bg(f);let m=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return m==="application/json"?x=yield f.json():m==="application/octet-stream"?x=yield f.blob():m==="text/event-stream"?x=f:m==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Bg||s instanceof Pg?s.context:void 0}}})}}var Nn={},Dm={},zd={},sc={},Hd={},qd={},a3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Za=a3();const o3=Za.fetch,S2=Za.fetch.bind(Za),E2=Za.Headers,l3=Za.Request,c3=Za.Response,po=Object.freeze(Object.defineProperty({__proto__:null,Headers:E2,Request:l3,Response:c3,default:S2,fetch:o3},Symbol.toStringTag,{value:"Module"})),u3=Ov(po);var $d={};Object.defineProperty($d,"__esModule",{value:!0});let d3=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};$d.default=d3;var T2=ge&&ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qd,"__esModule",{value:!0});const h3=T2(u3),f3=T2($d);let p3=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=h3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,f=null,h=null,m=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=p:f=JSON.parse(p))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),b=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await i.text();try{d=JSON.parse(w),Array.isArray(d)&&i.status===404&&(f=[],d=null,m=200,x="OK")}catch{i.status===404&&w===""?(m=204,x="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,x="OK"),d&&this.shouldThrowOnError)throw new f3.default(d)}return{error:d,data:f,count:h,status:m,statusText:x}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};qd.default=p3;var m3=ge&&ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hd,"__esModule",{value:!0});const x3=m3(qd);let g3=class extends x3.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Hd.default=g3;var v3=ge&&ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sc,"__esModule",{value:!0});const b3=v3(Hd);let y3=class extends b3.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};sc.default=y3;var w3=ge&&ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zd,"__esModule",{value:!0});const So=w3(sc);let _3=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new So.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new So.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new So.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new So.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new So.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};zd.default=_3;var A2=ge&&ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dm,"__esModule",{value:!0});const k3=A2(zd),j3=A2(sc);let N3=class P2{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new k3.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new P2(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new j3.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Dm.default=N3;var mo=ge&&ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.PostgrestError=Nn.PostgrestBuilder=Nn.PostgrestTransformBuilder=Nn.PostgrestFilterBuilder=Nn.PostgrestQueryBuilder=Nn.PostgrestClient=void 0;const B2=mo(Dm);Nn.PostgrestClient=B2.default;const D2=mo(zd);Nn.PostgrestQueryBuilder=D2.default;const F2=mo(sc);Nn.PostgrestFilterBuilder=F2.default;const R2=mo(Hd);Nn.PostgrestTransformBuilder=R2.default;const O2=mo(qd);Nn.PostgrestBuilder=O2.default;const I2=mo($d);Nn.PostgrestError=I2.default;var C3=Nn.default={PostgrestClient:B2.default,PostgrestQueryBuilder:D2.default,PostgrestFilterBuilder:F2.default,PostgrestTransformBuilder:R2.default,PostgrestBuilder:O2.default,PostgrestError:I2.default};const{PostgrestClient:S3,PostgrestQueryBuilder:iE,PostgrestFilterBuilder:aE,PostgrestTransformBuilder:oE,PostgrestBuilder:lE,PostgrestError:cE}=C3;class E3{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const T3="2.15.5",A3=`realtime-js/${T3}`,P3="1.0.0",Vf=1e4,B3=1e3,D3=100;var nl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(nl||(nl={}));var Tt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Tt||(Tt={}));var _r;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(_r||(_r={}));var Kf;(function(t){t.websocket="websocket"})(Kf||(Kf={}));var wi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(wi||(wi={}));class F3{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class M2{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Xe||(Xe={}));const Dg=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=R3(o,t,e,s),i),{})},R3=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?L2(i,o):Wf(o)},L2=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return L3(e,n)}switch(t){case Xe.bool:return O3(e);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return I3(e);case Xe.json:case Xe.jsonb:return M3(e);case Xe.timestamp:return z3(e);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return Wf(e);default:return Wf(e)}},Wf=t=>t,O3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},I3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},M3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},L3=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>L2(e,l))}return t},z3=t=>typeof t=="string"?t.replace(" ","T"):t,z2=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Th{constructor(e,n,r={},s=Vf){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Fg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Fg||(Fg={}));class rl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=rl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=rl.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),x=d.filter(w=>m.indexOf(w.presence_ref)<0),v=f.filter(w=>h.indexOf(w.presence_ref)<0);x.length>0&&(l[u]=x),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);e[l].unshift(...h)}r(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Rg||(Rg={}));var sl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(sl||(sl={}));var es;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(es||(es={}));class Fm{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Th(this,_r.join,this.params,this.timeout),this.rejoinTimer=new M2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_r.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new rl(this),this.broadcastEndpointURL=z2(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Tt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[sl.PRESENCE]&&this.bindings[sl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(es.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(es.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var x;if(this.socket.setAuth(),m===void 0){e==null||e(es.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,w=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,b=[];for(let p=0;p<w;p++){const g=v[p],{filter:{event:y,schema:_,table:j,filter:k}}=g,C=m&&m[p];if(C&&C.event===y&&C.schema===_&&C.table===j&&C.filter===k)b.push(Object.assign(Object.assign({},g),{id:C.id}));else{this.unsubscribe(),this.state=Tt.errored,e==null||e(es.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(es.SUBSCRIBED);return}}).receive("error",m=>{this.state=Tt.errored,e==null||e(es.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(es.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Tt.joined&&e===sl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Tt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_r.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Th(this,_r.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Th(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>D3){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=_r;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var x,v,w;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(v=m.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var x,v,w,b,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const y=m.id,_=(x=m.filter)===null||x===void 0?void 0:x.event;return y&&((v=n.ids)===null||v===void 0?void 0:v.includes(y))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const y=(p=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return y==="*"||y===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:v,table:w,commit_timestamp:b,type:p,errors:g}=x;h=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:b,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(x))}m.callback(h,r)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Fm.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_r.close,{},e)}_onError(e){this._on(_r.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Dg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Dg(e.columns,e.old_record)),n}}const Ah=()=>{},Pc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},H3=[1e3,2e3,5e3,1e4],q3=1e4,$3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class U3{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vf,this.transport=null,this.heartbeatIntervalMs=Pc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ah,this.ref=0,this.reconnectTimer=null,this.logger=Ah,this.conn=null,this.sendBuffer=[],this.serializer=new F3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>rc(async()=>{const{default:l}=await Promise.resolve().then(()=>po);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Kf.websocket}`,this.httpEndpoint=z2(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=E3.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:P3}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case nl.connecting:return wi.Connecting;case nl.open:return wi.Open;case nl.closing:return wi.Closing;default:return wi.Closed}}isConnected(){return this.connectionState()===wi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Fm(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(B3,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Pc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_r.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([$3],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:A3};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(_r.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new M2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,c,u,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Vf,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Pc.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Ah,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:f=>H3[f-1]||q3,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Rm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Pt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class V3 extends Rm{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gf extends Rm{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var K3=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const H2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>rc(async()=>{const{default:r}=await Promise.resolve().then(()=>po);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},W3=()=>K3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rc(()=>Promise.resolve().then(()=>po),void 0)).Response:Response}),Qf=t=>{if(Array.isArray(t))return t.map(n=>Qf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Qf(r)}),e},G3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Ji=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const Ph=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Q3=(t,e,n)=>Ji(void 0,void 0,void 0,function*(){const r=yield W3();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new V3(Ph(s),i,o))}).catch(s=>{e(new Gf(Ph(s),s))}):e(new Gf(Ph(t),t))}),Y3=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(G3(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function ic(t,e,n,r,s,i){return Ji(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,Y3(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Q3(c,l,r))})})}function rd(t,e,n,r){return Ji(this,void 0,void 0,function*(){return ic(t,"GET",e,n,r)})}function Ir(t,e,n,r,s){return Ji(this,void 0,void 0,function*(){return ic(t,"POST",e,r,s,n)})}function Yf(t,e,n,r,s){return Ji(this,void 0,void 0,function*(){return ic(t,"PUT",e,r,s,n)})}function X3(t,e,n,r){return Ji(this,void 0,void 0,function*(){return ic(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function q2(t,e,n,r,s){return Ji(this,void 0,void 0,function*(){return ic(t,"DELETE",e,r,s,n)})}var un=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const J3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Og={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Z3{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=H2(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return un(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Og),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(e=="PUT"?Yf:Ir)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}upload(e,n,r){return un(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return un(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Og.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Yf(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Pt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return un(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ir(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Rm("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}update(e,n,r){return un(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return un(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return un(this,void 0,void 0,function*(){try{return{data:{path:(yield Ir(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return un(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ir(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return un(this,void 0,void 0,function*(){try{const s=yield Ir(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}})}download(e,n){return un(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield rd(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pt(l))return{data:null,error:l};throw l}})}info(e){return un(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield rd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qf(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}exists(e){return un(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield X3(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r)&&r instanceof Gf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return un(this,void 0,void 0,function*(){try{return{data:yield q2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}list(e,n,r){return un(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},J3),n),{prefix:e||""});return{data:yield Ir(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}})}listV2(e,n){return un(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ir(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const e5="2.12.1",t5={"X-Client-Info":`storage-js/${e5}`};var ra=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class n5{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},t5),n),this.fetch=H2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ra(this,void 0,void 0,function*(){try{return{data:yield rd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Pt(e))return{data:null,error:e};throw e}})}getBucket(e){return ra(this,void 0,void 0,function*(){try{return{data:yield rd(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ra(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return ra(this,void 0,void 0,function*(){try{return{data:yield Yf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ra(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ra(this,void 0,void 0,function*(){try{return{data:yield q2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}}class r5 extends n5{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Z3(this.url,this.headers,e,this.fetch)}}const s5="2.57.4";let Lo="";typeof Deno<"u"?Lo="deno":typeof document<"u"?Lo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lo="react-native":Lo="node";const i5={"X-Client-Info":`supabase-js-${Lo}/${s5}`},a5={headers:i5},o5={schema:"public"},l5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},c5={};var u5=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const d5=t=>{let e;return t?e=t:typeof fetch>"u"?e=S2:e=fetch,(...n)=>e(...n)},h5=()=>typeof Headers>"u"?E2:Headers,f5=(t,e,n)=>{const r=d5(n),s=h5();return(i,o)=>u5(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var p5=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};function m5(t){return t.endsWith("/")?t:t+"/"}function x5(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>p5(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function g5(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(m5(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $2="2.71.1",fa=30*1e3,Xf=3,Bh=Xf*fa,v5="http://localhost:9999",b5="supabase.auth.token",y5={"X-Client-Info":`gotrue-js/${$2}`},Jf="X-Supabase-Api-Version",U2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_5=10*60*1e3;class Om extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ke(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class k5 extends Om{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function j5(t){return ke(t)&&t.name==="AuthApiError"}class V2 extends Om{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ai extends Om{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Ns extends ai{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function N5(t){return ke(t)&&t.name==="AuthSessionMissingError"}class Bc extends ai{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dc extends ai{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Fc extends ai{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function C5(t){return ke(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ig extends ai{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zf extends ai{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Dh(t){return ke(t)&&t.name==="AuthRetryableFetchError"}class Mg extends ai{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ep extends ai{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lg=` 	
\r=`.split(""),S5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Lg.length;e+=1)t[Lg[e].charCodeAt(0)]=-2;for(let e=0;e<sd.length;e+=1)t[sd[e].charCodeAt(0)]=e;return t})();function zg(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(sd[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(sd[r]),e.queuedBits-=6}}function K2(t,e,n){const r=S5[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Hg(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{A5(o,r,n)};for(let o=0;o<t.length;o+=1)K2(t.charCodeAt(o),s,i);return e.join("")}function E5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function T5(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}E5(r,e)}}function A5(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function P5(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)K2(t.charCodeAt(s),n,r);return new Uint8Array(e)}function B5(t){const e=[];return T5(t,n=>e.push(n)),new Uint8Array(e)}function D5(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>zg(s,n,r)),zg(null,n,r),e.join("")}function F5(t){return Math.round(Date.now()/1e3)+t}function R5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const vr=()=>typeof window<"u"&&typeof document<"u",di={tested:!1,writable:!1},W2=()=>{if(!vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(di.tested)return di.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),di.tested=!0,di.writable=!0}catch{di.tested=!0,di.writable=!1}return di.writable};function O5(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const G2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>rc(async()=>{const{default:r}=await Promise.resolve().then(()=>po);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},I5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",pa=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},hi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ks=async(t,e)=>{await t.removeItem(e)};class Ud{constructor(){this.promise=new Ud.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ud.promiseConstructor=Promise;function Fh(t){const e=t.split(".");if(e.length!==3)throw new ep("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!w5.test(e[r]))throw new ep("JWT not in base64url format");return{header:JSON.parse(Hg(e[0])),payload:JSON.parse(Hg(e[1])),signature:P5(e[2]),raw:{header:e[0],payload:e[1]}}}async function M5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function L5(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function z5(t){return("0"+t.toString(16)).substr(-2)}function H5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,z5).join("")}async function q5(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function $5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await q5(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sa(t,e,n=!1){const r=H5();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await pa(t,`${e}-code-verifier`,s);const i=await $5(r);return[i,r===i?"plain":"s256"]}const U5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function V5(t){const e=t.headers.get(Jf);if(!e||!e.match(U5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function K5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function W5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const G5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ia(t){if(!G5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rh(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qg(t){return JSON.parse(JSON.stringify(t))}var Q5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const gi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Y5=[502,503,504];async function $g(t){var e;if(!I5(t))throw new Zf(gi(t),0);if(Y5.includes(t.status))throw new Zf(gi(t),t.status);let n;try{n=await t.json()}catch(i){throw new V2(gi(i),i)}let r;const s=V5(t);if(s&&s.getTime()>=U2["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Mg(gi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ns}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Mg(gi(n),t.status,n.weak_password.reasons);throw new k5(gi(n),t.status||500,r)}const X5=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ee(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Jf]||(i[Jf]=U2["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await J5(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function J5(t,e,n,r,s,i){const o=X5(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new Zf(gi(c),0)}if(l.ok||await $g(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await $g(c)}}function Jr(t){var e;let n=null;nC(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=F5(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ug(t){const e=Jr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Bs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Z5(t){return{data:t,error:null}}function eC(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Q5(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function tC(t){return t}function nC(t){return t.access_token&&t.refresh_token&&t.expires_in}const Oh=["global","local","others"];var rC=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class sC{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=G2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Oh[0]){if(Oh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Oh.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Bs})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=rC(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:eC,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Bs})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:tC});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ke(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ia(e);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Bs})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ia(e);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Bs})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ia(e);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Bs})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ia(e.userId);try{const{data:n,error:r}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ia(e.userId),ia(e.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}}function Vg(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function iC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const aa={debug:!!(globalThis&&W2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Q2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class aC extends Q2{}async function oC(t,e,n){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),aa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new aC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(aa.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}iC();const lC={url:v5,storageKey:b5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:y5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Kg(t,e,n){return await n()}const oa={};class Il{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Il.nextInstanceID,Il.nextInstanceID+=1,this.instanceID>0&&vr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},lC),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new sC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=G2(s.fetch),this.lock=s.lock||Kg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:vr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=oC:this.lock=Kg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:W2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vg(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Vg(this.memoryStorage)),vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=oa[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){oa[this.storageKey]=Object.assign(Object.assign({},oa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=oa[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){oa[this.storageKey]=Object.assign(Object.assign({},oa[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$2}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=O5(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),vr()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),C5(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ke(n)?{error:n}:{error:new V2("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Jr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await sa(this.storage,this.storageKey)),i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},xform:Jr})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Jr})}else throw new Dc("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ug})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ug})}else throw new Dc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Bc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,c,u,d,f,h,m;let x,v;if("message"in e)x=e.message,v=e.signature;else{const{chain:w,wallet:b,statement:p,options:g}=e;let y;if(vr())if(typeof b=="object")y=b;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))y=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=b}const _=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const j=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),p?{statement:p}:null));let k;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")k=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)k=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)x=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),v=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const j=await y.signMessage(new TextEncoder().encode(x),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=j}}try{const{data:w,error:b}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:D5(v)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Jr});if(b)throw b;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Bc}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:b})}catch(w){if(ke(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await hi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Jr});if(await ks(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Bc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ke(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Jr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Bc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await sa(this.storage,this.storageKey));const{error:f}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Dc("You must provide either an email or phone number.")}catch(l){if(ke(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Jr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ke(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await sa(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Z5})}catch(i){if(ke(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ns;const{error:s}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ke(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Dc("You must provide either an email or phone number and a type")}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await hi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Bh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await hi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Rh()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Bs}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ns}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Bs})})}catch(n){if(ke(n))return N5(n)&&(await this._removeSession(),await ks(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ns;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await sa(this.storage,this.storageKey));const{data:u,error:d}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Bs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ns;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Fh(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ke(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ns;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!vr())throw new Fc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Fc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ig("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ig("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new Fc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const b={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(r){if(ke(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await hi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(j5(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await ks(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=R5(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await sa(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ke(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return vr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ke(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await L5(async s=>(s>0&&await M5(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Jr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Dh(i)&&Date.now()+o-r<fa})}catch(r){if(this._debug(n,"error",r),ke(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),vr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await hi(this.storage,this.storageKey);if(s&&this.userStorage){let o=await hi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await pa(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Rh()}else if(s&&!s.user&&!s.user){const o=await hi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ks(this.storage,this.storageKey+"-user"),await pa(this.storage,this.storageKey,s)):s.user=Rh()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bh;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Bh}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Dh(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ud;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ns;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),ke(i)){const o={session:null,error:i};return Dh(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await pa(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=qg(s);await pa(this.storage,this.storageKey,i)}else{const s=qg(n);await pa(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ks(this.storage,this.storageKey),await ks(this.storage,this.storageKey+"-code-verifier"),await ks(this.storage,this.storageKey+"-user"),this.userStorage&&await ks(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${fa}ms, refresh threshold is ${Xf} ticks`),s<=Xf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Q2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await sa(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(ke(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ke(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Fh(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+_5>s)return r;const{data:i,error:o}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Fh(r);n!=null&&n.allowExpired||K5(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=W5(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,B5(`${l}.${c}`)))throw new ep("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}}Il.nextInstanceID=0;const cC=Il;class uC extends cC{constructor(e){super(e)}}var dC=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class hC{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=g5(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:o5,realtime:c5,auth:Object.assign(Object.assign({},l5),{storageKey:c}),global:a5},d=x5(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=f5(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new S3(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new r5(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new i3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return dC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uC({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new U3(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fC=(t,e,n)=>new hC(t,e,n);function pC(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}pC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Y2=void 0,mC=void 0,Wg="Supabase environment variables are not set. Provide VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY to enable live data.",xC=()=>{const t=(()=>{let s=!1;return()=>{s||(s=!0,console.warn(Wg))}})(),e=s=>(t(),Promise.resolve({data:s,error:new Error(Wg)})),n=s=>(t(),Promise.resolve({data:s,error:null})),r=()=>{const s=e(null),i={select:(...o)=>i,insert:(...o)=>s,update:(...o)=>s,delete:(...o)=>s,eq:(...o)=>i,neq:(...o)=>i,gt:(...o)=>i,gte:(...o)=>i,lt:(...o)=>i,lte:(...o)=>i,single:(...o)=>s,order:(...o)=>i,limit:(...o)=>i,then:s.then.bind(s),catch:s.catch.bind(s),finally:s.finally.bind(s)};return i};return{auth:{signInWithPassword:(...s)=>e({user:null,session:null}),signUp:(...s)=>e({user:null,session:null}),signOut:(...s)=>n(void 0),getSession:(...s)=>n({session:null}),getUser:(...s)=>n({user:null}),signInWithOAuth:(...s)=>n({data:{provider:null,url:null},error:null}),resetPasswordForEmail:(...s)=>n({}),onAuthStateChange:(...s)=>({data:{subscription:{unsubscribe:()=>{}}},error:null})},from:(...s)=>r(),storage:{from:(...s)=>({upload:(...i)=>e(null),download:(...i)=>e(null),getPublicUrl:(...i)=>({data:{publicUrl:""}})})}}},Ue=!!Y2,le=Ue?fC(Y2,mC):xC(),Rc="local_users",Oc="local_current_user",Ih="local_shops",Gg=[{id:"admin-1",email:"admin@echoes.vn",password:"admin123",display_name:"Admin User",role:"admin",stars:500,phone:"0901234560",is_email_verified:!0,is_phone_verified:!0,created_at:new Date().toISOString()},{id:"admin-2",email:"admin2@echoes.vn",password:"admin123",display_name:"Admin Two",role:"admin",stars:450,is_email_verified:!0,is_phone_verified:!0,created_at:new Date().toISOString()},{id:"admin-3",email:"admin3@echoes.vn",password:"admin123",display_name:"Admin Three",role:"admin",stars:400,is_email_verified:!0,is_phone_verified:!0,created_at:new Date().toISOString()},{id:"user-1",email:"user1@echoes.vn",password:"user123",display_name:"Nguyen Van A",role:"user",stars:50,phone:"0901234567",is_email_verified:!0,is_phone_verified:!0,created_at:new Date().toISOString()},{id:"user-2",email:"user2@echoes.vn",password:"user123",display_name:"Tran Thi B",role:"user",stars:150,phone:"0901234568",is_email_verified:!0,is_phone_verified:!0,created_at:new Date().toISOString()},{id:"user-3",email:"user3@echoes.vn",password:"user123",display_name:"Le Van C",role:"user",stars:250,phone:"0901234569",is_email_verified:!0,is_phone_verified:!0,created_at:new Date().toISOString()},{id:"user-4",email:"user4@echoes.vn",password:"user123",display_name:"Pham Thi D",role:"user",stars:180,phone:"0901234570",is_email_verified:!0,is_phone_verified:!0,created_at:new Date().toISOString()},{id:"user-5",email:"user5@echoes.vn",password:"user123",display_name:"Hoang Van E",role:"user",stars:300,phone:"0901234571",is_email_verified:!0,is_phone_verified:!0,created_at:new Date().toISOString()},{id:"shop-1",email:"shop1@echoes.vn",password:"shop123",display_name:"Heritage Crafts Owner",role:"shopOwner",stars:300,phone:"0901234572",shop_id:"shop-basic-1",is_email_verified:!0,is_phone_verified:!0,created_at:new Date().toISOString()},{id:"shop-2",email:"shop2@echoes.vn",password:"shop123",display_name:"Vintage Treasures Owner",role:"shopOwner",stars:500,phone:"0901234573",shop_id:"shop-pro-1",is_email_verified:!0,is_phone_verified:!0,created_at:new Date().toISOString()}],Qg=[{id:"shop-basic-1",owner_id:"shop-1",shop_name:"Heritage Crafts",package_type:"BASIC",revenue:0,revenue_limit:1e7,created_at:new Date().toISOString()},{id:"shop-pro-1",owner_id:"shop-2",shop_name:"Vintage Treasures",package_type:"PRO",revenue:0,revenue_limit:3e7,created_at:new Date().toISOString()}];class gC{constructor(){this.initializeStorage()}initializeStorage(){localStorage.getItem(Rc)||(localStorage.setItem(Rc,JSON.stringify(Gg)),console.log(" Local auth initialized with",Gg.length,"users")),localStorage.getItem(Ih)||(localStorage.setItem(Ih,JSON.stringify(Qg)),console.log(" Local shops initialized with",Qg.length,"shops"))}getUsers(){const e=localStorage.getItem(Rc);return e?JSON.parse(e):[]}getShops(){const e=localStorage.getItem(Ih);return e?JSON.parse(e):[]}saveUsers(e){localStorage.setItem(Rc,JSON.stringify(e))}async login(e,n){const s=this.getUsers().find(o=>o.email===e&&o.password===n);if(!s)return{user:null,error:"Email hoc mt khu khng ng"};const i={...s};return delete i.password,localStorage.setItem(Oc,JSON.stringify(i)),console.log(" Login successful:",s.email,"| Role:",s.role),{user:s,error:null}}getCurrentUser(){const e=localStorage.getItem(Oc);return e?JSON.parse(e):null}async getUserProfile(e){const n=this.getUsers(),r=this.getShops(),s=n.find(o=>o.id===e);if(!s)return{profile:null,shop:null};const i=s.shop_id?r.find(o=>o.id===s.shop_id):null;return{profile:s,shop:i||null}}logout(){localStorage.removeItem(Oc),console.log(" Logout successful")}async register(e){const n=this.getUsers();if(n.find(s=>s.email===e.email))return{user:null,error:"Email  c s dng"};const r={id:`user-${Date.now()}`,email:e.email,password:e.password,display_name:e.display_name,role:"user",stars:0,phone:e.phone,date_of_birth:e.date_of_birth,is_email_verified:!0,is_phone_verified:!1,created_at:new Date().toISOString()};return n.push(r),this.saveUsers(n),console.log(" Registration successful:",r.email),{user:r,error:null}}isAuthenticated(){return!!this.getCurrentUser()}getUserRole(){const e=this.getCurrentUser();return e?e.role:null}async updateUserStars(e,n){const r=this.getUsers(),s=r.findIndex(o=>o.id===e);if(s===-1)return!1;r[s].stars=n,this.saveUsers(r);const i=this.getCurrentUser();return i&&i.id===e&&(i.stars=n,localStorage.setItem(Oc,JSON.stringify(i))),!0}isEligibleForShop(e){const r=this.getUsers().find(s=>s.id===e);return r?r.stars>=200:!1}}const _t=new gC;function vC(){const[t,e]=S.useState(!1),[n,r]=S.useState(null),[s,i]=S.useState(!1),o=gt(),l=Rn(),c=S.useRef(null),u=l.pathname==="/admin-dashboard",d=[{id:"home",label:"HOME",path:"/"},{id:"history",label:"HISTORY",path:"/history",subItems:[{label:"French Era",path:"/history?era=french&phase=antiFrench"},{label:"American Era",path:"/history?era=american&phase=antiAmerican"}]},{id:"shop",label:"SHOP",path:"/shop"},{id:"forum",label:"FORUM",path:"/forum"},{id:"services",label:"SERVICES",path:"/services"},{id:"contact",label:"CONTACT",path:"/contact"}],f=[{icon:v2,label:"Instagram",url:"#"},{icon:m2,label:"Facebook",url:"#"},{icon:C2,label:"YouTube",url:"#"},{icon:Md,label:"TikTok",url:"#"}],h=b=>{o(b),e(!1),i(!1)};S.useEffect(()=>{l.pathname!=="/login"&&sessionStorage.setItem("lastVisitedPath",l.pathname)},[l.pathname]),S.useEffect(()=>{u&&e(!1)},[u]),S.useEffect(()=>{(async()=>{try{if(Ue){const{data:{user:p}}=await le.auth.getUser();if(!p){r(null);return}const{data:g}=await le.from("profiles").select("id, display_name, email, role, avatar_url").eq("id",p.id).single();r(g?{id:g.id,displayName:g.display_name||p.email||"Thnh vin",email:g.email||p.email||"",role:g.role||"user",avatarUrl:g.avatar_url||null}:{id:p.id,displayName:p.email||"Thnh vin",email:p.email||"",role:"user",avatarUrl:null})}else{const p=_t.getCurrentUser();if(!p){r(null);return}const{profile:g}=await _t.getUserProfile(p.id);if(g){const{password:y,..._}=g;r({id:_.id,displayName:_.display_name,email:_.email,role:_.role,avatarUrl:null})}else r(null)}}catch(p){console.error("Khng th ti thng tin ngi dng:",p),r(null)}})()},[l.pathname]),S.useEffect(()=>{if(!Ue)return;const{data:b}=le.auth.onAuthStateChange(()=>{(async()=>{try{const{data:{user:p}}=await le.auth.getUser();if(!p){r(null);return}const{data:g}=await le.from("profiles").select("id, display_name, email, role, avatar_url").eq("id",p.id).single();g&&r({id:g.id,displayName:g.display_name||p.email||"Thnh vin",email:g.email||p.email||"",role:g.role||"user",avatarUrl:g.avatar_url||null})}catch{r(null)}})()});return()=>{b==null||b.subscription.unsubscribe()}},[]),S.useEffect(()=>{const b=p=>{c.current&&!c.current.contains(p.target)&&i(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),S.useEffect(()=>{if(typeof window>"u")return;const b=new CustomEvent("sidebar:toggle",{detail:{isOpen:t}});window.dispatchEvent(b)},[t]),S.useEffect(()=>typeof window>"u"?()=>{}:()=>{const b=new CustomEvent("sidebar:toggle",{detail:{isOpen:!1}});window.dispatchEvent(b)},[]);const m=async()=>{try{Ue?await le.auth.signOut():_t.logout()}catch(b){console.error("Khng th ng xut:",b)}finally{r(null),i(!1),o("/")}},x=()=>{const b=l.pathname!=="/login"?l.pathname:sessionStorage.getItem("lastVisitedPath")||"/";o("/login",{state:{from:b}}),e(!1)},v=b=>{switch(b){case"admin":return"from-rose-500 via-rose-400 to-orange-400";case"shopOwner":return"from-purple-500 via-indigo-500 to-blue-500";default:return"from-blue-500 via-sky-500 to-cyan-500"}},w=b=>{switch(b){case"admin":return a.jsx(Xa,{className:"h-3.5 w-3.5"});case"shopOwner":return a.jsx(Zu,{className:"h-3.5 w-3.5"});default:return a.jsx(Pi,{className:"h-3.5 w-3.5"})}};return a.jsxs(a.Fragment,{children:[!u&&a.jsx("button",{onClick:()=>e(!t),className:"fixed top-6 left-6 z-50 flex h-14 w-14 items-center justify-center rounded-full bg-white/80 text-charcoal-900 shadow-brand transition hover:bg-white","aria-label":"Toggle Menu",type:"button",children:t?a.jsx(nd,{size:22}):a.jsx($N,{size:22})}),a.jsx("div",{className:"fixed top-6 right-6 z-50 flex items-center gap-3",ref:c,children:n?a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:`flex items-center gap-2 ${u?"rounded-full bg-slate-900/80 p-1 pl-1 pr-2 shadow-xl shadow-indigo-200/60 backdrop-blur":""}`,children:[a.jsxs("button",{onClick:()=>i(b=>!b),className:`flex items-center gap-3 rounded-full px-3 py-2 text-white transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-transparent ${u?"bg-gradient-to-r from-rose-500 via-purple-500 to-indigo-500 shadow-lg shadow-indigo-200/60 hover:shadow-xl":"bg-brand-blue shadow-brand hover:bg-brand-blue-600"}`,type:"button",children:[a.jsx("span",{className:`flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br ${v(n.role)} text-white font-semibold shadow-lg`,children:n.avatarUrl?a.jsx("img",{src:n.avatarUrl,alt:n.displayName,className:"h-full w-full rounded-full object-cover"}):n.displayName.charAt(0).toUpperCase()}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-sm font-semibold leading-4",children:n.displayName}),a.jsxs("span",{className:"flex items-center gap-1 text-xs uppercase tracking-wide text-white/80",children:[w(n.role),n.role==="admin"?"Admin":n.role==="shopOwner"?"Shop Owner":"Member"]})]})]}),u&&a.jsx("button",{onClick:()=>o("/"),className:"flex h-12 w-12 items-center justify-center rounded-full bg-white/90 text-indigo-600 shadow-lg shadow-indigo-200/60 transition hover:-translate-y-0.5 hover:bg-white","aria-label":"Quay v trang ch",type:"button",children:a.jsx(MN,{size:22})})]}),s&&a.jsxs("div",{className:"absolute right-0 mt-3 w-56 rounded-2xl border border-white/10 bg-slate-900/95 text-white shadow-xl backdrop-blur-md",children:[a.jsxs("div",{className:"border-b border-white/10 px-4 py-3",children:[a.jsx("p",{className:"text-sm font-semibold",children:n.displayName}),a.jsx("p",{className:"truncate text-xs text-white/70",children:n.email})]}),a.jsxs("div",{className:"py-1",children:[a.jsxs("button",{onClick:()=>h("/profile"),className:"flex w-full items-center gap-2 px-4 py-2 text-sm hover:bg-white/10",children:[a.jsx(k2,{className:"h-4 w-4"}),"Chnh sa c nhn"]}),n.role==="shopOwner"&&a.jsxs("button",{onClick:()=>h("/shop-dashboard"),className:"flex w-full items-center gap-2 px-4 py-2 text-sm hover:bg-white/10",children:[a.jsx(Zu,{className:"h-4 w-4"}),"Shop ca bn"]}),n.role==="admin"&&a.jsxs("button",{onClick:()=>h("/admin-dashboard"),className:"flex w-full items-center gap-2 px-4 py-2 text-sm hover:bg-white/10",children:[a.jsx(Xa,{className:"h-4 w-4"}),"Admin Dashboard"]})]}),a.jsx("div",{className:"border-t border-white/10 px-4 py-2",children:a.jsxs("button",{onClick:m,className:"flex w-full items-center gap-2 text-sm text-rose-300 hover:text-rose-200",children:[a.jsx(w2,{className:"h-4 w-4"}),"ng xut"]})})]})]}):a.jsxs("button",{onClick:x,className:"flex items-center space-x-2 px-4 py-2 text-brand-blue transition-colors duration-300 hover:text-brand-blue-700","aria-label":"Open Login",type:"button",children:[a.jsx(Ju,{className:"transition-colors",size:20}),a.jsx("span",{className:"tracking-wide uppercase text-sm",children:"Login"})]})}),a.jsx("aside",{className:`fixed top-0 left-0 z-[70] h-screen w-[30%] min-w-[320px] max-w-[400px] transition-transform duration-500 ease-out ${t?"translate-x-0":"-translate-x-full"} sidebar-elegant`,children:a.jsx("div",{className:"flex h-full",children:a.jsxs("div",{className:"relative flex flex-1 flex-col px-10 py-12",children:[a.jsx("button",{onClick:()=>e(!1),className:"absolute top-8 left-8 z-10 flex h-10 w-10 items-center justify-center text-charcoal-600 transition-all duration-300 hover:scale-110 hover:text-charcoal-900","aria-label":"Close Menu",type:"button",children:a.jsx(nd,{size:20})}),a.jsxs("div",{className:"cursor-pointer pt-12",onClick:()=>h("/"),children:[a.jsx("div",{className:"mb-4 flex h-10 w-10 items-center justify-center",children:a.jsx(FN,{className:"text-brand-blue",size:32})}),a.jsxs("h1",{className:"text-xl font-display uppercase leading-snug tracking-wider text-charcoal-900",children:["ECHOES OF",a.jsx("br",{}),"VIT NAM"]})]}),a.jsx("nav",{className:"mt-12 flex-1 space-y-4",children:d.map(b=>a.jsxs("div",{children:[a.jsx("button",{onClick:()=>h(b.path),className:`group relative py-1.5 text-left font-serif text-base uppercase tracking-wide transition-all duration-300 ${l.pathname===b.path?"text-charcoal-900 menu-item-active-elegant":"text-charcoal-800 hover:text-brand-blue menu-item-elegant"}`,type:"button",children:b.label}),b.subItems&&a.jsx("div",{className:"ml-4 mt-1.5 space-y-1",children:b.subItems.map(p=>a.jsxs("button",{onClick:()=>h(p.path),className:"block py-0.5 text-left text-sm text-charcoal-600 transition-colors duration-300 hover:text-brand-blue",type:"button",children:["- ",p.label]},p.path))})]},b.id))}),a.jsxs("div",{className:"space-y-6 pt-6",children:[a.jsxs("div",{className:"space-y-2 text-xs text-charcoal-600",children:[a.jsxs("p",{children:["MonThu: ",a.jsx("span",{className:"font-medium text-charcoal-900",children:"8:0017:00"})]}),a.jsxs("p",{children:["FriSun: ",a.jsx("span",{className:"font-medium text-charcoal-900",children:"8:0018:00"})]})]}),a.jsx("div",{className:"flex space-x-4 pt-2",children:f.slice(0,3).map(b=>a.jsx("a",{href:b.url,"aria-label":b.label,className:"text-brand-muted transition-all duration-300 hover:text-brand-blue",children:a.jsx(b.icon,{size:18})},b.label))})]})]})})}),t&&a.jsx("div",{className:"fixed inset-0 z-[60] bg-slate-900/70 backdrop-blur-sm transition-opacity",onClick:()=>e(!1),"aria-hidden":"true"})]})}function bC(){const t=[{icon:m2,label:"Facebook",url:"#"},{icon:C2,label:"YouTube",url:"#"},{icon:v2,label:"Instagram",url:"#"}];return a.jsx("footer",{className:"bg-brand-blue text-white border-t border-brand-blue/20 py-8",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[a.jsx("div",{className:"flex space-x-6",children:t.map(e=>a.jsx("a",{href:e.url,"aria-label":e.label,className:"text-white hover:text-brand-sand transition-colors duration-300",children:a.jsx(e.icon,{size:24})},e.label))}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-brand-sand font-serif text-sm mb-2",children:"Ni qu kh ngn vang trong tng hi th hin i"}),a.jsx("p",{className:"text-white/70 text-xs",children:" 2025 Try Your Best  Echoes of Vit Nam"})]})]})})})}function ts(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Qn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},eo={duration:.5,overwrite:!1,delay:0},Im,Wt,st,lr=1e8,Ge=1/lr,tp=Math.PI*2,yC=tp/4,wC=0,J2=Math.sqrt,_C=Math.cos,kC=Math.sin,Lt=function(e){return typeof e=="string"},xt=function(e){return typeof e=="function"},gs=function(e){return typeof e=="number"},Mm=function(e){return typeof e>"u"},Qr=function(e){return typeof e=="object"},An=function(e){return e!==!1},Lm=function(){return typeof window<"u"},Ic=function(e){return xt(e)||Lt(e)},Z2=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ln=Array.isArray,np=/(?:-?\.?\d|\.)+/gi,ew=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ta=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Mh=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,tw=/[+-]=-?[.\d]+/,nw=/[^,'"\[\]\s]+/gi,jC=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ct,Mr,rp,zm,Xn={},id={},rw,sw=function(e){return(id=to(e,Xn))&&Fn},Hm=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},Ml=function(e,n){return!n&&console.warn(e)},iw=function(e,n){return e&&(Xn[e]=n)&&id&&(id[e]=n)||Xn},Ll=function(){return 0},NC={suppressEvents:!0,isStart:!0,kill:!1},vu={suppressEvents:!0,kill:!1},CC={suppressEvents:!0},qm={},Gs=[],sp={},aw,qn={},Lh={},Yg=30,bu=[],$m="",Um=function(e){var n=e[0],r,s;if(Qr(n)||xt(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(s=bu.length;s--&&!bu[s].targetTest(n););r=bu[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new Aw(e[s],r)))||e.splice(s,1);return e},Bi=function(e){return e._gsap||Um(cr(e))[0]._gsap},ow=function(e,n,r){return(r=e[n])&&xt(r)?e[n]():Mm(r)&&e.getAttribute&&e.getAttribute(n)||r},Pn=function(e,n){return(e=e.split(",")).forEach(n)||e},bt=function(e){return Math.round(e*1e5)/1e5||0},Ct=function(e){return Math.round(e*1e7)/1e7||0},Ma=function(e,n){var r=n.charAt(0),s=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+s:r==="-"?e-s:r==="*"?e*s:e/s},SC=function(e,n){for(var r=n.length,s=0;e.indexOf(n[s])<0&&++s<r;);return s<r},ad=function(){var e=Gs.length,n=Gs.slice(0),r,s;for(sp={},Gs.length=0,r=0;r<e;r++)s=n[r],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},Vm=function(e){return!!(e._initted||e._startAt||e.add)},lw=function(e,n,r,s){Gs.length&&!Wt&&ad(),e.render(n,r,!!(Wt&&n<0&&Vm(e))),Gs.length&&!Wt&&ad()},cw=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(nw).length<2?n:Lt(e)?e.trim():e},uw=function(e){return e},Jn=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},EC=function(e){return function(n,r){for(var s in r)s in n||s==="duration"&&e||s==="ease"||(n[s]=r[s])}},to=function(e,n){for(var r in n)e[r]=n[r];return e},Xg=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Qr(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},od=function(e,n){var r={},s;for(s in e)s in n||(r[s]=e[s]);return r},il=function(e){var n=e.parent||ct,r=e.keyframes?EC(ln(e.keyframes)):Jn;if(An(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},TC=function(e,n){for(var r=e.length,s=r===n.length;s&&r--&&e[r]===n[r];);return r<0},dw=function(e,n,r,s,i){var o=e[s],l;if(i)for(l=n[i];o&&o[i]>l;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[s]=n,n._prev=o,n.parent=n._dp=e,n},Vd=function(e,n,r,s){r===void 0&&(r="_first"),s===void 0&&(s="_last");var i=n._prev,o=n._next;i?i._next=o:e[r]===n&&(e[r]=o),o?o._prev=i:e[s]===n&&(e[s]=i),n._next=n._prev=n.parent=null},ei=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Di=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},AC=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},ip=function(e,n,r,s){return e._startAt&&(Wt?e._startAt.revert(vu):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,s))},PC=function t(e){return!e||e._ts&&t(e.parent)},Jg=function(e){return e._repeat?no(e._tTime,e=e.duration()+e._rDelay)*e:0},no=function(e,n){var r=Math.floor(e=Ct(e/n));return e&&r===e?r-1:r},ld=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Kd=function(e){return e._end=Ct(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ge)||0))},Wd=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Ct(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),Kd(e),r._dirty||Di(r,e)),e},hw=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=ld(e.rawTime(),n),(!n._dur||ac(0,n.totalDuration(),r)-n._tTime>Ge)&&n.render(r,!0)),Di(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Ge}},qr=function(e,n,r,s){return n.parent&&ei(n),n._start=Ct((gs(r)?r:r||e!==ct?nr(e,r,n):e._time)+n._delay),n._end=Ct(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),dw(e,n,"_first","_last",e._sort?"_start":0),ap(n)||(e._recent=n),s||hw(e,n),e._ts<0&&Wd(e,e._tTime),e},fw=function(e,n){return(Xn.ScrollTrigger||Hm("scrollTrigger",n))&&Xn.ScrollTrigger.create(n,e)},pw=function(e,n,r,s,i){if(Wm(e,n,i),!e._initted)return 1;if(!r&&e._pt&&!Wt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&aw!==Un.frame)return Gs.push(e),e._lazy=[i,s],1},BC=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},ap=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},DC=function(e,n,r,s){var i=e.ratio,o=n<0||!n&&(!e._start&&BC(e)&&!(!e._initted&&ap(e))||(e._ts<0||e._dp._ts<0)&&!ap(e))?0:1,l=e._rDelay,c=0,u,d,f;if(l&&e._repeat&&(c=ac(0,e._tDur,n),d=no(c,l),e._yoyo&&d&1&&(o=1-o),d!==no(e._tTime,l)&&(i=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==i||Wt||s||e._zTime===Ge||!n&&e._zTime){if(!e._initted&&pw(e,n,s,r,c))return;for(f=e._zTime,e._zTime=n||(r?Ge:0),r||(r=n&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,u=e._pt;u;)u.r(o,u.d),u=u._next;n<0&&ip(e,n,r,!0),e._onUpdate&&!r&&Wn(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&Wn(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&ei(e,1),!r&&!Wt&&(Wn(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},FC=function(e,n,r){var s;if(r>n)for(s=e._first;s&&s._start<=r;){if(s.data==="isPause"&&s._start>n)return s;s=s._next}else for(s=e._last;s&&s._start>=r;){if(s.data==="isPause"&&s._start<n)return s;s=s._prev}},ro=function(e,n,r,s){var i=e._repeat,o=Ct(n)||0,l=e._tTime/e._tDur;return l&&!s&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:Ct(o*(i+1)+e._rDelay*i):o,l>0&&!s&&Wd(e,e._tTime=e._tDur*l),e.parent&&Kd(e),r||Di(e.parent,e),e},Zg=function(e){return e instanceof gn?Di(e):ro(e,e._dur)},RC={_start:0,endTime:Ll,totalDuration:Ll},nr=function t(e,n,r){var s=e.labels,i=e._recent||RC,o=e.duration()>=lr?i.endTime(!1):e._dur,l,c,u;return Lt(n)&&(isNaN(n)||n in s)?(c=n.charAt(0),u=n.substr(-1)==="%",l=n.indexOf("="),c==="<"||c===">"?(l>=0&&(n=n.replace(/=/,"")),(c==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(l<0?i:r).totalDuration()/100:1)):l<0?(n in s||(s[n]=o),s[n]):(c=parseFloat(n.charAt(l-1)+n.substr(l+1)),u&&r&&(c=c/100*(ln(r)?r[0]:r).totalDuration()),l>1?t(e,n.substr(0,l-1),r)+c:o+c)):n==null?o:+n},al=function(e,n,r){var s=gs(n[1]),i=(s?2:1)+(e<2?0:1),o=n[i],l,c;if(s&&(o.duration=n[1]),o.parent=r,e){for(l=o,c=r;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=An(c.vars.inherit)&&c.parent;o.immediateRender=An(l.immediateRender),e<2?o.runBackwards=1:o.startAt=n[i-1]}return new Nt(n[0],o,n[i+1])},oi=function(e,n){return e||e===0?n(e):n},ac=function(e,n,r){return r<e?e:r>n?n:r},an=function(e,n){return!Lt(e)||!(n=jC.exec(e))?"":n[1]},OC=function(e,n,r){return oi(r,function(s){return ac(e,n,s)})},op=[].slice,mw=function(e,n){return e&&Qr(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Qr(e[0]))&&!e.nodeType&&e!==Mr},IC=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(s){var i;return Lt(s)&&!n||mw(s,1)?(i=r).push.apply(i,cr(s)):r.push(s)})||r},cr=function(e,n,r){return st&&!n&&st.selector?st.selector(e):Lt(e)&&!r&&(rp||!so())?op.call((n||zm).querySelectorAll(e),0):ln(e)?IC(e,r):mw(e)?op.call(e,0):e?[e]:[]},lp=function(e){return e=cr(e)[0]||Ml("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return cr(n,r.querySelectorAll?r:r===e?Ml("Invalid scope")||zm.createElement("div"):e)}},xw=function(e){return e.sort(function(){return .5-Math.random()})},gw=function(e){if(xt(e))return e;var n=Qr(e)?e:{each:e},r=Fi(n.ease),s=n.from||0,i=parseFloat(n.base)||0,o={},l=s>0&&s<1,c=isNaN(s)||l,u=n.axis,d=s,f=s;return Lt(s)?d=f={center:.5,edges:.5,end:1}[s]||0:!l&&c&&(d=s[0],f=s[1]),function(h,m,x){var v=(x||n).length,w=o[v],b,p,g,y,_,j,k,C,T;if(!w){if(T=n.grid==="auto"?0:(n.grid||[1,lr])[1],!T){for(k=-lr;k<(k=x[T++].getBoundingClientRect().left)&&T<v;);T<v&&T--}for(w=o[v]=[],b=c?Math.min(T,v)*d-.5:s%T,p=T===lr?0:c?v*f/T-.5:s/T|0,k=0,C=lr,j=0;j<v;j++)g=j%T-b,y=p-(j/T|0),w[j]=_=u?Math.abs(u==="y"?y:g):J2(g*g+y*y),_>k&&(k=_),_<C&&(C=_);s==="random"&&xw(w),w.max=k-C,w.min=C,w.v=v=(parseFloat(n.amount)||parseFloat(n.each)*(T>v?v-1:u?u==="y"?v/T:T:Math.max(T,v/T))||0)*(s==="edges"?-1:1),w.b=v<0?i-v:i,w.u=an(n.amount||n.each)||0,r=r&&v<0?Sw(r):r}return v=(w[h]-w.min)/w.max||0,Ct(w.b+(r?r(v):v)*w.v)+w.u}},cp=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var s=Ct(Math.round(parseFloat(r)/e)*e*n);return(s-s%1)/n+(gs(r)?0:an(r))}},vw=function(e,n){var r=ln(e),s,i;return!r&&Qr(e)&&(s=r=e.radius||lr,e.values?(e=cr(e.values),(i=!gs(e[0]))&&(s*=s)):e=cp(e.increment)),oi(n,r?xt(e)?function(o){return i=e(o),Math.abs(i-o)<=s?i:o}:function(o){for(var l=parseFloat(i?o.x:o),c=parseFloat(i?o.y:0),u=lr,d=0,f=e.length,h,m;f--;)i?(h=e[f].x-l,m=e[f].y-c,h=h*h+m*m):h=Math.abs(e[f]-l),h<u&&(u=h,d=f);return d=!s||u<=s?e[d]:o,i||d===o||gs(o)?d:d+an(o)}:cp(e))},bw=function(e,n,r,s){return oi(ln(e)?!n:r===!0?!!(r=0):!s,function(){return ln(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(s=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*s)/s})},MC=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(s){return n.reduce(function(i,o){return o(i)},s)}},LC=function(e,n){return function(r){return e(parseFloat(r))+(n||an(r))}},zC=function(e,n,r){return ww(e,n,0,1,r)},yw=function(e,n,r){return oi(r,function(s){return e[~~n(s)]})},HC=function t(e,n,r){var s=n-e;return ln(e)?yw(e,t(0,e.length),n):oi(r,function(i){return(s+(i-e)%s)%s+e})},qC=function t(e,n,r){var s=n-e,i=s*2;return ln(e)?yw(e,t(0,e.length-1),n):oi(r,function(o){return o=(i+(o-e)%i)%i||0,e+(o>s?i-o:o)})},zl=function(e){for(var n=0,r="",s,i,o,l;~(s=e.indexOf("random(",n));)o=e.indexOf(")",s),l=e.charAt(s+7)==="[",i=e.substr(s+7,o-s-7).match(l?nw:np),r+=e.substr(n,s-n)+bw(l?i:+i[0],l?0:+i[1],+i[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},ww=function(e,n,r,s,i){var o=n-e,l=s-r;return oi(i,function(c){return r+((c-e)/o*l||0)})},$C=function t(e,n,r,s){var i=isNaN(e+n)?0:function(m){return(1-m)*e+m*n};if(!i){var o=Lt(e),l={},c,u,d,f,h;if(r===!0&&(s=1)&&(r=null),o)e={p:e},n={p:n};else if(ln(e)&&!ln(n)){for(d=[],f=e.length,h=f-2,u=1;u<f;u++)d.push(t(e[u-1],e[u]));f--,i=function(x){x*=f;var v=Math.min(h,~~x);return d[v](x-v)},r=n}else s||(e=to(ln(e)?[]:{},e));if(!d){for(c in n)Km.call(l,e,c,"get",n[c]);i=function(x){return Ym(x,l)||(o?e.p:e)}}}return oi(r,i)},e1=function(e,n,r){var s=e.labels,i=lr,o,l,c;for(o in s)l=s[o]-n,l<0==!!r&&l&&i>(l=Math.abs(l))&&(c=o,i=l);return c},Wn=function(e,n,r){var s=e.vars,i=s[n],o=st,l=e._ctx,c,u,d;if(i)return c=s[n+"Params"],u=s.callbackScope||e,r&&Gs.length&&ad(),l&&(st=l),d=c?i.apply(u,c):i.call(u),st=o,d},zo=function(e){return ei(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Wt),e.progress()<1&&Wn(e,"onInterrupt"),e},Aa,_w=[],kw=function(e){if(e)if(e=!e.name&&e.default||e,Lm()||e.headless){var n=e.name,r=xt(e),s=n&&!r&&e.init?function(){this._props=[]}:e,i={init:Ll,render:Ym,add:Km,kill:i6,modifier:s6,rawVars:0},o={targetTest:0,get:0,getSetter:Qm,aliases:{},register:0};if(so(),e!==s){if(qn[n])return;Jn(s,Jn(od(e,i),o)),to(s.prototype,to(i,od(e,o))),qn[s.prop=n]=s,e.targetTest&&(bu.push(s),qm[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}iw(n,s),e.register&&e.register(Fn,s,Bn)}else _w.push(e)},We=255,Ho={aqua:[0,We,We],lime:[0,We,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,We],navy:[0,0,128],white:[We,We,We],olive:[128,128,0],yellow:[We,We,0],orange:[We,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[We,0,0],pink:[We,192,203],cyan:[0,We,We],transparent:[We,We,We,0]},zh=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*We+.5|0},jw=function(e,n,r){var s=e?gs(e)?[e>>16,e>>8&We,e&We]:0:Ho.black,i,o,l,c,u,d,f,h,m,x;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ho[e])s=Ho[e];else if(e.charAt(0)==="#"){if(e.length<6&&(i=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+i+i+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&We,s&We,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&We,e&We]}else if(e.substr(0,3)==="hsl"){if(s=x=e.match(np),!n)c=+s[0]%360/360,u=+s[1]/100,d=+s[2]/100,o=d<=.5?d*(u+1):d+u-d*u,i=d*2-o,s.length>3&&(s[3]*=1),s[0]=zh(c+1/3,i,o),s[1]=zh(c,i,o),s[2]=zh(c-1/3,i,o);else if(~e.indexOf("="))return s=e.match(ew),r&&s.length<4&&(s[3]=1),s}else s=e.match(np)||Ho.transparent;s=s.map(Number)}return n&&!x&&(i=s[0]/We,o=s[1]/We,l=s[2]/We,f=Math.max(i,o,l),h=Math.min(i,o,l),d=(f+h)/2,f===h?c=u=0:(m=f-h,u=d>.5?m/(2-f-h):m/(f+h),c=f===i?(o-l)/m+(o<l?6:0):f===o?(l-i)/m+2:(i-o)/m+4,c*=60),s[0]=~~(c+.5),s[1]=~~(u*100+.5),s[2]=~~(d*100+.5)),r&&s.length<4&&(s[3]=1),s},Nw=function(e){var n=[],r=[],s=-1;return e.split(Qs).forEach(function(i){var o=i.match(Ta)||[];n.push.apply(n,o),r.push(s+=o.length+1)}),n.c=r,n},t1=function(e,n,r){var s="",i=(e+s).match(Qs),o=n?"hsla(":"rgba(",l=0,c,u,d,f;if(!i)return e;if(i=i.map(function(h){return(h=jw(h,n,1))&&o+(n?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),r&&(d=Nw(e),c=r.c,c.join(s)!==d.c.join(s)))for(u=e.replace(Qs,"1").split(Ta),f=u.length-1;l<f;l++)s+=u[l]+(~c.indexOf(l)?i.shift()||o+"0,0,0,0)":(d.length?d:i.length?i:r).shift());if(!u)for(u=e.split(Qs),f=u.length-1;l<f;l++)s+=u[l]+i[l];return s+u[f]},Qs=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ho)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),UC=/hsl[a]?\(/,Cw=function(e){var n=e.join(" "),r;if(Qs.lastIndex=0,Qs.test(n))return r=UC.test(n),e[1]=t1(e[1],r),e[0]=t1(e[0],r,Nw(e[1])),!0},Hl,Un=function(){var t=Date.now,e=500,n=33,r=t(),s=r,i=1e3/240,o=i,l=[],c,u,d,f,h,m,x=function v(w){var b=t()-s,p=w===!0,g,y,_,j;if((b>e||b<0)&&(r+=b-n),s+=b,_=s-r,g=_-o,(g>0||p)&&(j=++f.frame,h=_-f.time*1e3,f.time=_=_/1e3,o+=g+(g>=i?4:i-g),y=1),p||(c=u(v)),y)for(m=0;m<l.length;m++)l[m](_,h,j,w)};return f={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(w){return h/(1e3/(w||60))},wake:function(){rw&&(!rp&&Lm()&&(Mr=rp=window,zm=Mr.document||{},Xn.gsap=Fn,(Mr.gsapVersions||(Mr.gsapVersions=[])).push(Fn.version),sw(id||Mr.GreenSockGlobals||!Mr.gsap&&Mr||{}),_w.forEach(kw)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&f.sleep(),u=d||function(w){return setTimeout(w,o-f.time*1e3+1|0)},Hl=1,x(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(c),Hl=0,u=Ll},lagSmoothing:function(w,b){e=w||1/0,n=Math.min(b||33,e)},fps:function(w){i=1e3/(w||240),o=f.time*1e3+i},add:function(w,b,p){var g=b?function(y,_,j,k){w(y,_,j,k),f.remove(g)}:w;return f.remove(w),l[p?"unshift":"push"](g),so(),g},remove:function(w,b){~(b=l.indexOf(w))&&l.splice(b,1)&&m>=b&&m--},_listeners:l},f}(),so=function(){return!Hl&&Un.wake()},Fe={},VC=/^[\d.\-M][\d.\-,\s]/,KC=/["']/g,WC=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),s=r[0],i=1,o=r.length,l,c,u;i<o;i++)c=r[i],l=i!==o-1?c.lastIndexOf(","):c.length,u=c.substr(0,l),n[s]=isNaN(u)?u.replace(KC,"").trim():+u,s=c.substr(l+1).trim();return n},GC=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),s=e.indexOf("(",n);return e.substring(n,~s&&s<r?e.indexOf(")",r+1):r)},QC=function(e){var n=(e+"").split("("),r=Fe[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[WC(n[1])]:GC(e).split(",").map(cw)):Fe._CE&&VC.test(e)?Fe._CE("",e):r},Sw=function(e){return function(n){return 1-e(1-n)}},Ew=function t(e,n){for(var r=e._first,s;r;)r instanceof gn?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(s=r._ease,r._ease=r._yEase,r._yEase=s,r._yoyo=n)),r=r._next},Fi=function(e,n){return e&&(xt(e)?e:Fe[e]||QC(e))||n},Zi=function(e,n,r,s){r===void 0&&(r=function(c){return 1-n(1-c)}),s===void 0&&(s=function(c){return c<.5?n(c*2)/2:1-n((1-c)*2)/2});var i={easeIn:n,easeOut:r,easeInOut:s},o;return Pn(e,function(l){Fe[l]=Xn[l]=i,Fe[o=l.toLowerCase()]=r;for(var c in i)Fe[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Fe[l+"."+c]=i[c]}),i},Tw=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},Hh=function t(e,n,r){var s=n>=1?n:1,i=(r||(e?.3:.45))/(n<1?n:1),o=i/tp*(Math.asin(1/s)||0),l=function(d){return d===1?1:s*Math.pow(2,-10*d)*kC((d-o)*i)+1},c=e==="out"?l:e==="in"?function(u){return 1-l(1-u)}:Tw(l);return i=tp/i,c.config=function(u,d){return t(e,u,d)},c},qh=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},s=e==="out"?r:e==="in"?function(i){return 1-r(1-i)}:Tw(r);return s.config=function(i){return t(e,i)},s};Pn("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Zi(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});Fe.Linear.easeNone=Fe.none=Fe.Linear.easeIn;Zi("Elastic",Hh("in"),Hh("out"),Hh());(function(t,e){var n=1/e,r=2*n,s=2.5*n,i=function(l){return l<n?t*l*l:l<r?t*Math.pow(l-1.5/e,2)+.75:l<s?t*(l-=2.25/e)*l+.9375:t*Math.pow(l-2.625/e,2)+.984375};Zi("Bounce",function(o){return 1-i(1-o)},i)})(7.5625,2.75);Zi("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});Zi("Circ",function(t){return-(J2(1-t*t)-1)});Zi("Sine",function(t){return t===1?1:-_C(t*yC)+1});Zi("Back",qh("in"),qh("out"),qh());Fe.SteppedEase=Fe.steps=Xn.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,s=e+(n?0:1),i=n?1:0,o=1-Ge;return function(l){return((s*ac(0,o,l)|0)+i)*r}}};eo.ease=Fe["quad.out"];Pn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return $m+=t+","+t+"Params,"});var Aw=function(e,n){this.id=wC++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:ow,this.set=n?n.getSetter:Qm},ql=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,ro(this,+n.duration,1,1),this.data=n.data,st&&(this._ctx=st,st.data.push(this)),Hl||Un.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,ro(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,s){if(so(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Wd(this,r),!i._dp||i.parent||hw(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&qr(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===Ge||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),lw(this,r,s)),this},e.time=function(r,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+Jg(this))%(this._dur+this._rDelay)||(r?this._dur:0),s):this._time},e.totalProgress=function(r,s){return arguments.length?this.totalTime(this.totalDuration()*r,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+Jg(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,s){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*i,s):this._repeat?no(this._tTime,i)+1:1},e.timeScale=function(r,s){if(!arguments.length)return this._rts===-Ge?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?ld(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Ge?0:this._rts,this.totalTime(ac(-Math.abs(this._delay),this.totalDuration(),i),s!==!1),Kd(this),AC(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(so(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ge&&(this._tTime-=Ge)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&qr(s,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(An(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var s=this.parent||this._dp;return s?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ld(s.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=CC);var s=Wt;return Wt=r,Vm(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Wt=s,this},e.globalTime=function(r){for(var s=this,i=arguments.length?r:s.rawTime();s;)i=s._start+i/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(r):i},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Zg(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var s=this._time;return this._rDelay=r,Zg(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,s){return this.totalTime(nr(this,r),An(s))},e.restart=function(r,s){return this.play().totalTime(r?-this._delay:0,An(s)),this._dur||(this._zTime=-Ge),this},e.play=function(r,s){return r!=null&&this.seek(r,s),this.reversed(!1).paused(!1)},e.reverse=function(r,s){return r!=null&&this.seek(r||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(r,s){return r!=null&&this.seek(r,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Ge:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ge,this},e.isActive=function(){var r=this.parent||this._dp,s=this._start,i;return!!(!r||this._ts&&this._initted&&r.isActive()&&(i=r.rawTime(!0))>=s&&i<this.endTime(!0)-Ge)},e.eventCallback=function(r,s,i){var o=this.vars;return arguments.length>1?(s?(o[r]=s,i&&(o[r+"Params"]=i),r==="onUpdate"&&(this._onUpdate=s)):delete o[r],this):o[r]},e.then=function(r){var s=this;return new Promise(function(i){var o=xt(r)?r:uw,l=function(){var u=s.then;s.then=null,xt(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=u),i(o),s.then=u};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?l():s._prom=l})},e.kill=function(){zo(this)},t}();Jn(ql.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ge,_prom:0,_ps:!1,_rts:1});var gn=function(t){X2(e,t);function e(r,s){var i;return r===void 0&&(r={}),i=t.call(this,r)||this,i.labels={},i.smoothChildTiming=!!r.smoothChildTiming,i.autoRemoveChildren=!!r.autoRemoveChildren,i._sort=An(r.sortChildren),ct&&qr(r.parent||ct,ts(i),s),r.reversed&&i.reverse(),r.paused&&i.paused(!0),r.scrollTrigger&&fw(ts(i),r.scrollTrigger),i}var n=e.prototype;return n.to=function(s,i,o){return al(0,arguments,this),this},n.from=function(s,i,o){return al(1,arguments,this),this},n.fromTo=function(s,i,o,l){return al(2,arguments,this),this},n.set=function(s,i,o){return i.duration=0,i.parent=this,il(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new Nt(s,i,nr(this,o),1),this},n.call=function(s,i,o){return qr(this,Nt.delayedCall(0,s,i),o)},n.staggerTo=function(s,i,o,l,c,u,d){return o.duration=i,o.stagger=o.stagger||l,o.onComplete=u,o.onCompleteParams=d,o.parent=this,new Nt(s,o,nr(this,c)),this},n.staggerFrom=function(s,i,o,l,c,u,d){return o.runBackwards=1,il(o).immediateRender=An(o.immediateRender),this.staggerTo(s,i,o,l,c,u,d)},n.staggerFromTo=function(s,i,o,l,c,u,d,f){return l.startAt=o,il(l).immediateRender=An(l.immediateRender),this.staggerTo(s,i,l,c,u,d,f)},n.render=function(s,i,o){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,u=this._dur,d=s<=0?0:Ct(s),f=this._zTime<0!=s<0&&(this._initted||!u),h,m,x,v,w,b,p,g,y,_,j,k;if(this!==ct&&d>c&&s>=0&&(d=c),d!==this._tTime||o||f){if(l!==this._time&&u&&(d+=this._time-l,s+=this._time-l),h=d,y=this._start,g=this._ts,b=!g,f&&(u||(l=this._zTime),(s||!i)&&(this._zTime=s)),this._repeat){if(j=this._yoyo,w=u+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(w*100+s,i,o);if(h=Ct(d%w),d===c?(v=this._repeat,h=u):(_=Ct(d/w),v=~~_,v&&v===_&&(h=u,v--),h>u&&(h=u)),_=no(this._tTime,w),!l&&this._tTime&&_!==v&&this._tTime-_*w-this._dur<=0&&(_=v),j&&v&1&&(h=u-h,k=1),v!==_&&!this._lock){var C=j&&_&1,T=C===(j&&v&1);if(v<_&&(C=!C),l=C?0:d%u?u:d,this._lock=1,this.render(l||(k?0:Ct(v*w)),i,!u)._lock=0,this._tTime=d,!i&&this.parent&&Wn(this,"onRepeat"),this.vars.repeatRefresh&&!k&&(this.invalidate()._lock=1),l&&l!==this._time||b!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,c=this._tDur,T&&(this._lock=2,l=C?u:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!k&&this.invalidate()),this._lock=0,!this._ts&&!b)return this;Ew(this,k)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(p=FC(this,Ct(l),Ct(h)),p&&(d-=h-(h=p._start))),this._tTime=d,this._time=h,this._act=!g,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,l=0),!l&&d&&!i&&!_&&(Wn(this,"onStart"),this._tTime!==d))return this;if(h>=l&&s>=0)for(m=this._first;m;){if(x=m._next,(m._act||h>=m._start)&&m._ts&&p!==m){if(m.parent!==this)return this.render(s,i,o);if(m.render(m._ts>0?(h-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(h-m._start)*m._ts,i,o),h!==this._time||!this._ts&&!b){p=0,x&&(d+=this._zTime=-Ge);break}}m=x}else{m=this._last;for(var N=s<0?s:h;m;){if(x=m._prev,(m._act||N<=m._end)&&m._ts&&p!==m){if(m.parent!==this)return this.render(s,i,o);if(m.render(m._ts>0?(N-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(N-m._start)*m._ts,i,o||Wt&&Vm(m)),h!==this._time||!this._ts&&!b){p=0,x&&(d+=this._zTime=N?-Ge:Ge);break}}m=x}}if(p&&!i&&(this.pause(),p.render(h>=l?0:-Ge)._zTime=h>=l?1:-1,this._ts))return this._start=y,Kd(this),this.render(s,i,o);this._onUpdate&&!i&&Wn(this,"onUpdate",!0),(d===c&&this._tTime>=this.totalDuration()||!d&&l)&&(y===this._start||Math.abs(g)!==Math.abs(this._ts))&&(this._lock||((s||!u)&&(d===c&&this._ts>0||!d&&this._ts<0)&&ei(this,1),!i&&!(s<0&&!l)&&(d||l||!c)&&(Wn(this,d===c&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(s,i){var o=this;if(gs(i)||(i=nr(this,i,s)),!(s instanceof ql)){if(ln(s))return s.forEach(function(l){return o.add(l,i)}),this;if(Lt(s))return this.addLabel(s,i);if(xt(s))s=Nt.delayedCall(0,s);else return this}return this!==s?qr(this,s,i):this},n.getChildren=function(s,i,o,l){s===void 0&&(s=!0),i===void 0&&(i=!0),o===void 0&&(o=!0),l===void 0&&(l=-lr);for(var c=[],u=this._first;u;)u._start>=l&&(u instanceof Nt?i&&c.push(u):(o&&c.push(u),s&&c.push.apply(c,u.getChildren(!0,i,o)))),u=u._next;return c},n.getById=function(s){for(var i=this.getChildren(1,1,1),o=i.length;o--;)if(i[o].vars.id===s)return i[o]},n.remove=function(s){return Lt(s)?this.removeLabel(s):xt(s)?this.killTweensOf(s):(s.parent===this&&Vd(this,s),s===this._recent&&(this._recent=this._last),Di(this))},n.totalTime=function(s,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ct(Un.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,i),this._forcing=0,this):this._tTime},n.addLabel=function(s,i){return this.labels[s]=nr(this,i),this},n.removeLabel=function(s){return delete this.labels[s],this},n.addPause=function(s,i,o){var l=Nt.delayedCall(0,i||Ll,o);return l.data="isPause",this._hasPause=1,qr(this,l,nr(this,s))},n.removePause=function(s){var i=this._first;for(s=nr(this,s);i;)i._start===s&&i.data==="isPause"&&ei(i),i=i._next},n.killTweensOf=function(s,i,o){for(var l=this.getTweensOf(s,o),c=l.length;c--;)Rs!==l[c]&&l[c].kill(s,i);return this},n.getTweensOf=function(s,i){for(var o=[],l=cr(s),c=this._first,u=gs(i),d;c;)c instanceof Nt?SC(c._targets,l)&&(u?(!Rs||c._initted&&c._ts)&&c.globalTime(0)<=i&&c.globalTime(c.totalDuration())>i:!i||c.isActive())&&o.push(c):(d=c.getTweensOf(l,i)).length&&o.push.apply(o,d),c=c._next;return o},n.tweenTo=function(s,i){i=i||{};var o=this,l=nr(o,s),c=i,u=c.startAt,d=c.onStart,f=c.onStartParams,h=c.immediateRender,m,x=Nt.to(o,Jn({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:i.duration||Math.abs((l-(u&&"time"in u?u.time:o._time))/o.timeScale())||Ge,onStart:function(){if(o.pause(),!m){var w=i.duration||Math.abs((l-(u&&"time"in u?u.time:o._time))/o.timeScale());x._dur!==w&&ro(x,w,0,1).render(x._time,!0,!0),m=1}d&&d.apply(x,f||[])}},i));return h?x.render(0):x},n.tweenFromTo=function(s,i,o){return this.tweenTo(i,Jn({startAt:{time:nr(this,s)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(s){return s===void 0&&(s=this._time),e1(this,nr(this,s))},n.previousLabel=function(s){return s===void 0&&(s=this._time),e1(this,nr(this,s),1)},n.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+Ge)},n.shiftChildren=function(s,i,o){o===void 0&&(o=0);for(var l=this._first,c=this.labels,u;l;)l._start>=o&&(l._start+=s,l._end+=s),l=l._next;if(i)for(u in c)c[u]>=o&&(c[u]+=s);return Di(this)},n.invalidate=function(s){var i=this._first;for(this._lock=0;i;)i.invalidate(s),i=i._next;return t.prototype.invalidate.call(this,s)},n.clear=function(s){s===void 0&&(s=!0);for(var i=this._first,o;i;)o=i._next,this.remove(i),i=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Di(this)},n.totalDuration=function(s){var i=0,o=this,l=o._last,c=lr,u,d,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(f=o.parent;l;)u=l._prev,l._dirty&&l.totalDuration(),d=l._start,d>c&&o._sort&&l._ts&&!o._lock?(o._lock=1,qr(o,l,d-l._delay,1)._lock=0):c=d,d<0&&l._ts&&(i-=d,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=d/o._ts,o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),c=0),l._end>i&&l._ts&&(i=l._end),l=u;ro(o,o===ct&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(s){if(ct._ts&&(lw(ct,ld(s,ct)),aw=Un.frame),Un.frame>=Yg){Yg+=Qn.autoSleep||120;var i=ct._first;if((!i||!i._ts)&&Qn.autoSleep&&Un._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||Un.sleep()}}},e}(ql);Jn(gn.prototype,{_lock:0,_hasPause:0,_forcing:0});var YC=function(e,n,r,s,i,o,l){var c=new Bn(this._pt,e,n,0,1,Ow,null,i),u=0,d=0,f,h,m,x,v,w,b,p;for(c.b=r,c.e=s,r+="",s+="",(b=~s.indexOf("random("))&&(s=zl(s)),o&&(p=[r,s],o(p,e,n),r=p[0],s=p[1]),h=r.match(Mh)||[];f=Mh.exec(s);)x=f[0],v=s.substring(u,f.index),m?m=(m+1)%5:v.substr(-5)==="rgba("&&(m=1),x!==h[d++]&&(w=parseFloat(h[d-1])||0,c._pt={_next:c._pt,p:v||d===1?v:",",s:w,c:x.charAt(1)==="="?Ma(w,x)-w:parseFloat(x)-w,m:m&&m<4?Math.round:0},u=Mh.lastIndex);return c.c=u<s.length?s.substring(u,s.length):"",c.fp=l,(tw.test(s)||b)&&(c.e=0),this._pt=c,c},Km=function(e,n,r,s,i,o,l,c,u,d){xt(s)&&(s=s(i||0,e,o));var f=e[n],h=r!=="get"?r:xt(f)?u?e[n.indexOf("set")||!xt(e["get"+n.substr(3)])?n:"get"+n.substr(3)](u):e[n]():f,m=xt(f)?u?t6:Fw:Gm,x;if(Lt(s)&&(~s.indexOf("random(")&&(s=zl(s)),s.charAt(1)==="="&&(x=Ma(h,s)+(an(h)||0),(x||x===0)&&(s=x))),!d||h!==s||up)return!isNaN(h*s)&&s!==""?(x=new Bn(this._pt,e,n,+h||0,s-(h||0),typeof f=="boolean"?r6:Rw,0,m),u&&(x.fp=u),l&&x.modifier(l,this,e),this._pt=x):(!f&&!(n in e)&&Hm(n,s),YC.call(this,e,n,h,s,m,c||Qn.stringFilter,u))},XC=function(e,n,r,s,i){if(xt(e)&&(e=ol(e,i,n,r,s)),!Qr(e)||e.style&&e.nodeType||ln(e)||Z2(e))return Lt(e)?ol(e,i,n,r,s):e;var o={},l;for(l in e)o[l]=ol(e[l],i,n,r,s);return o},Pw=function(e,n,r,s,i,o){var l,c,u,d;if(qn[e]&&(l=new qn[e]).init(i,l.rawVars?n[e]:XC(n[e],s,i,o,r),r,s,o)!==!1&&(r._pt=c=new Bn(r._pt,i,e,0,1,l.render,l,0,l.priority),r!==Aa))for(u=r._ptLookup[r._targets.indexOf(i)],d=l._props.length;d--;)u[l._props[d]]=c;return l},Rs,up,Wm=function t(e,n,r){var s=e.vars,i=s.ease,o=s.startAt,l=s.immediateRender,c=s.lazy,u=s.onUpdate,d=s.runBackwards,f=s.yoyoEase,h=s.keyframes,m=s.autoRevert,x=e._dur,v=e._startAt,w=e._targets,b=e.parent,p=b&&b.data==="nested"?b.vars.targets:w,g=e._overwrite==="auto"&&!Im,y=e.timeline,_,j,k,C,T,N,B,A,D,H,q,W,G;if(y&&(!h||!i)&&(i="none"),e._ease=Fi(i,eo.ease),e._yEase=f?Sw(Fi(f===!0?i:f,eo.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!y&&!!s.runBackwards,!y||h&&!s.stagger){if(A=w[0]?Bi(w[0]).harness:0,W=A&&s[A.prop],_=od(s,qm),v&&(v._zTime<0&&v.progress(1),n<0&&d&&l&&!m?v.render(-1,!0):v.revert(d&&x?vu:NC),v._lazy=0),o){if(ei(e._startAt=Nt.set(w,Jn({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!v&&An(c),startAt:null,delay:0,onUpdate:u&&function(){return Wn(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Wt||!l&&!m)&&e._startAt.revert(vu),l&&x&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(d&&x&&!v){if(n&&(l=!1),k=Jn({overwrite:!1,data:"isFromStart",lazy:l&&!v&&An(c),immediateRender:l,stagger:0,parent:b},_),W&&(k[A.prop]=W),ei(e._startAt=Nt.set(w,k)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Wt?e._startAt.revert(vu):e._startAt.render(-1,!0)),e._zTime=n,!l)t(e._startAt,Ge,Ge);else if(!n)return}for(e._pt=e._ptCache=0,c=x&&An(c)||c&&!x,j=0;j<w.length;j++){if(T=w[j],B=T._gsap||Um(w)[j]._gsap,e._ptLookup[j]=H={},sp[B.id]&&Gs.length&&ad(),q=p===w?j:p.indexOf(T),A&&(D=new A).init(T,W||_,e,q,p)!==!1&&(e._pt=C=new Bn(e._pt,T,D.name,0,1,D.render,D,0,D.priority),D._props.forEach(function(I){H[I]=C}),D.priority&&(N=1)),!A||W)for(k in _)qn[k]&&(D=Pw(k,_,e,q,T,p))?D.priority&&(N=1):H[k]=C=Km.call(e,T,k,"get",_[k],q,p,0,s.stringFilter);e._op&&e._op[j]&&e.kill(T,e._op[j]),g&&e._pt&&(Rs=e,ct.killTweensOf(T,H,e.globalTime(n)),G=!e.parent,Rs=0),e._pt&&c&&(sp[B.id]=1)}N&&Iw(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!G,h&&n<=0&&y.render(lr,!0,!0)},JC=function(e,n,r,s,i,o,l,c){var u=(e._pt&&e._ptCache||(e._ptCache={}))[n],d,f,h,m;if(!u)for(u=e._ptCache[n]=[],h=e._ptLookup,m=e._targets.length;m--;){if(d=h[m][n],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==n&&d.fp!==n;)d=d._next;if(!d)return up=1,e.vars[n]="+=0",Wm(e,l),up=0,c?Ml(n+" not eligible for reset"):1;u.push(d)}for(m=u.length;m--;)f=u[m],d=f._pt||f,d.s=(s||s===0)&&!i?s:d.s+(s||0)+o*d.c,d.c=r-d.s,f.e&&(f.e=bt(r)+an(f.e)),f.b&&(f.b=d.s+an(f.b))},ZC=function(e,n){var r=e[0]?Bi(e[0]).harness:0,s=r&&r.aliases,i,o,l,c;if(!s)return n;i=to({},n);for(o in s)if(o in i)for(c=s[o].split(","),l=c.length;l--;)i[c[l]]=i[o];return i},e6=function(e,n,r,s){var i=n.ease||s||"power1.inOut",o,l;if(ln(n))l=r[e]||(r[e]=[]),n.forEach(function(c,u){return l.push({t:u/(n.length-1)*100,v:c,e:i})});else for(o in n)l=r[o]||(r[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:n[o],e:i})},ol=function(e,n,r,s,i){return xt(e)?e.call(n,r,s,i):Lt(e)&&~e.indexOf("random(")?zl(e):e},Bw=$m+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Dw={};Pn(Bw+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return Dw[t]=1});var Nt=function(t){X2(e,t);function e(r,s,i,o){var l;typeof s=="number"&&(i.duration=s,s=i,i=null),l=t.call(this,o?s:il(s))||this;var c=l.vars,u=c.duration,d=c.delay,f=c.immediateRender,h=c.stagger,m=c.overwrite,x=c.keyframes,v=c.defaults,w=c.scrollTrigger,b=c.yoyoEase,p=s.parent||ct,g=(ln(r)||Z2(r)?gs(r[0]):"length"in s)?[r]:cr(r),y,_,j,k,C,T,N,B;if(l._targets=g.length?Um(g):Ml("GSAP target "+r+" not found. https://gsap.com",!Qn.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=m,x||h||Ic(u)||Ic(d)){if(s=l.vars,y=l.timeline=new gn({data:"nested",defaults:v||{},targets:p&&p.data==="nested"?p.vars.targets:g}),y.kill(),y.parent=y._dp=ts(l),y._start=0,h||Ic(u)||Ic(d)){if(k=g.length,N=h&&gw(h),Qr(h))for(C in h)~Bw.indexOf(C)&&(B||(B={}),B[C]=h[C]);for(_=0;_<k;_++)j=od(s,Dw),j.stagger=0,b&&(j.yoyoEase=b),B&&to(j,B),T=g[_],j.duration=+ol(u,ts(l),_,T,g),j.delay=(+ol(d,ts(l),_,T,g)||0)-l._delay,!h&&k===1&&j.delay&&(l._delay=d=j.delay,l._start+=d,j.delay=0),y.to(T,j,N?N(_,T,g):0),y._ease=Fe.none;y.duration()?u=d=0:l.timeline=0}else if(x){il(Jn(y.vars.defaults,{ease:"none"})),y._ease=Fi(x.ease||s.ease||"none");var A=0,D,H,q;if(ln(x))x.forEach(function(W){return y.to(g,W,">")}),y.duration();else{j={};for(C in x)C==="ease"||C==="easeEach"||e6(C,x[C],j,x.easeEach);for(C in j)for(D=j[C].sort(function(W,G){return W.t-G.t}),A=0,_=0;_<D.length;_++)H=D[_],q={ease:H.e,duration:(H.t-(_?D[_-1].t:0))/100*u},q[C]=H.v,y.to(g,q,A),A+=q.duration;y.duration()<u&&y.to({},{duration:u-y.duration()})}}u||l.duration(u=y.duration())}else l.timeline=0;return m===!0&&!Im&&(Rs=ts(l),ct.killTweensOf(g),Rs=0),qr(p,ts(l),i),s.reversed&&l.reverse(),s.paused&&l.paused(!0),(f||!u&&!x&&l._start===Ct(p._time)&&An(f)&&PC(ts(l))&&p.data!=="nested")&&(l._tTime=-Ge,l.render(Math.max(0,-d)||0)),w&&fw(ts(l),w),l}var n=e.prototype;return n.render=function(s,i,o){var l=this._time,c=this._tDur,u=this._dur,d=s<0,f=s>c-Ge&&!d?c:s<Ge?0:s,h,m,x,v,w,b,p,g,y;if(!u)DC(this,s,i,o);else if(f!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(h=f,g=this.timeline,this._repeat){if(v=u+this._rDelay,this._repeat<-1&&d)return this.totalTime(v*100+s,i,o);if(h=Ct(f%v),f===c?(x=this._repeat,h=u):(w=Ct(f/v),x=~~w,x&&x===w?(h=u,x--):h>u&&(h=u)),b=this._yoyo&&x&1,b&&(y=this._yEase,h=u-h),w=no(this._tTime,v),h===l&&!o&&this._initted&&x===w)return this._tTime=f,this;x!==w&&(g&&this._yEase&&Ew(g,b),this.vars.repeatRefresh&&!b&&!this._lock&&h!==v&&this._initted&&(this._lock=o=1,this.render(Ct(v*x),!0).invalidate()._lock=0))}if(!this._initted){if(pw(this,d?s:h,o,i,f))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&x!==w))return this;if(u!==this._dur)return this.render(s,i,o)}if(this._tTime=f,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=p=(y||this._ease)(h/u),this._from&&(this.ratio=p=1-p),!l&&f&&!i&&!w&&(Wn(this,"onStart"),this._tTime!==f))return this;for(m=this._pt;m;)m.r(p,m.d),m=m._next;g&&g.render(s<0?s:g._dur*g._ease(h/this._dur),i,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!i&&(d&&ip(this,s,i,o),Wn(this,"onUpdate")),this._repeat&&x!==w&&this.vars.onRepeat&&!i&&this.parent&&Wn(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(d&&!this._onUpdate&&ip(this,s,!0,!0),(s||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&ei(this,1),!i&&!(d&&!l)&&(f||l||b)&&(Wn(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),t.prototype.invalidate.call(this,s)},n.resetTo=function(s,i,o,l,c){Hl||Un.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||Wm(this,u),d=this._ease(u/this._dur),JC(this,s,i,o,l,d,u,c)?this.resetTo(s,i,o,l,1):(Wd(this,0),this.parent||dw(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(s,i){if(i===void 0&&(i="all"),!s&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?zo(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Wt),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,i,Rs&&Rs.vars.overwrite!==!0)._first||zo(this),this.parent&&o!==this.timeline.totalDuration()&&ro(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,c=s?cr(s):l,u=this._ptLookup,d=this._pt,f,h,m,x,v,w,b;if((!i||i==="all")&&TC(l,c))return i==="all"&&(this._pt=0),zo(this);for(f=this._op=this._op||[],i!=="all"&&(Lt(i)&&(v={},Pn(i,function(p){return v[p]=1}),i=v),i=ZC(l,i)),b=l.length;b--;)if(~c.indexOf(l[b])){h=u[b],i==="all"?(f[b]=i,x=h,m={}):(m=f[b]=f[b]||{},x=i);for(v in x)w=h&&h[v],w&&((!("kill"in w.d)||w.d.kill(v)===!0)&&Vd(this,w,"_pt"),delete h[v]),m!=="all"&&(m[v]=1)}return this._initted&&!this._pt&&d&&zo(this),this},e.to=function(s,i){return new e(s,i,arguments[2])},e.from=function(s,i){return al(1,arguments)},e.delayedCall=function(s,i,o,l){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:i,onReverseComplete:i,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(s,i,o){return al(2,arguments)},e.set=function(s,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(s,i)},e.killTweensOf=function(s,i,o){return ct.killTweensOf(s,i,o)},e}(ql);Jn(Nt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Pn("staggerTo,staggerFrom,staggerFromTo",function(t){Nt[t]=function(){var e=new gn,n=op.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var Gm=function(e,n,r){return e[n]=r},Fw=function(e,n,r){return e[n](r)},t6=function(e,n,r,s){return e[n](s.fp,r)},n6=function(e,n,r){return e.setAttribute(n,r)},Qm=function(e,n){return xt(e[n])?Fw:Mm(e[n])&&e.setAttribute?n6:Gm},Rw=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},r6=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},Ow=function(e,n){var r=n._pt,s="";if(!e&&n.b)s=n.b;else if(e===1&&n.e)s=n.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+s,r=r._next;s+=n.c}n.set(n.t,n.p,s,n)},Ym=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},s6=function(e,n,r,s){for(var i=this._pt,o;i;)o=i._next,i.p===s&&i.modifier(e,n,r),i=o},i6=function(e){for(var n=this._pt,r,s;n;)s=n._next,n.p===e&&!n.op||n.op===e?Vd(this,n,"_pt"):n.dep||(r=1),n=s;return!r},a6=function(e,n,r,s){s.mSet(e,n,s.m.call(s.tween,r,s.mt),s)},Iw=function(e){for(var n=e._pt,r,s,i,o;n;){for(r=n._next,s=i;s&&s.pr>n.pr;)s=s._next;(n._prev=s?s._prev:o)?n._prev._next=n:i=n,(n._next=s)?s._prev=n:o=n,n=r}e._pt=i},Bn=function(){function t(n,r,s,i,o,l,c,u,d){this.t=r,this.s=i,this.c=o,this.p=s,this.r=l||Rw,this.d=c||this,this.set=u||Gm,this.pr=d||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,s,i){this.mSet=this.mSet||this.set,this.set=a6,this.m=r,this.mt=i,this.tween=s},t}();Pn($m+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return qm[t]=1});Xn.TweenMax=Xn.TweenLite=Nt;Xn.TimelineLite=Xn.TimelineMax=gn;ct=new gn({sortChildren:!1,defaults:eo,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Qn.stringFilter=Cw;var Ri=[],yu={},o6=[],n1=0,l6=0,$h=function(e){return(yu[e]||o6).map(function(n){return n()})},dp=function(){var e=Date.now(),n=[];e-n1>2&&($h("matchMediaInit"),Ri.forEach(function(r){var s=r.queries,i=r.conditions,o,l,c,u;for(l in s)o=Mr.matchMedia(s[l]).matches,o&&(c=1),o!==i[l]&&(i[l]=o,u=1);u&&(r.revert(),c&&n.push(r))}),$h("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(s){return r.add(null,s)})}),n1=e,$h("matchMedia"))},Mw=function(){function t(n,r){this.selector=r&&lp(r),this.data=[],this._r=[],this.isReverted=!1,this.id=l6++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,s,i){xt(r)&&(i=s,s=r,r=xt);var o=this,l=function(){var u=st,d=o.selector,f;return u&&u!==o&&u.data.push(o),i&&(o.selector=lp(i)),st=o,f=s.apply(o,arguments),xt(f)&&o._r.push(f),st=u,o.selector=d,o.isReverted=!1,f};return o.last=l,r===xt?l(o,function(c){return o.add(null,c)}):r?o[r]=l:l},e.ignore=function(r){var s=st;st=null,r(this),st=s},e.getTweens=function(){var r=[];return this.data.forEach(function(s){return s instanceof t?r.push.apply(r,s.getTweens()):s instanceof Nt&&!(s.parent&&s.parent.data==="nested")&&r.push(s)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,s){var i=this;if(r?function(){for(var l=i.getTweens(),c=i.data.length,u;c--;)u=i.data[c],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(d){return l.splice(l.indexOf(d),1)}));for(l.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,f){return f.g-d.g||-1/0}).forEach(function(d){return d.t.revert(r)}),c=i.data.length;c--;)u=i.data[c],u instanceof gn?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof Nt)&&u.revert&&u.revert(r);i._r.forEach(function(d){return d(r,i)}),i.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),s)for(var o=Ri.length;o--;)Ri[o].id===this.id&&Ri.splice(o,1)},e.revert=function(r){this.kill(r||{})},t}(),c6=function(){function t(n){this.contexts=[],this.scope=n,st&&st.data.push(this)}var e=t.prototype;return e.add=function(r,s,i){Qr(r)||(r={matches:r});var o=new Mw(0,i||this.scope),l=o.conditions={},c,u,d;st&&!o.selector&&(o.selector=st.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=r;for(u in r)u==="all"?d=1:(c=Mr.matchMedia(r[u]),c&&(Ri.indexOf(o)<0&&Ri.push(o),(l[u]=c.matches)&&(d=1),c.addListener?c.addListener(dp):c.addEventListener("change",dp)));return d&&s(o,function(f){return o.add(null,f)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(s){return s.kill(r,!0)})},t}(),cd={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(s){return kw(s)})},timeline:function(e){return new gn(e)},getTweensOf:function(e,n){return ct.getTweensOf(e,n)},getProperty:function(e,n,r,s){Lt(e)&&(e=cr(e)[0]);var i=Bi(e||{}).get,o=r?uw:cw;return r==="native"&&(r=""),e&&(n?o((qn[n]&&qn[n].get||i)(e,n,r,s)):function(l,c,u){return o((qn[l]&&qn[l].get||i)(e,l,c,u))})},quickSetter:function(e,n,r){if(e=cr(e),e.length>1){var s=e.map(function(d){return Fn.quickSetter(d,n,r)}),i=s.length;return function(d){for(var f=i;f--;)s[f](d)}}e=e[0]||{};var o=qn[n],l=Bi(e),c=l.harness&&(l.harness.aliases||{})[n]||n,u=o?function(d){var f=new o;Aa._pt=0,f.init(e,r?d+r:d,Aa,0,[e]),f.render(1,f),Aa._pt&&Ym(1,Aa)}:l.set(e,c);return o?u:function(d){return u(e,c,r?d+r:d,l,1)}},quickTo:function(e,n,r){var s,i=Fn.to(e,Jn((s={},s[n]="+=0.1",s.paused=!0,s.stagger=0,s),r||{})),o=function(c,u,d){return i.resetTo(n,c,u,d)};return o.tween=i,o},isTweening:function(e){return ct.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Fi(e.ease,eo.ease)),Xg(eo,e||{})},config:function(e){return Xg(Qn,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,s=e.plugins,i=e.defaults,o=e.extendTimeline;(s||"").split(",").forEach(function(l){return l&&!qn[l]&&!Xn[l]&&Ml(n+" effect requires "+l+" plugin.")}),Lh[n]=function(l,c,u){return r(cr(l),Jn(c||{},i),u)},o&&(gn.prototype[n]=function(l,c,u){return this.add(Lh[n](l,Qr(c)?c:(u=c)&&{},this),u)})},registerEase:function(e,n){Fe[e]=Fi(n)},parseEase:function(e,n){return arguments.length?Fi(e,n):Fe},getById:function(e){return ct.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new gn(e),s,i;for(r.smoothChildTiming=An(e.smoothChildTiming),ct.remove(r),r._dp=0,r._time=r._tTime=ct._time,s=ct._first;s;)i=s._next,(n||!(!s._dur&&s instanceof Nt&&s.vars.onComplete===s._targets[0]))&&qr(r,s,s._start-s._delay),s=i;return qr(ct,r,0),r},context:function(e,n){return e?new Mw(e,n):st},matchMedia:function(e){return new c6(e)},matchMediaRefresh:function(){return Ri.forEach(function(e){var n=e.conditions,r,s;for(s in n)n[s]&&(n[s]=!1,r=1);r&&e.revert()})||dp()},addEventListener:function(e,n){var r=yu[e]||(yu[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=yu[e],s=r&&r.indexOf(n);s>=0&&r.splice(s,1)},utils:{wrap:HC,wrapYoyo:qC,distribute:gw,random:bw,snap:vw,normalize:zC,getUnit:an,clamp:OC,splitColor:jw,toArray:cr,selector:lp,mapRange:ww,pipe:MC,unitize:LC,interpolate:$C,shuffle:xw},install:sw,effects:Lh,ticker:Un,updateRoot:gn.updateRoot,plugins:qn,globalTimeline:ct,core:{PropTween:Bn,globals:iw,Tween:Nt,Timeline:gn,Animation:ql,getCache:Bi,_removeLinkedListItem:Vd,reverting:function(){return Wt},context:function(e){return e&&st&&(st.data.push(e),e._ctx=st),st},suppressOverwrites:function(e){return Im=e}}};Pn("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return cd[t]=Nt[t]});Un.add(gn.updateRoot);Aa=cd.to({},{duration:0});var u6=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},d6=function(e,n){var r=e._targets,s,i,o;for(s in n)for(i=r.length;i--;)o=e._ptLookup[i][s],o&&(o=o.d)&&(o._pt&&(o=u6(o,s)),o&&o.modifier&&o.modifier(n[s],e,r[i],s))},Uh=function(e,n){return{name:e,headless:1,rawVars:1,init:function(s,i,o){o._onInit=function(l){var c,u;if(Lt(i)&&(c={},Pn(i,function(d){return c[d]=1}),i=c),n){c={};for(u in i)c[u]=n(i[u]);i=c}d6(l,i)}}}},Fn=cd.registerPlugin({name:"attr",init:function(e,n,r,s,i){var o,l,c;this.tween=r;for(o in n)c=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(c||0)+"",n[o],s,i,0,0,o),l.op=o,l.b=c,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)Wt?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},Uh("roundProps",cp),Uh("modifiers"),Uh("snap",vw))||cd;Nt.version=gn.version=Fn.version="3.13.0";rw=1;Lm()&&so();Fe.Power0;Fe.Power1;Fe.Power2;Fe.Power3;Fe.Power4;Fe.Linear;Fe.Quad;Fe.Cubic;Fe.Quart;Fe.Quint;Fe.Strong;Fe.Elastic;Fe.Back;Fe.SteppedEase;Fe.Bounce;Fe.Sine;Fe.Expo;Fe.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var r1,Os,La,Xm,Si,s1,Jm,h6=function(){return typeof window<"u"},vs={},vi=180/Math.PI,za=Math.PI/180,la=Math.atan2,i1=1e8,Zm=/([A-Z])/g,f6=/(left|right|width|margin|padding|x)/i,p6=/[\s,\(]\S/,Ur={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},hp=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},m6=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},x6=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},g6=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},Lw=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},zw=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},v6=function(e,n,r){return e.style[n]=r},b6=function(e,n,r){return e.style.setProperty(n,r)},y6=function(e,n,r){return e._gsap[n]=r},w6=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},_6=function(e,n,r,s,i){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(i,o)},k6=function(e,n,r,s,i){var o=e._gsap;o[n]=r,o.renderTransform(i,o)},ut="transform",Dn=ut+"Origin",j6=function t(e,n){var r=this,s=this.target,i=s.style,o=s._gsap;if(e in vs&&i){if(this.tfm=this.tfm||{},e!=="transform")e=Ur[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return r.tfm[l]=rs(s,l)}):this.tfm[e]=o.x?o[e]:rs(s,e),e===Dn&&(this.tfm.zOrigin=o.zOrigin);else return Ur.transform.split(",").forEach(function(l){return t.call(r,l,n)});if(this.props.indexOf(ut)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(Dn,n,"")),e=ut}(i||n)&&this.props.push(e,n,i[e])},Hw=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},N6=function(){var e=this.props,n=this.target,r=n.style,s=n._gsap,i,o;for(i=0;i<e.length;i+=3)e[i+1]?e[i+1]===2?n[e[i]](e[i+2]):n[e[i]]=e[i+2]:e[i+2]?r[e[i]]=e[i+2]:r.removeProperty(e[i].substr(0,2)==="--"?e[i]:e[i].replace(Zm,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),i=Jm(),(!i||!i.isStart)&&!r[ut]&&(Hw(r),s.zOrigin&&r[Dn]&&(r[Dn]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},qw=function(e,n){var r={target:e,props:[],revert:N6,save:j6};return e._gsap||Fn.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(s){return r.save(s)}),r},$w,fp=function(e,n){var r=Os.createElementNS?Os.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Os.createElement(e);return r&&r.style?r:Os.createElement(e)},ur=function t(e,n,r){var s=getComputedStyle(e);return s[n]||s.getPropertyValue(n.replace(Zm,"-$1").toLowerCase())||s.getPropertyValue(n)||!r&&t(e,io(n)||n,1)||""},a1="O,Moz,ms,Ms,Webkit".split(","),io=function(e,n,r){var s=n||Si,i=s.style,o=5;if(e in i&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(a1[o]+e in i););return o<0?null:(o===3?"ms":o>=0?a1[o]:"")+e},pp=function(){h6()&&window.document&&(r1=window,Os=r1.document,La=Os.documentElement,Si=fp("div")||{style:{}},fp("div"),ut=io(ut),Dn=ut+"Origin",Si.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",$w=!!io("perspective"),Jm=Fn.core.reverting,Xm=1)},o1=function(e){var n=e.ownerSVGElement,r=fp("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),i;s.style.display="block",r.appendChild(s),La.appendChild(r);try{i=s.getBBox()}catch{}return r.removeChild(s),La.removeChild(r),i},l1=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},Uw=function(e){var n,r;try{n=e.getBBox()}catch{n=o1(e),r=1}return n&&(n.width||n.height)||r||(n=o1(e)),n&&!n.width&&!n.x&&!n.y?{x:+l1(e,["x","cx","x1"])||0,y:+l1(e,["y","cy","y1"])||0,width:0,height:0}:n},Vw=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Uw(e))},Ki=function(e,n){if(n){var r=e.style,s;n in vs&&n!==Dn&&(n=ut),r.removeProperty?(s=n.substr(0,2),(s==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(s==="--"?n:n.replace(Zm,"-$1").toLowerCase())):r.removeAttribute(n)}},Is=function(e,n,r,s,i,o){var l=new Bn(e._pt,n,r,0,1,o?zw:Lw);return e._pt=l,l.b=s,l.e=i,e._props.push(r),l},c1={deg:1,rad:1,turn:1},C6={grid:1,flex:1},ti=function t(e,n,r,s){var i=parseFloat(r)||0,o=(r+"").trim().substr((i+"").length)||"px",l=Si.style,c=f6.test(n),u=e.tagName.toLowerCase()==="svg",d=(u?"client":"offset")+(c?"Width":"Height"),f=100,h=s==="px",m=s==="%",x,v,w,b;if(s===o||!i||c1[s]||c1[o])return i;if(o!=="px"&&!h&&(i=t(e,n,r,"px")),b=e.getCTM&&Vw(e),(m||o==="%")&&(vs[n]||~n.indexOf("adius")))return x=b?e.getBBox()[c?"width":"height"]:e[d],bt(m?i/x*f:i/100*x);if(l[c?"width":"height"]=f+(h?o:s),v=s!=="rem"&&~n.indexOf("adius")||s==="em"&&e.appendChild&&!u?e:e.parentNode,b&&(v=(e.ownerSVGElement||{}).parentNode),(!v||v===Os||!v.appendChild)&&(v=Os.body),w=v._gsap,w&&m&&w.width&&c&&w.time===Un.time&&!w.uncache)return bt(i/w.width*f);if(m&&(n==="height"||n==="width")){var p=e.style[n];e.style[n]=f+s,x=e[d],p?e.style[n]=p:Ki(e,n)}else(m||o==="%")&&!C6[ur(v,"display")]&&(l.position=ur(e,"position")),v===e&&(l.position="static"),v.appendChild(Si),x=Si[d],v.removeChild(Si),l.position="absolute";return c&&m&&(w=Bi(v),w.time=Un.time,w.width=v[d]),bt(h?x*i/f:x&&i?f/x*i:0)},rs=function(e,n,r,s){var i;return Xm||pp(),n in Ur&&n!=="transform"&&(n=Ur[n],~n.indexOf(",")&&(n=n.split(",")[0])),vs[n]&&n!=="transform"?(i=Ul(e,s),i=n!=="transformOrigin"?i[n]:i.svg?i.origin:dd(ur(e,Dn))+" "+i.zOrigin+"px"):(i=e.style[n],(!i||i==="auto"||s||~(i+"").indexOf("calc("))&&(i=ud[n]&&ud[n](e,n,r)||ur(e,n)||ow(e,n)||(n==="opacity"?1:0))),r&&!~(i+"").trim().indexOf(" ")?ti(e,n,i,r)+r:i},S6=function(e,n,r,s){if(!r||r==="none"){var i=io(n,e,1),o=i&&ur(e,i,1);o&&o!==r?(n=i,r=o):n==="borderColor"&&(r=ur(e,"borderTopColor"))}var l=new Bn(this._pt,e.style,n,0,1,Ow),c=0,u=0,d,f,h,m,x,v,w,b,p,g,y,_;if(l.b=r,l.e=s,r+="",s+="",s.substring(0,6)==="var(--"&&(s=ur(e,s.substring(4,s.indexOf(")")))),s==="auto"&&(v=e.style[n],e.style[n]=s,s=ur(e,n)||s,v?e.style[n]=v:Ki(e,n)),d=[r,s],Cw(d),r=d[0],s=d[1],h=r.match(Ta)||[],_=s.match(Ta)||[],_.length){for(;f=Ta.exec(s);)w=f[0],p=s.substring(c,f.index),x?x=(x+1)%5:(p.substr(-5)==="rgba("||p.substr(-5)==="hsla(")&&(x=1),w!==(v=h[u++]||"")&&(m=parseFloat(v)||0,y=v.substr((m+"").length),w.charAt(1)==="="&&(w=Ma(m,w)+y),b=parseFloat(w),g=w.substr((b+"").length),c=Ta.lastIndex-g.length,g||(g=g||Qn.units[n]||y,c===s.length&&(s+=g,l.e+=g)),y!==g&&(m=ti(e,n,v,g)||0),l._pt={_next:l._pt,p:p||u===1?p:",",s:m,c:b-m,m:x&&x<4||n==="zIndex"?Math.round:0});l.c=c<s.length?s.substring(c,s.length):""}else l.r=n==="display"&&s==="none"?zw:Lw;return tw.test(s)&&(l.e=0),this._pt=l,l},u1={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},E6=function(e){var n=e.split(" "),r=n[0],s=n[1]||"50%";return(r==="top"||r==="bottom"||s==="left"||s==="right")&&(e=r,r=s,s=e),n[0]=u1[r]||r,n[1]=u1[s]||s,n.join(" ")},T6=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,s=r.style,i=n.u,o=r._gsap,l,c,u;if(i==="all"||i===!0)s.cssText="",c=1;else for(i=i.split(","),u=i.length;--u>-1;)l=i[u],vs[l]&&(c=1,l=l==="transformOrigin"?Dn:ut),Ki(r,l);c&&(Ki(r,ut),o&&(o.svg&&r.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",Ul(r,1),o.uncache=1,Hw(s)))}},ud={clearProps:function(e,n,r,s,i){if(i.data!=="isFromStart"){var o=e._pt=new Bn(e._pt,n,r,0,0,T6);return o.u=s,o.pr=-10,o.tween=i,e._props.push(r),1}}},$l=[1,0,0,1,0,0],Kw={},Ww=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},d1=function(e){var n=ur(e,ut);return Ww(n)?$l:n.substr(7).match(ew).map(bt)},ex=function(e,n){var r=e._gsap||Bi(e),s=e.style,i=d1(e),o,l,c,u;return r.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,i=[c.a,c.b,c.c,c.d,c.e,c.f],i.join(",")==="1,0,0,1,0,0"?$l:i):(i===$l&&!e.offsetParent&&e!==La&&!r.svg&&(c=s.display,s.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,l=e.nextElementSibling,La.appendChild(e)),i=d1(e),c?s.display=c:Ki(e,"display"),u&&(l?o.insertBefore(e,l):o?o.appendChild(e):La.removeChild(e))),n&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},mp=function(e,n,r,s,i,o){var l=e._gsap,c=i||ex(e,!0),u=l.xOrigin||0,d=l.yOrigin||0,f=l.xOffset||0,h=l.yOffset||0,m=c[0],x=c[1],v=c[2],w=c[3],b=c[4],p=c[5],g=n.split(" "),y=parseFloat(g[0])||0,_=parseFloat(g[1])||0,j,k,C,T;r?c!==$l&&(k=m*w-x*v)&&(C=y*(w/k)+_*(-v/k)+(v*p-w*b)/k,T=y*(-x/k)+_*(m/k)-(m*p-x*b)/k,y=C,_=T):(j=Uw(e),y=j.x+(~g[0].indexOf("%")?y/100*j.width:y),_=j.y+(~(g[1]||g[0]).indexOf("%")?_/100*j.height:_)),s||s!==!1&&l.smooth?(b=y-u,p=_-d,l.xOffset=f+(b*m+p*v)-b,l.yOffset=h+(b*x+p*w)-p):l.xOffset=l.yOffset=0,l.xOrigin=y,l.yOrigin=_,l.smooth=!!s,l.origin=n,l.originIsAbsolute=!!r,e.style[Dn]="0px 0px",o&&(Is(o,l,"xOrigin",u,y),Is(o,l,"yOrigin",d,_),Is(o,l,"xOffset",f,l.xOffset),Is(o,l,"yOffset",h,l.yOffset)),e.setAttribute("data-svg-origin",y+" "+_)},Ul=function(e,n){var r=e._gsap||new Aw(e);if("x"in r&&!n&&!r.uncache)return r;var s=e.style,i=r.scaleX<0,o="px",l="deg",c=getComputedStyle(e),u=ur(e,Dn)||"0",d,f,h,m,x,v,w,b,p,g,y,_,j,k,C,T,N,B,A,D,H,q,W,G,I,K,E,O,M,U,z,de;return d=f=h=v=w=b=p=g=y=0,m=x=1,r.svg=!!(e.getCTM&&Vw(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(s[ut]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[ut]!=="none"?c[ut]:"")),s.scale=s.rotate=s.translate="none"),k=ex(e,r.svg),r.svg&&(r.uncache?(I=e.getBBox(),u=r.xOrigin-I.x+"px "+(r.yOrigin-I.y)+"px",G=""):G=!n&&e.getAttribute("data-svg-origin"),mp(e,G||u,!!G||r.originIsAbsolute,r.smooth!==!1,k)),_=r.xOrigin||0,j=r.yOrigin||0,k!==$l&&(B=k[0],A=k[1],D=k[2],H=k[3],d=q=k[4],f=W=k[5],k.length===6?(m=Math.sqrt(B*B+A*A),x=Math.sqrt(H*H+D*D),v=B||A?la(A,B)*vi:0,p=D||H?la(D,H)*vi+v:0,p&&(x*=Math.abs(Math.cos(p*za))),r.svg&&(d-=_-(_*B+j*D),f-=j-(_*A+j*H))):(de=k[6],U=k[7],E=k[8],O=k[9],M=k[10],z=k[11],d=k[12],f=k[13],h=k[14],C=la(de,M),w=C*vi,C&&(T=Math.cos(-C),N=Math.sin(-C),G=q*T+E*N,I=W*T+O*N,K=de*T+M*N,E=q*-N+E*T,O=W*-N+O*T,M=de*-N+M*T,z=U*-N+z*T,q=G,W=I,de=K),C=la(-D,M),b=C*vi,C&&(T=Math.cos(-C),N=Math.sin(-C),G=B*T-E*N,I=A*T-O*N,K=D*T-M*N,z=H*N+z*T,B=G,A=I,D=K),C=la(A,B),v=C*vi,C&&(T=Math.cos(C),N=Math.sin(C),G=B*T+A*N,I=q*T+W*N,A=A*T-B*N,W=W*T-q*N,B=G,q=I),w&&Math.abs(w)+Math.abs(v)>359.9&&(w=v=0,b=180-b),m=bt(Math.sqrt(B*B+A*A+D*D)),x=bt(Math.sqrt(W*W+de*de)),C=la(q,W),p=Math.abs(C)>2e-4?C*vi:0,y=z?1/(z<0?-z:z):0),r.svg&&(G=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!Ww(ur(e,ut)),G&&e.setAttribute("transform",G))),Math.abs(p)>90&&Math.abs(p)<270&&(i?(m*=-1,p+=v<=0?180:-180,v+=v<=0?180:-180):(x*=-1,p+=p<=0?180:-180)),n=n||r.uncache,r.x=d-((r.xPercent=d&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=h+o,r.scaleX=bt(m),r.scaleY=bt(x),r.rotation=bt(v)+l,r.rotationX=bt(w)+l,r.rotationY=bt(b)+l,r.skewX=p+l,r.skewY=g+l,r.transformPerspective=y+o,(r.zOrigin=parseFloat(u.split(" ")[2])||!n&&r.zOrigin||0)&&(s[Dn]=dd(u)),r.xOffset=r.yOffset=0,r.force3D=Qn.force3D,r.renderTransform=r.svg?P6:$w?Gw:A6,r.uncache=0,r},dd=function(e){return(e=e.split(" "))[0]+" "+e[1]},Vh=function(e,n,r){var s=an(n);return bt(parseFloat(n)+parseFloat(ti(e,"x",r+"px",s)))+s},A6=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,Gw(e,n)},fi="0deg",Eo="0px",pi=") ",Gw=function(e,n){var r=n||this,s=r.xPercent,i=r.yPercent,o=r.x,l=r.y,c=r.z,u=r.rotation,d=r.rotationY,f=r.rotationX,h=r.skewX,m=r.skewY,x=r.scaleX,v=r.scaleY,w=r.transformPerspective,b=r.force3D,p=r.target,g=r.zOrigin,y="",_=b==="auto"&&e&&e!==1||b===!0;if(g&&(f!==fi||d!==fi)){var j=parseFloat(d)*za,k=Math.sin(j),C=Math.cos(j),T;j=parseFloat(f)*za,T=Math.cos(j),o=Vh(p,o,k*T*-g),l=Vh(p,l,-Math.sin(j)*-g),c=Vh(p,c,C*T*-g+g)}w!==Eo&&(y+="perspective("+w+pi),(s||i)&&(y+="translate("+s+"%, "+i+"%) "),(_||o!==Eo||l!==Eo||c!==Eo)&&(y+=c!==Eo||_?"translate3d("+o+", "+l+", "+c+") ":"translate("+o+", "+l+pi),u!==fi&&(y+="rotate("+u+pi),d!==fi&&(y+="rotateY("+d+pi),f!==fi&&(y+="rotateX("+f+pi),(h!==fi||m!==fi)&&(y+="skew("+h+", "+m+pi),(x!==1||v!==1)&&(y+="scale("+x+", "+v+pi),p.style[ut]=y||"translate(0, 0)"},P6=function(e,n){var r=n||this,s=r.xPercent,i=r.yPercent,o=r.x,l=r.y,c=r.rotation,u=r.skewX,d=r.skewY,f=r.scaleX,h=r.scaleY,m=r.target,x=r.xOrigin,v=r.yOrigin,w=r.xOffset,b=r.yOffset,p=r.forceCSS,g=parseFloat(o),y=parseFloat(l),_,j,k,C,T;c=parseFloat(c),u=parseFloat(u),d=parseFloat(d),d&&(d=parseFloat(d),u+=d,c+=d),c||u?(c*=za,u*=za,_=Math.cos(c)*f,j=Math.sin(c)*f,k=Math.sin(c-u)*-h,C=Math.cos(c-u)*h,u&&(d*=za,T=Math.tan(u-d),T=Math.sqrt(1+T*T),k*=T,C*=T,d&&(T=Math.tan(d),T=Math.sqrt(1+T*T),_*=T,j*=T)),_=bt(_),j=bt(j),k=bt(k),C=bt(C)):(_=f,C=h,j=k=0),(g&&!~(o+"").indexOf("px")||y&&!~(l+"").indexOf("px"))&&(g=ti(m,"x",o,"px"),y=ti(m,"y",l,"px")),(x||v||w||b)&&(g=bt(g+x-(x*_+v*k)+w),y=bt(y+v-(x*j+v*C)+b)),(s||i)&&(T=m.getBBox(),g=bt(g+s/100*T.width),y=bt(y+i/100*T.height)),T="matrix("+_+","+j+","+k+","+C+","+g+","+y+")",m.setAttribute("transform",T),p&&(m.style[ut]=T)},B6=function(e,n,r,s,i){var o=360,l=Lt(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?vi:1),u=c-s,d=s+u+"deg",f,h;return l&&(f=i.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*i1)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*i1)%o-~~(u/o)*o)),e._pt=h=new Bn(e._pt,n,r,s,u,m6),h.e=d,h.u="deg",e._props.push(r),h},h1=function(e,n){for(var r in n)e[r]=n[r];return e},D6=function(e,n,r){var s=h1({},r._gsap),i="perspective,force3D,transformOrigin,svgOrigin",o=r.style,l,c,u,d,f,h,m,x;s.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),o[ut]=n,l=Ul(r,1),Ki(r,ut),r.setAttribute("transform",u)):(u=getComputedStyle(r)[ut],o[ut]=n,l=Ul(r,1),o[ut]=u);for(c in vs)u=s[c],d=l[c],u!==d&&i.indexOf(c)<0&&(m=an(u),x=an(d),f=m!==x?ti(r,c,u,x):parseFloat(u),h=parseFloat(d),e._pt=new Bn(e._pt,l,c,f,h-f,hp),e._pt.u=x||0,e._props.push(c));h1(l,s)};Pn("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",s="Bottom",i="Left",o=(e<3?[n,r,s,i]:[n+i,n+r,s+r,s+i]).map(function(l){return e<2?t+l:"border"+l+t});ud[e>1?"border"+t:t]=function(l,c,u,d,f){var h,m;if(arguments.length<4)return h=o.map(function(x){return rs(l,x,u)}),m=h.join(" "),m.split(h[0]).length===5?h[0]:m;h=(d+"").split(" "),m={},o.forEach(function(x,v){return m[x]=h[v]=h[v]||h[(v-1)/2|0]}),l.init(c,m,f)}});var Qw={name:"css",register:pp,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,s,i){var o=this._props,l=e.style,c=r.vars.startAt,u,d,f,h,m,x,v,w,b,p,g,y,_,j,k,C;Xm||pp(),this.styles=this.styles||qw(e),C=this.styles.props,this.tween=r;for(v in n)if(v!=="autoRound"&&(d=n[v],!(qn[v]&&Pw(v,n,r,s,e,i)))){if(m=typeof d,x=ud[v],m==="function"&&(d=d.call(r,s,e,i),m=typeof d),m==="string"&&~d.indexOf("random(")&&(d=zl(d)),x)x(this,e,v,d,r)&&(k=1);else if(v.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(v)+"").trim(),d+="",Qs.lastIndex=0,Qs.test(u)||(w=an(u),b=an(d)),b?w!==b&&(u=ti(e,v,u,b)+b):w&&(d+=w),this.add(l,"setProperty",u,d,s,i,0,0,v),o.push(v),C.push(v,0,l[v]);else if(m!=="undefined"){if(c&&v in c?(u=typeof c[v]=="function"?c[v].call(r,s,e,i):c[v],Lt(u)&&~u.indexOf("random(")&&(u=zl(u)),an(u+"")||u==="auto"||(u+=Qn.units[v]||an(rs(e,v))||""),(u+"").charAt(1)==="="&&(u=rs(e,v))):u=rs(e,v),h=parseFloat(u),p=m==="string"&&d.charAt(1)==="="&&d.substr(0,2),p&&(d=d.substr(2)),f=parseFloat(d),v in Ur&&(v==="autoAlpha"&&(h===1&&rs(e,"visibility")==="hidden"&&f&&(h=0),C.push("visibility",0,l.visibility),Is(this,l,"visibility",h?"inherit":"hidden",f?"inherit":"hidden",!f)),v!=="scale"&&v!=="transform"&&(v=Ur[v],~v.indexOf(",")&&(v=v.split(",")[0]))),g=v in vs,g){if(this.styles.save(v),m==="string"&&d.substring(0,6)==="var(--"&&(d=ur(e,d.substring(4,d.indexOf(")"))),f=parseFloat(d)),y||(_=e._gsap,_.renderTransform&&!n.parseTransform||Ul(e,n.parseTransform),j=n.smoothOrigin!==!1&&_.smooth,y=this._pt=new Bn(this._pt,l,ut,0,1,_.renderTransform,_,0,-1),y.dep=1),v==="scale")this._pt=new Bn(this._pt,_,"scaleY",_.scaleY,(p?Ma(_.scaleY,p+f):f)-_.scaleY||0,hp),this._pt.u=0,o.push("scaleY",v),v+="X";else if(v==="transformOrigin"){C.push(Dn,0,l[Dn]),d=E6(d),_.svg?mp(e,d,0,j,0,this):(b=parseFloat(d.split(" ")[2])||0,b!==_.zOrigin&&Is(this,_,"zOrigin",_.zOrigin,b),Is(this,l,v,dd(u),dd(d)));continue}else if(v==="svgOrigin"){mp(e,d,1,j,0,this);continue}else if(v in Kw){B6(this,_,v,h,p?Ma(h,p+d):d);continue}else if(v==="smoothOrigin"){Is(this,_,"smooth",_.smooth,d);continue}else if(v==="force3D"){_[v]=d;continue}else if(v==="transform"){D6(this,d,e);continue}}else v in l||(v=io(v)||v);if(g||(f||f===0)&&(h||h===0)&&!p6.test(d)&&v in l)w=(u+"").substr((h+"").length),f||(f=0),b=an(d)||(v in Qn.units?Qn.units[v]:w),w!==b&&(h=ti(e,v,u,b)),this._pt=new Bn(this._pt,g?_:l,v,h,(p?Ma(h,p+f):f)-h,!g&&(b==="px"||v==="zIndex")&&n.autoRound!==!1?g6:hp),this._pt.u=b||0,w!==b&&b!=="%"&&(this._pt.b=u,this._pt.r=x6);else if(v in l)S6.call(this,e,v,u,p?p+d:d);else if(v in e)this.add(e,v,u||e[v],p?p+d:d,s,i);else if(v!=="parseTransform"){Hm(v,d);continue}g||(v in l?C.push(v,0,l[v]):typeof e[v]=="function"?C.push(v,2,e[v]()):C.push(v,1,u||e[v])),o.push(v)}}k&&Iw(this)},render:function(e,n){if(n.tween._time||!Jm())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:rs,aliases:Ur,getSetter:function(e,n,r){var s=Ur[n];return s&&s.indexOf(",")<0&&(n=s),n in vs&&n!==Dn&&(e._gsap.x||rs(e,"x"))?r&&s1===r?n==="scale"?w6:y6:(s1=r||{})&&(n==="scale"?_6:k6):e.style&&!Mm(e.style[n])?v6:~n.indexOf("-")?b6:Qm(e,n)},core:{_removeProperty:Ki,_getMatrix:ex}};Fn.utils.checkPrefix=io;Fn.core.getStyleSaver=qw;(function(t,e,n,r){var s=Pn(t+","+e+","+n,function(i){vs[i]=1});Pn(e,function(i){Qn.units[i]="deg",Kw[i]=1}),Ur[s[13]]=t+","+e,Pn(r,function(i){var o=i.split(":");Ur[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Pn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Qn.units[t]="px"});Fn.registerPlugin(Qw);var _i=Fn.registerPlugin(Qw)||Fn;_i.core.Tween;function F6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R6(t,e,n){return e&&F6(t.prototype,e),t}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Vt,wu,Vn,Ms,Ls,Ha,Yw,bi,ll,Xw,os,br,Jw,Zw=function(){return Vt||typeof window<"u"&&(Vt=window.gsap)&&Vt.registerPlugin&&Vt},e_=1,Pa=[],Se=[],Gr=[],cl=Date.now,xp=function(e,n){return n},O6=function(){var e=ll.core,n=e.bridge||{},r=e._scrollers,s=e._proxies;r.push.apply(r,Se),s.push.apply(s,Gr),Se=r,Gr=s,xp=function(o,l){return n[o](l)}},Ys=function(e,n){return~Gr.indexOf(e)&&Gr[Gr.indexOf(e)+1][n]},ul=function(e){return!!~Xw.indexOf(e)},hn=function(e,n,r,s,i){return e.addEventListener(n,r,{passive:s!==!1,capture:!!i})},dn=function(e,n,r,s){return e.removeEventListener(n,r,!!s)},Mc="scrollLeft",Lc="scrollTop",gp=function(){return os&&os.isPressed||Se.cache++},hd=function(e,n){var r=function s(i){if(i||i===0){e_&&(Vn.history.scrollRestoration="manual");var o=os&&os.isPressed;i=s.v=Math.round(i)||(os&&os.iOS?1:0),e(i),s.cacheID=Se.cache,o&&xp("ss",i)}else(n||Se.cache!==s.cacheID||xp("ref"))&&(s.cacheID=Se.cache,s.v=e());return s.v+s.offset};return r.offset=0,e&&r},vn={s:Mc,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:hd(function(t){return arguments.length?Vn.scrollTo(t,Dt.sc()):Vn.pageXOffset||Ms[Mc]||Ls[Mc]||Ha[Mc]||0})},Dt={s:Lc,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:vn,sc:hd(function(t){return arguments.length?Vn.scrollTo(vn.sc(),t):Vn.pageYOffset||Ms[Lc]||Ls[Lc]||Ha[Lc]||0})},kn=function(e,n){return(n&&n._ctx&&n._ctx.selector||Vt.utils.toArray)(e)[0]||(typeof e=="string"&&Vt.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},I6=function(e,n){for(var r=n.length;r--;)if(n[r]===e||n[r].contains(e))return!0;return!1},ni=function(e,n){var r=n.s,s=n.sc;ul(e)&&(e=Ms.scrollingElement||Ls);var i=Se.indexOf(e),o=s===Dt.sc?1:2;!~i&&(i=Se.push(e)-1),Se[i+o]||hn(e,"scroll",gp);var l=Se[i+o],c=l||(Se[i+o]=hd(Ys(e,r),!0)||(ul(e)?s:hd(function(u){return arguments.length?e[r]=u:e[r]})));return c.target=e,l||(c.smooth=Vt.getProperty(e,"scrollBehavior")==="smooth"),c},vp=function(e,n,r){var s=e,i=e,o=cl(),l=o,c=n||50,u=Math.max(500,c*3),d=function(x,v){var w=cl();v||w-o>c?(i=s,s=x,l=o,o=w):r?s+=x:s=i+(x-i)/(w-l)*(o-l)},f=function(){i=s=r?0:s,l=o=0},h=function(x){var v=l,w=i,b=cl();return(x||x===0)&&x!==s&&d(x),o===l||b-l>u?0:(s+(r?w:-w))/((r?b:o)-v)*1e3};return{update:d,reset:f,getVelocity:h}},To=function(e,n){return n&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},f1=function(e){var n=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(n)>=Math.abs(r)?n:r},t_=function(){ll=Vt.core.globals().ScrollTrigger,ll&&ll.core&&O6()},n_=function(e){return Vt=e||Zw(),!wu&&Vt&&typeof document<"u"&&document.body&&(Vn=window,Ms=document,Ls=Ms.documentElement,Ha=Ms.body,Xw=[Vn,Ms,Ls,Ha],Vt.utils.clamp,Jw=Vt.core.context||function(){},bi="onpointerenter"in Ha?"pointer":"mouse",Yw=wt.isTouch=Vn.matchMedia&&Vn.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Vn||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,br=wt.eventTypes=("ontouchstart"in Ls?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Ls?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return e_=0},500),t_(),wu=1),wu};vn.op=Dt;Se.cache=0;var wt=function(){function t(n){this.init(n)}var e=t.prototype;return e.init=function(r){wu||n_(Vt)||console.warn("Please gsap.registerPlugin(Observer)"),ll||t_();var s=r.tolerance,i=r.dragMinimum,o=r.type,l=r.target,c=r.lineHeight,u=r.debounce,d=r.preventDefault,f=r.onStop,h=r.onStopDelay,m=r.ignore,x=r.wheelSpeed,v=r.event,w=r.onDragStart,b=r.onDragEnd,p=r.onDrag,g=r.onPress,y=r.onRelease,_=r.onRight,j=r.onLeft,k=r.onUp,C=r.onDown,T=r.onChangeX,N=r.onChangeY,B=r.onChange,A=r.onToggleX,D=r.onToggleY,H=r.onHover,q=r.onHoverEnd,W=r.onMove,G=r.ignoreCheck,I=r.isNormalizer,K=r.onGestureStart,E=r.onGestureEnd,O=r.onWheel,M=r.onEnable,U=r.onDisable,z=r.onClick,de=r.scrollSpeed,se=r.capture,ve=r.allowClicks,ee=r.lockAxis,Me=r.onLockAxis;this.target=l=kn(l)||Ls,this.vars=r,m&&(m=Vt.utils.toArray(m)),s=s||1e-9,i=i||0,x=x||1,de=de||1,o=o||"wheel,touch,pointer",u=u!==!1,c||(c=parseFloat(Vn.getComputedStyle(Ha).lineHeight)||22);var qe,ze,Ve,me,_e,$e,Qe,L=this,Ye=0,$=0,oe=r.passive||!d&&r.passive!==!1,he=ni(l,vn),be=ni(l,Dt),Pe=he(),F=be(),V=~o.indexOf("touch")&&!~o.indexOf("pointer")&&br[0]==="pointerdown",Q=ul(l),X=l.ownerDocument||Ms,pe=[0,0,0],P=[0,0,0],R=0,J=function(){return R=cl()},te=function(xe,Oe){return(L.event=xe)&&m&&I6(xe.target,m)||Oe&&V&&xe.pointerType!=="touch"||G&&G(xe,Oe)},ne=function(){L._vx.reset(),L._vy.reset(),ze.pause(),f&&f(L)},ue=function(){var xe=L.deltaX=f1(pe),Oe=L.deltaY=f1(P),Z=Math.abs(xe)>=s,fe=Math.abs(Oe)>=s;B&&(Z||fe)&&B(L,xe,Oe,pe,P),Z&&(_&&L.deltaX>0&&_(L),j&&L.deltaX<0&&j(L),T&&T(L),A&&L.deltaX<0!=Ye<0&&A(L),Ye=L.deltaX,pe[0]=pe[1]=pe[2]=0),fe&&(C&&L.deltaY>0&&C(L),k&&L.deltaY<0&&k(L),N&&N(L),D&&L.deltaY<0!=$<0&&D(L),$=L.deltaY,P[0]=P[1]=P[2]=0),(me||Ve)&&(W&&W(L),Ve&&(w&&Ve===1&&w(L),p&&p(L),Ve=0),me=!1),$e&&!($e=!1)&&Me&&Me(L),_e&&(O(L),_e=!1),qe=0},Be=function(xe,Oe,Z){pe[Z]+=xe,P[Z]+=Oe,L._vx.update(xe),L._vy.update(Oe),u?qe||(qe=requestAnimationFrame(ue)):ue()},at=function(xe,Oe){ee&&!Qe&&(L.axis=Qe=Math.abs(xe)>Math.abs(Oe)?"x":"y",$e=!0),Qe!=="y"&&(pe[2]+=xe,L._vx.update(xe,!0)),Qe!=="x"&&(P[2]+=Oe,L._vy.update(Oe,!0)),u?qe||(qe=requestAnimationFrame(ue)):ue()},Ht=function(xe){if(!te(xe,1)){xe=To(xe,d);var Oe=xe.clientX,Z=xe.clientY,fe=Oe-L.x,ce=Z-L.y,ye=L.isDragging;L.x=Oe,L.y=Z,(ye||(fe||ce)&&(Math.abs(L.startX-Oe)>=i||Math.abs(L.startY-Z)>=i))&&(Ve=ye?2:1,ye||(L.isDragging=!0),at(fe,ce))}},Ar=L.onPress=function(we){te(we,1)||we&&we.button||(L.axis=Qe=null,ze.pause(),L.isPressed=!0,we=To(we),Ye=$=0,L.startX=L.x=we.clientX,L.startY=L.y=we.clientY,L._vx.reset(),L._vy.reset(),hn(I?l:X,br[1],Ht,oe,!0),L.deltaX=L.deltaY=0,g&&g(L))},je=L.onRelease=function(we){if(!te(we,1)){dn(I?l:X,br[1],Ht,!0);var xe=!isNaN(L.y-L.startY),Oe=L.isDragging,Z=Oe&&(Math.abs(L.x-L.startX)>3||Math.abs(L.y-L.startY)>3),fe=To(we);!Z&&xe&&(L._vx.reset(),L._vy.reset(),d&&ve&&Vt.delayedCall(.08,function(){if(cl()-R>300&&!we.defaultPrevented){if(we.target.click)we.target.click();else if(X.createEvent){var ce=X.createEvent("MouseEvents");ce.initMouseEvent("click",!0,!0,Vn,1,fe.screenX,fe.screenY,fe.clientX,fe.clientY,!1,!1,!1,!1,0,null),we.target.dispatchEvent(ce)}}})),L.isDragging=L.isGesturing=L.isPressed=!1,f&&Oe&&!I&&ze.restart(!0),Ve&&ue(),b&&Oe&&b(L),y&&y(L,Z)}},Pr=function(xe){return xe.touches&&xe.touches.length>1&&(L.isGesturing=!0)&&K(xe,L.isDragging)},On=function(){return(L.isGesturing=!1)||E(L)},_n=function(xe){if(!te(xe)){var Oe=he(),Z=be();Be((Oe-Pe)*de,(Z-F)*de,1),Pe=Oe,F=Z,f&&ze.restart(!0)}},In=function(xe){if(!te(xe)){xe=To(xe,d),O&&(_e=!0);var Oe=(xe.deltaMode===1?c:xe.deltaMode===2?Vn.innerHeight:1)*x;Be(xe.deltaX*Oe,xe.deltaY*Oe,0),f&&!I&&ze.restart(!0)}},Yr=function(xe){if(!te(xe)){var Oe=xe.clientX,Z=xe.clientY,fe=Oe-L.x,ce=Z-L.y;L.x=Oe,L.y=Z,me=!0,f&&ze.restart(!0),(fe||ce)&&at(fe,ce)}},ys=function(xe){L.event=xe,H(L)},tr=function(xe){L.event=xe,q(L)},ci=function(xe){return te(xe)||To(xe,d)&&z(L)};ze=L._dc=Vt.delayedCall(h||.25,ne).pause(),L.deltaX=L.deltaY=0,L._vx=vp(0,50,!0),L._vy=vp(0,50,!0),L.scrollX=he,L.scrollY=be,L.isDragging=L.isGesturing=L.isPressed=!1,Jw(this),L.enable=function(we){return L.isEnabled||(hn(Q?X:l,"scroll",gp),o.indexOf("scroll")>=0&&hn(Q?X:l,"scroll",_n,oe,se),o.indexOf("wheel")>=0&&hn(l,"wheel",In,oe,se),(o.indexOf("touch")>=0&&Yw||o.indexOf("pointer")>=0)&&(hn(l,br[0],Ar,oe,se),hn(X,br[2],je),hn(X,br[3],je),ve&&hn(l,"click",J,!0,!0),z&&hn(l,"click",ci),K&&hn(X,"gesturestart",Pr),E&&hn(X,"gestureend",On),H&&hn(l,bi+"enter",ys),q&&hn(l,bi+"leave",tr),W&&hn(l,bi+"move",Yr)),L.isEnabled=!0,L.isDragging=L.isGesturing=L.isPressed=me=Ve=!1,L._vx.reset(),L._vy.reset(),Pe=he(),F=be(),we&&we.type&&Ar(we),M&&M(L)),L},L.disable=function(){L.isEnabled&&(Pa.filter(function(we){return we!==L&&ul(we.target)}).length||dn(Q?X:l,"scroll",gp),L.isPressed&&(L._vx.reset(),L._vy.reset(),dn(I?l:X,br[1],Ht,!0)),dn(Q?X:l,"scroll",_n,se),dn(l,"wheel",In,se),dn(l,br[0],Ar,se),dn(X,br[2],je),dn(X,br[3],je),dn(l,"click",J,!0),dn(l,"click",ci),dn(X,"gesturestart",Pr),dn(X,"gestureend",On),dn(l,bi+"enter",ys),dn(l,bi+"leave",tr),dn(l,bi+"move",Yr),L.isEnabled=L.isPressed=L.isDragging=!1,U&&U(L))},L.kill=L.revert=function(){L.disable();var we=Pa.indexOf(L);we>=0&&Pa.splice(we,1),os===L&&(os=0)},Pa.push(L),I&&ul(l)&&(os=L),L.enable(v)},R6(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t}();wt.version="3.13.0";wt.create=function(t){return new wt(t)};wt.register=n_;wt.getAll=function(){return Pa.slice()};wt.getById=function(t){return Pa.filter(function(e){return e.vars.id===t})[0]};Zw()&&Vt.registerPlugin(wt);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ae,ma,Ce,Je,$n,Le,tx,fd,Vl,dl,qo,zc,tn,Gd,bp,mn,p1,m1,xa,r_,Kh,s_,fn,yp,i_,a_,Cs,wp,nx,qa,rx,pd,_p,Wh,Hc=1,rn=Date.now,Gh=rn(),hr=0,$o=0,x1=function(e,n,r){var s=Hn(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+n+"Clamp"]=s,s?e.substr(6,e.length-7):e},g1=function(e,n){return n&&(!Hn(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},M6=function t(){return $o&&requestAnimationFrame(t)},v1=function(){return Gd=1},b1=function(){return Gd=0},Lr=function(e){return e},Uo=function(e){return Math.round(e*1e5)/1e5||0},o_=function(){return typeof window<"u"},l_=function(){return ae||o_()&&(ae=window.gsap)&&ae.registerPlugin&&ae},Wi=function(e){return!!~tx.indexOf(e)},c_=function(e){return(e==="Height"?rx:Ce["inner"+e])||$n["client"+e]||Le["client"+e]},u_=function(e){return Ys(e,"getBoundingClientRect")||(Wi(e)?function(){return Cu.width=Ce.innerWidth,Cu.height=rx,Cu}:function(){return ss(e)})},L6=function(e,n,r){var s=r.d,i=r.d2,o=r.a;return(o=Ys(e,"getBoundingClientRect"))?function(){return o()[s]}:function(){return(n?c_(i):e["client"+i])||0}},z6=function(e,n){return!n||~Gr.indexOf(e)?u_(e):function(){return Cu}},Vr=function(e,n){var r=n.s,s=n.d2,i=n.d,o=n.a;return Math.max(0,(r="scroll"+s)&&(o=Ys(e,r))?o()-u_(e)()[i]:Wi(e)?($n[r]||Le[r])-c_(s):e[r]-e["offset"+s])},qc=function(e,n){for(var r=0;r<xa.length;r+=3)(!n||~n.indexOf(xa[r+1]))&&e(xa[r],xa[r+1],xa[r+2])},Hn=function(e){return typeof e=="string"},on=function(e){return typeof e=="function"},Vo=function(e){return typeof e=="number"},yi=function(e){return typeof e=="object"},Ao=function(e,n,r){return e&&e.progress(n?0:1)&&r&&e.pause()},Qh=function(e,n){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return n(e)}):n(e);r&&r.totalTime&&(e.callbackAnimation=r)}},ca=Math.abs,d_="left",h_="top",sx="right",ix="bottom",Oi="width",Ii="height",hl="Right",fl="Left",pl="Top",ml="Bottom",jt="padding",ir="margin",ao="Width",ax="Height",At="px",ar=function(e){return Ce.getComputedStyle(e)},H6=function(e){var n=ar(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},y1=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},ss=function(e,n){var r=n&&ar(e)[bp]!=="matrix(1, 0, 0, 1, 0, 0)"&&ae.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),s=e.getBoundingClientRect();return r&&r.progress(0).kill(),s},md=function(e,n){var r=n.d2;return e["offset"+r]||e["client"+r]||0},f_=function(e){var n=[],r=e.labels,s=e.duration(),i;for(i in r)n.push(r[i]/s);return n},q6=function(e){return function(n){return ae.utils.snap(f_(e),n)}},ox=function(e){var n=ae.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(s,i){return s-i});return r?function(s,i,o){o===void 0&&(o=.001);var l;if(!i)return n(s);if(i>0){for(s-=o,l=0;l<r.length;l++)if(r[l]>=s)return r[l];return r[l-1]}else for(l=r.length,s+=o;l--;)if(r[l]<=s)return r[l];return r[0]}:function(s,i,o){o===void 0&&(o=.001);var l=n(s);return!i||Math.abs(l-s)<o||l-s<0==i<0?l:n(i<0?s-e:s+e)}},$6=function(e){return function(n,r){return ox(f_(e))(n,r.direction)}},$c=function(e,n,r,s){return r.split(",").forEach(function(i){return e(n,i,s)})},Ot=function(e,n,r,s,i){return e.addEventListener(n,r,{passive:!s,capture:!!i})},Rt=function(e,n,r,s){return e.removeEventListener(n,r,!!s)},Uc=function(e,n,r){r=r&&r.wheelHandler,r&&(e(n,"wheel",r),e(n,"touchmove",r))},w1={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Vc={toggleActions:"play",anticipatePin:0},xd={top:0,left:0,center:.5,bottom:1,right:1},_u=function(e,n){if(Hn(e)){var r=e.indexOf("="),s=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(s*=n/100),e=e.substr(0,r-1)),e=s+(e in xd?xd[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},Kc=function(e,n,r,s,i,o,l,c){var u=i.startColor,d=i.endColor,f=i.fontSize,h=i.indent,m=i.fontWeight,x=Je.createElement("div"),v=Wi(r)||Ys(r,"pinType")==="fixed",w=e.indexOf("scroller")!==-1,b=v?Le:r,p=e.indexOf("start")!==-1,g=p?u:d,y="border-color:"+g+";font-size:"+f+";color:"+g+";font-weight:"+m+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return y+="position:"+((w||c)&&v?"fixed;":"absolute;"),(w||c||!v)&&(y+=(s===Dt?sx:ix)+":"+(o+parseFloat(h))+"px;"),l&&(y+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),x._isStart=p,x.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),x.style.cssText=y,x.innerText=n||n===0?e+"-"+n:e,b.children[0]?b.insertBefore(x,b.children[0]):b.appendChild(x),x._offset=x["offset"+s.op.d2],ku(x,0,s,p),x},ku=function(e,n,r,s){var i={display:"block"},o=r[s?"os2":"p2"],l=r[s?"p2":"os2"];e._isFlipped=s,i[r.a+"Percent"]=s?-100:0,i[r.a]=s?"1px":0,i["border"+o+ao]=1,i["border"+l+ao]=0,i[r.p]=n+"px",ae.set(e,i)},Ne=[],kp={},Kl,_1=function(){return rn()-hr>34&&(Kl||(Kl=requestAnimationFrame(us)))},ua=function(){(!fn||!fn.isPressed||fn.startX>Le.clientWidth)&&(Se.cache++,fn?Kl||(Kl=requestAnimationFrame(us)):us(),hr||Qi("scrollStart"),hr=rn())},Yh=function(){a_=Ce.innerWidth,i_=Ce.innerHeight},Ko=function(e){Se.cache++,(e===!0||!tn&&!s_&&!Je.fullscreenElement&&!Je.webkitFullscreenElement&&(!yp||a_!==Ce.innerWidth||Math.abs(Ce.innerHeight-i_)>Ce.innerHeight*.25))&&fd.restart(!0)},Gi={},U6=[],p_=function t(){return Rt(Te,"scrollEnd",t)||Ei(!0)},Qi=function(e){return Gi[e]&&Gi[e].map(function(n){return n()})||U6},Ln=[],m_=function(e){for(var n=0;n<Ln.length;n+=5)(!e||Ln[n+4]&&Ln[n+4].query===e)&&(Ln[n].style.cssText=Ln[n+1],Ln[n].getBBox&&Ln[n].setAttribute("transform",Ln[n+2]||""),Ln[n+3].uncache=1)},lx=function(e,n){var r;for(mn=0;mn<Ne.length;mn++)r=Ne[mn],r&&(!n||r._ctx===n)&&(e?r.kill(1):r.revert(!0,!0));pd=!0,n&&m_(n),n||Qi("revert")},x_=function(e,n){Se.cache++,(n||!xn)&&Se.forEach(function(r){return on(r)&&r.cacheID++&&(r.rec=0)}),Hn(e)&&(Ce.history.scrollRestoration=nx=e)},xn,Mi=0,k1,V6=function(){if(k1!==Mi){var e=k1=Mi;requestAnimationFrame(function(){return e===Mi&&Ei(!0)})}},g_=function(){Le.appendChild(qa),rx=!fn&&qa.offsetHeight||Ce.innerHeight,Le.removeChild(qa)},j1=function(e){return Vl(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=e?"none":"block"})},Ei=function(e,n){if($n=Je.documentElement,Le=Je.body,tx=[Ce,Je,$n,Le],hr&&!e&&!pd){Ot(Te,"scrollEnd",p_);return}g_(),xn=Te.isRefreshing=!0,Se.forEach(function(s){return on(s)&&++s.cacheID&&(s.rec=s())});var r=Qi("refreshInit");r_&&Te.sort(),n||lx(),Se.forEach(function(s){on(s)&&(s.smooth&&(s.target.style.scrollBehavior="auto"),s(0))}),Ne.slice(0).forEach(function(s){return s.refresh()}),pd=!1,Ne.forEach(function(s){if(s._subPinOffset&&s.pin){var i=s.vars.horizontal?"offsetWidth":"offsetHeight",o=s.pin[i];s.revert(!0,1),s.adjustPinSpacing(s.pin[i]-o),s.refresh()}}),_p=1,j1(!0),Ne.forEach(function(s){var i=Vr(s.scroller,s._dir),o=s.vars.end==="max"||s._endClamp&&s.end>i,l=s._startClamp&&s.start>=i;(o||l)&&s.setPositions(l?i-1:s.start,o?Math.max(l?i:s.start+1,i):s.end,!0)}),j1(!1),_p=0,r.forEach(function(s){return s&&s.render&&s.render(-1)}),Se.forEach(function(s){on(s)&&(s.smooth&&requestAnimationFrame(function(){return s.target.style.scrollBehavior="smooth"}),s.rec&&s(s.rec))}),x_(nx,1),fd.pause(),Mi++,xn=2,us(2),Ne.forEach(function(s){return on(s.vars.onRefresh)&&s.vars.onRefresh(s)}),xn=Te.isRefreshing=!1,Qi("refresh")},jp=0,ju=1,xl,us=function(e){if(e===2||!xn&&!pd){Te.isUpdating=!0,xl&&xl.update(0);var n=Ne.length,r=rn(),s=r-Gh>=50,i=n&&Ne[0].scroll();if(ju=jp>i?-1:1,xn||(jp=i),s&&(hr&&!Gd&&r-hr>200&&(hr=0,Qi("scrollEnd")),qo=Gh,Gh=r),ju<0){for(mn=n;mn-- >0;)Ne[mn]&&Ne[mn].update(0,s);ju=1}else for(mn=0;mn<n;mn++)Ne[mn]&&Ne[mn].update(0,s);Te.isUpdating=!1}Kl=0},Np=[d_,h_,ix,sx,ir+ml,ir+hl,ir+pl,ir+fl,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Nu=Np.concat([Oi,Ii,"boxSizing","max"+ao,"max"+ax,"position",ir,jt,jt+pl,jt+hl,jt+ml,jt+fl]),K6=function(e,n,r){$a(r);var s=e._gsap;if(s.spacerIsNative)$a(s.spacerState);else if(e._gsap.swappedIn){var i=n.parentNode;i&&(i.insertBefore(e,n),i.removeChild(n))}e._gsap.swappedIn=!1},Xh=function(e,n,r,s){if(!e._gsap.swappedIn){for(var i=Np.length,o=n.style,l=e.style,c;i--;)c=Np[i],o[c]=r[c];o.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(o.display="inline-block"),l[ix]=l[sx]="auto",o.flexBasis=r.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Oi]=md(e,vn)+At,o[Ii]=md(e,Dt)+At,o[jt]=l[ir]=l[h_]=l[d_]="0",$a(s),l[Oi]=l["max"+ao]=r[Oi],l[Ii]=l["max"+ax]=r[Ii],l[jt]=r[jt],e.parentNode!==n&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),e._gsap.swappedIn=!0}},W6=/([A-Z])/g,$a=function(e){if(e){var n=e.t.style,r=e.length,s=0,i,o;for((e.t._gsap||ae.core.getCache(e.t)).uncache=1;s<r;s+=2)o=e[s+1],i=e[s],o?n[i]=o:n[i]&&n.removeProperty(i.replace(W6,"-$1").toLowerCase())}},Wc=function(e){for(var n=Nu.length,r=e.style,s=[],i=0;i<n;i++)s.push(Nu[i],r[Nu[i]]);return s.t=e,s},G6=function(e,n,r){for(var s=[],i=e.length,o=r?8:0,l;o<i;o+=2)l=e[o],s.push(l,l in n?n[l]:e[o+1]);return s.t=e.t,s},Cu={left:0,top:0},N1=function(e,n,r,s,i,o,l,c,u,d,f,h,m,x){on(e)&&(e=e(c)),Hn(e)&&e.substr(0,3)==="max"&&(e=h+(e.charAt(4)==="="?_u("0"+e.substr(3),r):0));var v=m?m.time():0,w,b,p;if(m&&m.seek(0),isNaN(e)||(e=+e),Vo(e))m&&(e=ae.utils.mapRange(m.scrollTrigger.start,m.scrollTrigger.end,0,h,e)),l&&ku(l,r,s,!0);else{on(n)&&(n=n(c));var g=(e||"0").split(" "),y,_,j,k;p=kn(n,c)||Le,y=ss(p)||{},(!y||!y.left&&!y.top)&&ar(p).display==="none"&&(k=p.style.display,p.style.display="block",y=ss(p),k?p.style.display=k:p.style.removeProperty("display")),_=_u(g[0],y[s.d]),j=_u(g[1]||"0",r),e=y[s.p]-u[s.p]-d+_+i-j,l&&ku(l,j,s,r-j<20||l._isStart&&j>20),r-=r-j}if(x&&(c[x]=e||-.001,e<0&&(e=0)),o){var C=e+r,T=o._isStart;w="scroll"+s.d2,ku(o,C,s,T&&C>20||!T&&(f?Math.max(Le[w],$n[w]):o.parentNode[w])<=C+1),f&&(u=ss(l),f&&(o.style[s.op.p]=u[s.op.p]-s.op.m-o._offset+At))}return m&&p&&(w=ss(p),m.seek(h),b=ss(p),m._caScrollDist=w[s.p]-b[s.p],e=e/m._caScrollDist*h),m&&m.seek(v),m?e:Math.round(e)},Q6=/(webkit|moz|length|cssText|inset)/i,C1=function(e,n,r,s){if(e.parentNode!==n){var i=e.style,o,l;if(n===Le){e._stOrig=i.cssText,l=ar(e);for(o in l)!+o&&!Q6.test(o)&&l[o]&&typeof i[o]=="string"&&o!=="0"&&(i[o]=l[o]);i.top=r,i.left=s}else i.cssText=e._stOrig;ae.core.getCache(e).uncache=1,n.appendChild(e)}},v_=function(e,n,r){var s=n,i=s;return function(o){var l=Math.round(e());return l!==s&&l!==i&&Math.abs(l-s)>3&&Math.abs(l-i)>3&&(o=l,r&&r()),i=s,s=Math.round(o),s}},Gc=function(e,n,r){var s={};s[n.p]="+="+r,ae.set(e,s)},S1=function(e,n){var r=ni(e,n),s="_scroll"+n.p2,i=function o(l,c,u,d,f){var h=o.tween,m=c.onComplete,x={};u=u||r();var v=v_(r,u,function(){h.kill(),o.tween=0});return f=d&&f||0,d=d||l-u,h&&h.kill(),c[s]=l,c.inherit=!1,c.modifiers=x,x[s]=function(){return v(u+d*h.ratio+f*h.ratio*h.ratio)},c.onUpdate=function(){Se.cache++,o.tween&&us()},c.onComplete=function(){o.tween=0,m&&m.call(h)},h=o.tween=ae.to(e,c),h};return e[s]=r,r.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},Ot(e,"wheel",r.wheelHandler),Te.isTouch&&Ot(e,"touchmove",r.wheelHandler),i},Te=function(){function t(n,r){ma||t.register(ae)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),wp(this),this.init(n,r)}var e=t.prototype;return e.init=function(r,s){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!$o){this.update=this.refresh=this.kill=Lr;return}r=y1(Hn(r)||Vo(r)||r.nodeType?{trigger:r}:r,Vc);var i=r,o=i.onUpdate,l=i.toggleClass,c=i.id,u=i.onToggle,d=i.onRefresh,f=i.scrub,h=i.trigger,m=i.pin,x=i.pinSpacing,v=i.invalidateOnRefresh,w=i.anticipatePin,b=i.onScrubComplete,p=i.onSnapComplete,g=i.once,y=i.snap,_=i.pinReparent,j=i.pinSpacer,k=i.containerAnimation,C=i.fastScrollEnd,T=i.preventOverlaps,N=r.horizontal||r.containerAnimation&&r.horizontal!==!1?vn:Dt,B=!f&&f!==0,A=kn(r.scroller||Ce),D=ae.core.getCache(A),H=Wi(A),q=("pinType"in r?r.pinType:Ys(A,"pinType")||H&&"fixed")==="fixed",W=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],G=B&&r.toggleActions.split(" "),I="markers"in r?r.markers:Vc.markers,K=H?0:parseFloat(ar(A)["border"+N.p2+ao])||0,E=this,O=r.onRefreshInit&&function(){return r.onRefreshInit(E)},M=L6(A,H,N),U=z6(A,H),z=0,de=0,se=0,ve=ni(A,N),ee,Me,qe,ze,Ve,me,_e,$e,Qe,L,Ye,$,oe,he,be,Pe,F,V,Q,X,pe,P,R,J,te,ne,ue,Be,at,Ht,Ar,je,Pr,On,_n,In,Yr,ys,tr;if(E._startClamp=E._endClamp=!1,E._dir=N,w*=45,E.scroller=A,E.scroll=k?k.time.bind(k):ve,ze=ve(),E.vars=r,s=s||r.animation,"refreshPriority"in r&&(r_=1,r.refreshPriority===-9999&&(xl=E)),D.tweenScroll=D.tweenScroll||{top:S1(A,Dt),left:S1(A,vn)},E.tweenTo=ee=D.tweenScroll[N.p],E.scrubDuration=function(Z){Pr=Vo(Z)&&Z,Pr?je?je.duration(Z):je=ae.to(s,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Pr,paused:!0,onComplete:function(){return b&&b(E)}}):(je&&je.progress(1).kill(),je=0)},s&&(s.vars.lazy=!1,s._initted&&!E.isReverted||s.vars.immediateRender!==!1&&r.immediateRender!==!1&&s.duration()&&s.render(0,!0,!0),E.animation=s.pause(),s.scrollTrigger=E,E.scrubDuration(f),Ht=0,c||(c=s.vars.id)),y&&((!yi(y)||y.push)&&(y={snapTo:y}),"scrollBehavior"in Le.style&&ae.set(H?[Le,$n]:A,{scrollBehavior:"auto"}),Se.forEach(function(Z){return on(Z)&&Z.target===(H?Je.scrollingElement||$n:A)&&(Z.smooth=!1)}),qe=on(y.snapTo)?y.snapTo:y.snapTo==="labels"?q6(s):y.snapTo==="labelsDirectional"?$6(s):y.directional!==!1?function(Z,fe){return ox(y.snapTo)(Z,rn()-de<500?0:fe.direction)}:ae.utils.snap(y.snapTo),On=y.duration||{min:.1,max:2},On=yi(On)?dl(On.min,On.max):dl(On,On),_n=ae.delayedCall(y.delay||Pr/2||.1,function(){var Z=ve(),fe=rn()-de<500,ce=ee.tween;if((fe||Math.abs(E.getVelocity())<10)&&!ce&&!Gd&&z!==Z){var ye=(Z-me)/he,kt=s&&!B?s.totalProgress():ye,De=fe?0:(kt-Ar)/(rn()-qo)*1e3||0,vt=ae.utils.clamp(-ye,1-ye,ca(De/2)*De/.185),Qt=ye+(y.inertia===!1?0:vt),ft,nt,Ke=y,xr=Ke.onStart,ot=Ke.onInterrupt,Mn=Ke.onComplete;if(ft=qe(Qt,E),Vo(ft)||(ft=Qt),nt=Math.max(0,Math.round(me+ft*he)),Z<=_e&&Z>=me&&nt!==Z){if(ce&&!ce._initted&&ce.data<=ca(nt-Z))return;y.inertia===!1&&(vt=ft-ye),ee(nt,{duration:On(ca(Math.max(ca(Qt-kt),ca(ft-kt))*.185/De/.05||0)),ease:y.ease||"power3",data:ca(nt-Z),onInterrupt:function(){return _n.restart(!0)&&ot&&ot(E)},onComplete:function(){E.update(),z=ve(),s&&!B&&(je?je.resetTo("totalProgress",ft,s._tTime/s._tDur):s.progress(ft)),Ht=Ar=s&&!B?s.totalProgress():E.progress,p&&p(E),Mn&&Mn(E)}},Z,vt*he,nt-Z-vt*he),xr&&xr(E,ee.tween)}}else E.isActive&&z!==Z&&_n.restart(!0)}).pause()),c&&(kp[c]=E),h=E.trigger=kn(h||m!==!0&&m),tr=h&&h._gsap&&h._gsap.stRevert,tr&&(tr=tr(E)),m=m===!0?h:kn(m),Hn(l)&&(l={targets:h,className:l}),m&&(x===!1||x===ir||(x=!x&&m.parentNode&&m.parentNode.style&&ar(m.parentNode).display==="flex"?!1:jt),E.pin=m,Me=ae.core.getCache(m),Me.spacer?be=Me.pinState:(j&&(j=kn(j),j&&!j.nodeType&&(j=j.current||j.nativeElement),Me.spacerIsNative=!!j,j&&(Me.spacerState=Wc(j))),Me.spacer=V=j||Je.createElement("div"),V.classList.add("pin-spacer"),c&&V.classList.add("pin-spacer-"+c),Me.pinState=be=Wc(m)),r.force3D!==!1&&ae.set(m,{force3D:!0}),E.spacer=V=Me.spacer,at=ar(m),J=at[x+N.os2],X=ae.getProperty(m),pe=ae.quickSetter(m,N.a,At),Xh(m,V,at),F=Wc(m)),I){$=yi(I)?y1(I,w1):w1,L=Kc("scroller-start",c,A,N,$,0),Ye=Kc("scroller-end",c,A,N,$,0,L),Q=L["offset"+N.op.d2];var ci=kn(Ys(A,"content")||A);$e=this.markerStart=Kc("start",c,ci,N,$,Q,0,k),Qe=this.markerEnd=Kc("end",c,ci,N,$,Q,0,k),k&&(ys=ae.quickSetter([$e,Qe],N.a,At)),!q&&!(Gr.length&&Ys(A,"fixedMarkers")===!0)&&(H6(H?Le:A),ae.set([L,Ye],{force3D:!0}),ne=ae.quickSetter(L,N.a,At),Be=ae.quickSetter(Ye,N.a,At))}if(k){var we=k.vars.onUpdate,xe=k.vars.onUpdateParams;k.eventCallback("onUpdate",function(){E.update(0,0,1),we&&we.apply(k,xe||[])})}if(E.previous=function(){return Ne[Ne.indexOf(E)-1]},E.next=function(){return Ne[Ne.indexOf(E)+1]},E.revert=function(Z,fe){if(!fe)return E.kill(!0);var ce=Z!==!1||!E.enabled,ye=tn;ce!==E.isReverted&&(ce&&(In=Math.max(ve(),E.scroll.rec||0),se=E.progress,Yr=s&&s.progress()),$e&&[$e,Qe,L,Ye].forEach(function(kt){return kt.style.display=ce?"none":"block"}),ce&&(tn=E,E.update(ce)),m&&(!_||!E.isActive)&&(ce?K6(m,V,be):Xh(m,V,ar(m),te)),ce||E.update(ce),tn=ye,E.isReverted=ce)},E.refresh=function(Z,fe,ce,ye){if(!((tn||!E.enabled)&&!fe)){if(m&&Z&&hr){Ot(t,"scrollEnd",p_);return}!xn&&O&&O(E),tn=E,ee.tween&&!ce&&(ee.tween.kill(),ee.tween=0),je&&je.pause(),v&&s&&(s.revert({kill:!1}).invalidate(),s.getChildren&&s.getChildren(!0,!0,!1).forEach(function(ws){return ws.vars.immediateRender&&ws.render(0,!0,!0)})),E.isReverted||E.revert(!0,!0),E._subPinOffset=!1;var kt=M(),De=U(),vt=k?k.duration():Vr(A,N),Qt=he<=.01||!he,ft=0,nt=ye||0,Ke=yi(ce)?ce.end:r.end,xr=r.endTrigger||h,ot=yi(ce)?ce.start:r.start||(r.start===0||!h?0:m?"0 0":"0 100%"),Mn=E.pinnedContainer=r.pinnedContainer&&kn(r.pinnedContainer,E),Br=h&&Math.max(0,Ne.indexOf(E))||0,qt=Br,$t,Yt,ui,uc,Xt,Et,Dr,Jd,hx,xo,Fr,go,dc;for(I&&yi(ce)&&(go=ae.getProperty(L,N.p),dc=ae.getProperty(Ye,N.p));qt-- >0;)Et=Ne[qt],Et.end||Et.refresh(0,1)||(tn=E),Dr=Et.pin,Dr&&(Dr===h||Dr===m||Dr===Mn)&&!Et.isReverted&&(xo||(xo=[]),xo.unshift(Et),Et.revert(!0,!0)),Et!==Ne[qt]&&(Br--,qt--);for(on(ot)&&(ot=ot(E)),ot=x1(ot,"start",E),me=N1(ot,h,kt,N,ve(),$e,L,E,De,K,q,vt,k,E._startClamp&&"_startClamp")||(m?-.001:0),on(Ke)&&(Ke=Ke(E)),Hn(Ke)&&!Ke.indexOf("+=")&&(~Ke.indexOf(" ")?Ke=(Hn(ot)?ot.split(" ")[0]:"")+Ke:(ft=_u(Ke.substr(2),kt),Ke=Hn(ot)?ot:(k?ae.utils.mapRange(0,k.duration(),k.scrollTrigger.start,k.scrollTrigger.end,me):me)+ft,xr=h)),Ke=x1(Ke,"end",E),_e=Math.max(me,N1(Ke||(xr?"100% 0":vt),xr,kt,N,ve()+ft,Qe,Ye,E,De,K,q,vt,k,E._endClamp&&"_endClamp"))||-.001,ft=0,qt=Br;qt--;)Et=Ne[qt],Dr=Et.pin,Dr&&Et.start-Et._pinPush<=me&&!k&&Et.end>0&&($t=Et.end-(E._startClamp?Math.max(0,Et.start):Et.start),(Dr===h&&Et.start-Et._pinPush<me||Dr===Mn)&&isNaN(ot)&&(ft+=$t*(1-Et.progress)),Dr===m&&(nt+=$t));if(me+=ft,_e+=ft,E._startClamp&&(E._startClamp+=ft),E._endClamp&&!xn&&(E._endClamp=_e||-.001,_e=Math.min(_e,Vr(A,N))),he=_e-me||(me-=.01)&&.001,Qt&&(se=ae.utils.clamp(0,1,ae.utils.normalize(me,_e,In))),E._pinPush=nt,$e&&ft&&($t={},$t[N.a]="+="+ft,Mn&&($t[N.p]="-="+ve()),ae.set([$e,Qe],$t)),m&&!(_p&&E.end>=Vr(A,N)))$t=ar(m),uc=N===Dt,ui=ve(),P=parseFloat(X(N.a))+nt,!vt&&_e>1&&(Fr=(H?Je.scrollingElement||$n:A).style,Fr={style:Fr,value:Fr["overflow"+N.a.toUpperCase()]},H&&ar(Le)["overflow"+N.a.toUpperCase()]!=="scroll"&&(Fr.style["overflow"+N.a.toUpperCase()]="scroll")),Xh(m,V,$t),F=Wc(m),Yt=ss(m,!0),Jd=q&&ni(A,uc?vn:Dt)(),x?(te=[x+N.os2,he+nt+At],te.t=V,qt=x===jt?md(m,N)+he+nt:0,qt&&(te.push(N.d,qt+At),V.style.flexBasis!=="auto"&&(V.style.flexBasis=qt+At)),$a(te),Mn&&Ne.forEach(function(ws){ws.pin===Mn&&ws.vars.pinSpacing!==!1&&(ws._subPinOffset=!0)}),q&&ve(In)):(qt=md(m,N),qt&&V.style.flexBasis!=="auto"&&(V.style.flexBasis=qt+At)),q&&(Xt={top:Yt.top+(uc?ui-me:Jd)+At,left:Yt.left+(uc?Jd:ui-me)+At,boxSizing:"border-box",position:"fixed"},Xt[Oi]=Xt["max"+ao]=Math.ceil(Yt.width)+At,Xt[Ii]=Xt["max"+ax]=Math.ceil(Yt.height)+At,Xt[ir]=Xt[ir+pl]=Xt[ir+hl]=Xt[ir+ml]=Xt[ir+fl]="0",Xt[jt]=$t[jt],Xt[jt+pl]=$t[jt+pl],Xt[jt+hl]=$t[jt+hl],Xt[jt+ml]=$t[jt+ml],Xt[jt+fl]=$t[jt+fl],Pe=G6(be,Xt,_),xn&&ve(0)),s?(hx=s._initted,Kh(1),s.render(s.duration(),!0,!0),R=X(N.a)-P+he+nt,ue=Math.abs(he-R)>1,q&&ue&&Pe.splice(Pe.length-2,2),s.render(0,!0,!0),hx||s.invalidate(!0),s.parent||s.totalTime(s.totalTime()),Kh(0)):R=he,Fr&&(Fr.value?Fr.style["overflow"+N.a.toUpperCase()]=Fr.value:Fr.style.removeProperty("overflow-"+N.a));else if(h&&ve()&&!k)for(Yt=h.parentNode;Yt&&Yt!==Le;)Yt._pinOffset&&(me-=Yt._pinOffset,_e-=Yt._pinOffset),Yt=Yt.parentNode;xo&&xo.forEach(function(ws){return ws.revert(!1,!0)}),E.start=me,E.end=_e,ze=Ve=xn?In:ve(),!k&&!xn&&(ze<In&&ve(In),E.scroll.rec=0),E.revert(!1,!0),de=rn(),_n&&(z=-1,_n.restart(!0)),tn=0,s&&B&&(s._initted||Yr)&&s.progress()!==Yr&&s.progress(Yr||0,!0).render(s.time(),!0,!0),(Qt||se!==E.progress||k||v||s&&!s._initted)&&(s&&!B&&(s._initted||se||s.vars.immediateRender!==!1)&&s.totalProgress(k&&me<-.001&&!se?ae.utils.normalize(me,_e,0):se,!0),E.progress=Qt||(ze-me)/he===se?0:se),m&&x&&(V._pinOffset=Math.round(E.progress*R)),je&&je.invalidate(),isNaN(go)||(go-=ae.getProperty(L,N.p),dc-=ae.getProperty(Ye,N.p),Gc(L,N,go),Gc($e,N,go-(ye||0)),Gc(Ye,N,dc),Gc(Qe,N,dc-(ye||0))),Qt&&!xn&&E.update(),d&&!xn&&!oe&&(oe=!0,d(E),oe=!1)}},E.getVelocity=function(){return(ve()-Ve)/(rn()-qo)*1e3||0},E.endAnimation=function(){Ao(E.callbackAnimation),s&&(je?je.progress(1):s.paused()?B||Ao(s,E.direction<0,1):Ao(s,s.reversed()))},E.labelToScroll=function(Z){return s&&s.labels&&(me||E.refresh()||me)+s.labels[Z]/s.duration()*he||0},E.getTrailing=function(Z){var fe=Ne.indexOf(E),ce=E.direction>0?Ne.slice(0,fe).reverse():Ne.slice(fe+1);return(Hn(Z)?ce.filter(function(ye){return ye.vars.preventOverlaps===Z}):ce).filter(function(ye){return E.direction>0?ye.end<=me:ye.start>=_e})},E.update=function(Z,fe,ce){if(!(k&&!ce&&!Z)){var ye=xn===!0?In:E.scroll(),kt=Z?0:(ye-me)/he,De=kt<0?0:kt>1?1:kt||0,vt=E.progress,Qt,ft,nt,Ke,xr,ot,Mn,Br;if(fe&&(Ve=ze,ze=k?ve():ye,y&&(Ar=Ht,Ht=s&&!B?s.totalProgress():De)),w&&m&&!tn&&!Hc&&hr&&(!De&&me<ye+(ye-Ve)/(rn()-qo)*w?De=1e-4:De===1&&_e>ye+(ye-Ve)/(rn()-qo)*w&&(De=.9999)),De!==vt&&E.enabled){if(Qt=E.isActive=!!De&&De<1,ft=!!vt&&vt<1,ot=Qt!==ft,xr=ot||!!De!=!!vt,E.direction=De>vt?1:-1,E.progress=De,xr&&!tn&&(nt=De&&!vt?0:De===1?1:vt===1?2:3,B&&(Ke=!ot&&G[nt+1]!=="none"&&G[nt+1]||G[nt],Br=s&&(Ke==="complete"||Ke==="reset"||Ke in s))),T&&(ot||Br)&&(Br||f||!s)&&(on(T)?T(E):E.getTrailing(T).forEach(function(ui){return ui.endAnimation()})),B||(je&&!tn&&!Hc?(je._dp._time-je._start!==je._time&&je.render(je._dp._time-je._start),je.resetTo?je.resetTo("totalProgress",De,s._tTime/s._tDur):(je.vars.totalProgress=De,je.invalidate().restart())):s&&s.totalProgress(De,!!(tn&&(de||Z)))),m){if(Z&&x&&(V.style[x+N.os2]=J),!q)pe(Uo(P+R*De));else if(xr){if(Mn=!Z&&De>vt&&_e+1>ye&&ye+1>=Vr(A,N),_)if(!Z&&(Qt||Mn)){var qt=ss(m,!0),$t=ye-me;C1(m,Le,qt.top+(N===Dt?$t:0)+At,qt.left+(N===Dt?0:$t)+At)}else C1(m,V);$a(Qt||Mn?Pe:F),ue&&De<1&&Qt||pe(P+(De===1&&!Mn?R:0))}}y&&!ee.tween&&!tn&&!Hc&&_n.restart(!0),l&&(ot||g&&De&&(De<1||!Wh))&&Vl(l.targets).forEach(function(ui){return ui.classList[Qt||g?"add":"remove"](l.className)}),o&&!B&&!Z&&o(E),xr&&!tn?(B&&(Br&&(Ke==="complete"?s.pause().totalProgress(1):Ke==="reset"?s.restart(!0).pause():Ke==="restart"?s.restart(!0):s[Ke]()),o&&o(E)),(ot||!Wh)&&(u&&ot&&Qh(E,u),W[nt]&&Qh(E,W[nt]),g&&(De===1?E.kill(!1,1):W[nt]=0),ot||(nt=De===1?1:3,W[nt]&&Qh(E,W[nt]))),C&&!Qt&&Math.abs(E.getVelocity())>(Vo(C)?C:2500)&&(Ao(E.callbackAnimation),je?je.progress(1):Ao(s,Ke==="reverse"?1:!De,1))):B&&o&&!tn&&o(E)}if(Be){var Yt=k?ye/k.duration()*(k._caScrollDist||0):ye;ne(Yt+(L._isFlipped?1:0)),Be(Yt)}ys&&ys(-ye/k.duration()*(k._caScrollDist||0))}},E.enable=function(Z,fe){E.enabled||(E.enabled=!0,Ot(A,"resize",Ko),H||Ot(A,"scroll",ua),O&&Ot(t,"refreshInit",O),Z!==!1&&(E.progress=se=0,ze=Ve=z=ve()),fe!==!1&&E.refresh())},E.getTween=function(Z){return Z&&ee?ee.tween:je},E.setPositions=function(Z,fe,ce,ye){if(k){var kt=k.scrollTrigger,De=k.duration(),vt=kt.end-kt.start;Z=kt.start+vt*Z/De,fe=kt.start+vt*fe/De}E.refresh(!1,!1,{start:g1(Z,ce&&!!E._startClamp),end:g1(fe,ce&&!!E._endClamp)},ye),E.update()},E.adjustPinSpacing=function(Z){if(te&&Z){var fe=te.indexOf(N.d)+1;te[fe]=parseFloat(te[fe])+Z+At,te[1]=parseFloat(te[1])+Z+At,$a(te)}},E.disable=function(Z,fe){if(E.enabled&&(Z!==!1&&E.revert(!0,!0),E.enabled=E.isActive=!1,fe||je&&je.pause(),In=0,Me&&(Me.uncache=1),O&&Rt(t,"refreshInit",O),_n&&(_n.pause(),ee.tween&&ee.tween.kill()&&(ee.tween=0)),!H)){for(var ce=Ne.length;ce--;)if(Ne[ce].scroller===A&&Ne[ce]!==E)return;Rt(A,"resize",Ko),H||Rt(A,"scroll",ua)}},E.kill=function(Z,fe){E.disable(Z,fe),je&&!fe&&je.kill(),c&&delete kp[c];var ce=Ne.indexOf(E);ce>=0&&Ne.splice(ce,1),ce===mn&&ju>0&&mn--,ce=0,Ne.forEach(function(ye){return ye.scroller===E.scroller&&(ce=1)}),ce||xn||(E.scroll.rec=0),s&&(s.scrollTrigger=null,Z&&s.revert({kill:!1}),fe||s.kill()),$e&&[$e,Qe,L,Ye].forEach(function(ye){return ye.parentNode&&ye.parentNode.removeChild(ye)}),xl===E&&(xl=0),m&&(Me&&(Me.uncache=1),ce=0,Ne.forEach(function(ye){return ye.pin===m&&ce++}),ce||(Me.spacer=0)),r.onKill&&r.onKill(E)},Ne.push(E),E.enable(!1,!1),tr&&tr(E),s&&s.add&&!he){var Oe=E.update;E.update=function(){E.update=Oe,Se.cache++,me||_e||E.refresh()},ae.delayedCall(.01,E.update),he=.01,me=_e=0}else E.refresh();m&&V6()},t.register=function(r){return ma||(ae=r||l_(),o_()&&window.document&&t.enable(),ma=$o),ma},t.defaults=function(r){if(r)for(var s in r)Vc[s]=r[s];return Vc},t.disable=function(r,s){$o=0,Ne.forEach(function(o){return o[s?"kill":"disable"](r)}),Rt(Ce,"wheel",ua),Rt(Je,"scroll",ua),clearInterval(zc),Rt(Je,"touchcancel",Lr),Rt(Le,"touchstart",Lr),$c(Rt,Je,"pointerdown,touchstart,mousedown",v1),$c(Rt,Je,"pointerup,touchend,mouseup",b1),fd.kill(),qc(Rt);for(var i=0;i<Se.length;i+=3)Uc(Rt,Se[i],Se[i+1]),Uc(Rt,Se[i],Se[i+2])},t.enable=function(){if(Ce=window,Je=document,$n=Je.documentElement,Le=Je.body,ae&&(Vl=ae.utils.toArray,dl=ae.utils.clamp,wp=ae.core.context||Lr,Kh=ae.core.suppressOverwrites||Lr,nx=Ce.history.scrollRestoration||"auto",jp=Ce.pageYOffset||0,ae.core.globals("ScrollTrigger",t),Le)){$o=1,qa=document.createElement("div"),qa.style.height="100vh",qa.style.position="absolute",g_(),M6(),wt.register(ae),t.isTouch=wt.isTouch,Cs=wt.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),yp=wt.isTouch===1,Ot(Ce,"wheel",ua),tx=[Ce,Je,$n,Le],ae.matchMedia?(t.matchMedia=function(u){var d=ae.matchMedia(),f;for(f in u)d.add(f,u[f]);return d},ae.addEventListener("matchMediaInit",function(){return lx()}),ae.addEventListener("matchMediaRevert",function(){return m_()}),ae.addEventListener("matchMedia",function(){Ei(0,1),Qi("matchMedia")}),ae.matchMedia().add("(orientation: portrait)",function(){return Yh(),Yh})):console.warn("Requires GSAP 3.11.0 or later"),Yh(),Ot(Je,"scroll",ua);var r=Le.hasAttribute("style"),s=Le.style,i=s.borderTopStyle,o=ae.core.Animation.prototype,l,c;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),s.borderTopStyle="solid",l=ss(Le),Dt.m=Math.round(l.top+Dt.sc())||0,vn.m=Math.round(l.left+vn.sc())||0,i?s.borderTopStyle=i:s.removeProperty("border-top-style"),r||(Le.setAttribute("style",""),Le.removeAttribute("style")),zc=setInterval(_1,250),ae.delayedCall(.5,function(){return Hc=0}),Ot(Je,"touchcancel",Lr),Ot(Le,"touchstart",Lr),$c(Ot,Je,"pointerdown,touchstart,mousedown",v1),$c(Ot,Je,"pointerup,touchend,mouseup",b1),bp=ae.utils.checkPrefix("transform"),Nu.push(bp),ma=rn(),fd=ae.delayedCall(.2,Ei).pause(),xa=[Je,"visibilitychange",function(){var u=Ce.innerWidth,d=Ce.innerHeight;Je.hidden?(p1=u,m1=d):(p1!==u||m1!==d)&&Ko()},Je,"DOMContentLoaded",Ei,Ce,"load",Ei,Ce,"resize",Ko],qc(Ot),Ne.forEach(function(u){return u.enable(0,1)}),c=0;c<Se.length;c+=3)Uc(Rt,Se[c],Se[c+1]),Uc(Rt,Se[c],Se[c+2])}},t.config=function(r){"limitCallbacks"in r&&(Wh=!!r.limitCallbacks);var s=r.syncInterval;s&&clearInterval(zc)||(zc=s)&&setInterval(_1,s),"ignoreMobileResize"in r&&(yp=t.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(qc(Rt)||qc(Ot,r.autoRefreshEvents||"none"),s_=(r.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(r,s){var i=kn(r),o=Se.indexOf(i),l=Wi(i);~o&&Se.splice(o,l?6:2),s&&(l?Gr.unshift(Ce,s,Le,s,$n,s):Gr.unshift(i,s))},t.clearMatchMedia=function(r){Ne.forEach(function(s){return s._ctx&&s._ctx.query===r&&s._ctx.kill(!0,!0)})},t.isInViewport=function(r,s,i){var o=(Hn(r)?kn(r):r).getBoundingClientRect(),l=o[i?Oi:Ii]*s||0;return i?o.right-l>0&&o.left+l<Ce.innerWidth:o.bottom-l>0&&o.top+l<Ce.innerHeight},t.positionInViewport=function(r,s,i){Hn(r)&&(r=kn(r));var o=r.getBoundingClientRect(),l=o[i?Oi:Ii],c=s==null?l/2:s in xd?xd[s]*l:~s.indexOf("%")?parseFloat(s)*l/100:parseFloat(s)||0;return i?(o.left+c)/Ce.innerWidth:(o.top+c)/Ce.innerHeight},t.killAll=function(r){if(Ne.slice(0).forEach(function(i){return i.vars.id!=="ScrollSmoother"&&i.kill()}),r!==!0){var s=Gi.killAll||[];Gi={},s.forEach(function(i){return i()})}},t}();Te.version="3.13.0";Te.saveStyles=function(t){return t?Vl(t).forEach(function(e){if(e&&e.style){var n=Ln.indexOf(e);n>=0&&Ln.splice(n,5),Ln.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),ae.core.getCache(e),wp())}}):Ln};Te.revert=function(t,e){return lx(!t,e)};Te.create=function(t,e){return new Te(t,e)};Te.refresh=function(t){return t?Ko(!0):(ma||Te.register())&&Ei(!0)};Te.update=function(t){return++Se.cache&&us(t===!0?2:0)};Te.clearScrollMemory=x_;Te.maxScroll=function(t,e){return Vr(t,e?vn:Dt)};Te.getScrollFunc=function(t,e){return ni(kn(t),e?vn:Dt)};Te.getById=function(t){return kp[t]};Te.getAll=function(){return Ne.filter(function(t){return t.vars.id!=="ScrollSmoother"})};Te.isScrolling=function(){return!!hr};Te.snapDirectional=ox;Te.addEventListener=function(t,e){var n=Gi[t]||(Gi[t]=[]);~n.indexOf(e)||n.push(e)};Te.removeEventListener=function(t,e){var n=Gi[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)};Te.batch=function(t,e){var n=[],r={},s=e.interval||.016,i=e.batchMax||1e9,o=function(u,d){var f=[],h=[],m=ae.delayedCall(s,function(){d(f,h),f=[],h=[]}).pause();return function(x){f.length||m.restart(!0),f.push(x.trigger),h.push(x),i<=f.length&&m.progress(1)}},l;for(l in e)r[l]=l.substr(0,2)==="on"&&on(e[l])&&l!=="onRefreshInit"?o(l,e[l]):e[l];return on(i)&&(i=i(),Ot(Te,"refresh",function(){return i=e.batchMax()})),Vl(t).forEach(function(c){var u={};for(l in r)u[l]=r[l];u.trigger=c,n.push(Te.create(u))}),n};var E1=function(e,n,r,s){return n>s?e(s):n<0&&e(0),r>s?(s-n)/(r-n):r<0?n/(n-r):1},Jh=function t(e,n){n===!0?e.style.removeProperty("touch-action"):e.style.touchAction=n===!0?"auto":n?"pan-"+n+(wt.isTouch?" pinch-zoom":""):"none",e===$n&&t(Le,n)},Qc={auto:1,scroll:1},Y6=function(e){var n=e.event,r=e.target,s=e.axis,i=(n.changedTouches?n.changedTouches[0]:n).target,o=i._gsap||ae.core.getCache(i),l=rn(),c;if(!o._isScrollT||l-o._isScrollT>2e3){for(;i&&i!==Le&&(i.scrollHeight<=i.clientHeight&&i.scrollWidth<=i.clientWidth||!(Qc[(c=ar(i)).overflowY]||Qc[c.overflowX]));)i=i.parentNode;o._isScroll=i&&i!==r&&!Wi(i)&&(Qc[(c=ar(i)).overflowY]||Qc[c.overflowX]),o._isScrollT=l}(o._isScroll||s==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},b_=function(e,n,r,s){return wt.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:s=s&&Y6,onPress:s,onDrag:s,onScroll:s,onEnable:function(){return r&&Ot(Je,wt.eventTypes[0],A1,!1,!0)},onDisable:function(){return Rt(Je,wt.eventTypes[0],A1,!0)}})},X6=/(input|label|select|textarea)/i,T1,A1=function(e){var n=X6.test(e.target.tagName);(n||T1)&&(e._gsapAllow=!0,T1=n)},J6=function(e){yi(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var n=e,r=n.normalizeScrollX,s=n.momentum,i=n.allowNestedScroll,o=n.onRelease,l,c,u=kn(e.target)||$n,d=ae.core.globals().ScrollSmoother,f=d&&d.get(),h=Cs&&(e.content&&kn(e.content)||f&&e.content!==!1&&!f.smooth()&&f.content()),m=ni(u,Dt),x=ni(u,vn),v=1,w=(wt.isTouch&&Ce.visualViewport?Ce.visualViewport.scale*Ce.visualViewport.width:Ce.outerWidth)/Ce.innerWidth,b=0,p=on(s)?function(){return s(l)}:function(){return s||2.8},g,y,_=b_(u,e.type,!0,i),j=function(){return y=!1},k=Lr,C=Lr,T=function(){c=Vr(u,Dt),C=dl(Cs?1:0,c),r&&(k=dl(0,Vr(u,vn))),g=Mi},N=function(){h._gsap.y=Uo(parseFloat(h._gsap.y)+m.offset)+"px",h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(h._gsap.y)+", 0, 1)",m.offset=m.cacheID=0},B=function(){if(y){requestAnimationFrame(j);var I=Uo(l.deltaY/2),K=C(m.v-I);if(h&&K!==m.v+m.offset){m.offset=K-m.v;var E=Uo((parseFloat(h&&h._gsap.y)||0)-m.offset);h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+E+", 0, 1)",h._gsap.y=E+"px",m.cacheID=Se.cache,us()}return!0}m.offset&&N(),y=!0},A,D,H,q,W=function(){T(),A.isActive()&&A.vars.scrollY>c&&(m()>c?A.progress(1)&&m(c):A.resetTo("scrollY",c))};return h&&ae.set(h,{y:"+=0"}),e.ignoreCheck=function(G){return Cs&&G.type==="touchmove"&&B()||v>1.05&&G.type!=="touchstart"||l.isGesturing||G.touches&&G.touches.length>1},e.onPress=function(){y=!1;var G=v;v=Uo((Ce.visualViewport&&Ce.visualViewport.scale||1)/w),A.pause(),G!==v&&Jh(u,v>1.01?!0:r?!1:"x"),D=x(),H=m(),T(),g=Mi},e.onRelease=e.onGestureStart=function(G,I){if(m.offset&&N(),!I)q.restart(!0);else{Se.cache++;var K=p(),E,O;r&&(E=x(),O=E+K*.05*-G.velocityX/.227,K*=E1(x,E,O,Vr(u,vn)),A.vars.scrollX=k(O)),E=m(),O=E+K*.05*-G.velocityY/.227,K*=E1(m,E,O,Vr(u,Dt)),A.vars.scrollY=C(O),A.invalidate().duration(K).play(.01),(Cs&&A.vars.scrollY>=c||E>=c-1)&&ae.to({},{onUpdate:W,duration:K})}o&&o(G)},e.onWheel=function(){A._ts&&A.pause(),rn()-b>1e3&&(g=0,b=rn())},e.onChange=function(G,I,K,E,O){if(Mi!==g&&T(),I&&r&&x(k(E[2]===I?D+(G.startX-G.x):x()+I-E[1])),K){m.offset&&N();var M=O[2]===K,U=M?H+G.startY-G.y:m()+K-O[1],z=C(U);M&&U!==z&&(H+=z-U),m(z)}(K||I)&&us()},e.onEnable=function(){Jh(u,r?!1:"x"),Te.addEventListener("refresh",W),Ot(Ce,"resize",W),m.smooth&&(m.target.style.scrollBehavior="auto",m.smooth=x.smooth=!1),_.enable()},e.onDisable=function(){Jh(u,!0),Rt(Ce,"resize",W),Te.removeEventListener("refresh",W),_.kill()},e.lockAxis=e.lockAxis!==!1,l=new wt(e),l.iOS=Cs,Cs&&!m()&&m(1),Cs&&ae.ticker.add(Lr),q=l._dc,A=ae.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:v_(m,m(),function(){return A.pause()})},onUpdate:us,onComplete:q.vars.onComplete}),l};Te.sort=function(t){if(on(t))return Ne.sort(t);var e=Ce.pageYOffset||0;return Te.getAll().forEach(function(n){return n._sortY=n.trigger?e+n.trigger.getBoundingClientRect().top:n.start+Ce.innerHeight}),Ne.sort(t||function(n,r){return(n.vars.refreshPriority||0)*-1e6+(n.vars.containerAnimation?1e6:n._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})};Te.observe=function(t){return new wt(t)};Te.normalizeScroll=function(t){if(typeof t>"u")return fn;if(t===!0&&fn)return fn.enable();if(t===!1){fn&&fn.kill(),fn=t;return}var e=t instanceof wt?t:J6(t);return fn&&fn.target===e.target&&fn.kill(),Wi(e.target)&&(fn=e),e};Te.core={_getVelocityProp:vp,_inputObserver:b_,_scrollers:Se,_proxies:Gr,bridge:{ss:function(){hr||Qi("scrollStart"),hr=rn()},ref:function(){return tn}}};l_()&&ae.registerPlugin(Te);_i.registerPlugin(Te);const oc=()=>{S.useEffect(()=>{const t=_i.context(()=>{document.querySelectorAll(".scroll-animate").forEach(i=>{_i.fromTo(i,{y:100,opacity:0},{y:0,opacity:1,duration:1.2,ease:"power3.out",scrollTrigger:{trigger:i,start:"top 90%",end:"top 60%",scrub:1}})}),document.querySelectorAll(".parallax-text").forEach(i=>{_i.to(i,{y:-100,ease:"none",scrollTrigger:{trigger:i,start:"top bottom",end:"bottom top",scrub:1}})}),document.querySelectorAll(".fade-scroll").forEach(i=>{_i.fromTo(i,{opacity:0,scale:.9},{opacity:1,scale:1,duration:1,ease:"power2.out",scrollTrigger:{trigger:i,start:"top 85%",end:"top 50%",scrub:1}})}),document.querySelectorAll(".text-reveal").forEach(i=>{_i.fromTo(i,{y:"100%",opacity:0},{y:"0%",opacity:1,duration:1.5,ease:"power4.out",scrollTrigger:{trigger:i,start:"top 85%",toggleActions:"play none none reverse"}})})});return()=>t.revert()},[])},y_={"attempt-pack-10":{id:"attempt-pack-10",label:"Gi +10 lt",name:"Gi b sung 10 lt Quiz",price:19e3,durationDays:0,rewardStars:20,description:"Np thm 10 lt lm quiz ngay lp tc, ph hp khi bn b kha v ht lt.",headline:"Thm lt th ngay tc th  tip tc n luyn.",image:"https://img.pikbest.com/png-images/qiantu/yellow-vip-logo_2622515.png!sw800"},"membership-annual":{id:"membership-annual",label:"Gi nm",name:"Gi thnh vin Quiz 12 thng",price:49e4,durationDays:365,rewardStars:1200,description:"Khng gii hn quiz sut 12 thng, cng 1.200 sao v m kha ton b chuyn  chuyn su.",headline:"Dnh cho thnh vin chuyn su mun nghin cu c nm.",image:"https://img.pikbest.com/png-images/qiantu/yellow-vip-logo_2622515.png!sw800"}},Z6=["Gi +10 lt quiz b sung ngay 10 lt lm bi cho s kin bn chn, p dng tc thi sau khi thanh ton.","Gi 19.000 kch hot quyn truy cp quiz nng cao trong 30 ngy k t thi im thanh ton thnh cng.","Gi 490.000 kch hot quyn truy cp quiz nng cao trong 12 thng v cng dn sao thng 1 ln.","Sao thng c cng ngay sau khi giao dch xc nhn thnh cng v khng hon li nu hy gia chng.","Cc gi thnh vin l sn phm s, khng yu cu giao hng vt l v tun th iu khon s dng ca Echoes of Vit Nam."];function Qd(t){return y_[t]??null}function e8(){return Object.values(y_)}const t8=e8().map(t=>({id:t.id,name:t.name,description:t.description,price:t.price,image_url:t.image,category:"Membership",created_at:new Date().toISOString(),seller_name:"Echoes of Vit Nam",seller_title:t.headline,seller_location:"Trc tuyn",seller_contact:"support@echoes.vn"})),ds=[...t8,{id:"mock-product-1",name:"Tranh C ng in Bin Ph",description:"Bn in gii hn ca bc tranh c ng chin dch in Bin Ph, in trn giy m thut Italia vi khung g lim x l th cng.",price:125e4,image_url:"https://file.qdnd.vn/data/images/0/2019/05/06/thuha/060519ha3.jpg?dpi=150&quality=100&w=575",category:"Ngh Thut",created_at:new Date().toISOString(),seller_name:"Nh su tp Trn Minh Hi",seller_title:"Su tp tranh khng chin",seller_location:"H Ni",seller_contact:"0938 123 456"},{id:"mock-product-2",name:"o Khoc K Nim ng Trng Sn",description:"o khoc thit k theo phong cch qun trang Trng Sn, cht liu cotton canvas cao cp, may th cng ti Hu.",price:89e4,image_url:"https://quanaobodoi.vn/wp-content/uploads/2025/01/20241013_154918.jpg",category:"Thi Trang",created_at:new Date().toISOString(),seller_name:"Xng may Di Sn",seller_title:"Th cng truyn thng",seller_location:"Tha Thin Hu",seller_contact:"heritage@atelier.vn"},{id:"mock-product-3",name:"B Tem Chin Khu Vit Bc 1951",description:"B tem c bo qun trong ba knh, chng nhn ngun gc t nh su tm c lp ti Bc Giang.",price:45e4,image_url:"https://baokhanhhoa.vn/file/e7837c02857c8ca30185a8c39b582c03/dataimages/201805/original/images5332714_FullSizeRender.jpg",category:"Su Tm",created_at:new Date().toISOString(),seller_name:"Tim Tem C nh Dng",seller_title:"Su tp tem ng Dng",seller_location:"Bc Giang",seller_contact:"zalo.me/temanhduong"},{id:"mock-product-4",name:"Sch nh K c Min Nam 1960-1975",description:"n bn ti bn gii hn gm 300 trang nh t liu do cc phng vin chin trng ghi li.",price:52e4,image_url:"https://cdn.nhandan.vn/images/22f099ca8bc7ae81aa2a8d3416a84bf8364c2dc7cb172c184e762ebbc2cb754bd7608af5bb627e147dde1014ddba172fd2075ff2f0d994ca8a9715f54a5b4ee304b0f24db637d2585f8e3ff472c03efa41226dca830effaf1ecda30feed56985446b3bdd1bfbeba01f80d226c8bffd0a31017b07789999476c90be6e264b4707/z6461813506481-960bf7af4b27ddeb16ceb486ab60b6de-3040-8098.jpg.webp",category:"Sch",created_at:new Date().toISOString(),seller_name:"NXB Hi c Vit",seller_title:"T liu lch s",seller_location:"TP. H Ch Minh",seller_contact:"contact@hoiucc.vn"},{id:"mock-product-5",name:"M hnh Tu Khng S HQ-671",description:"M hnh tu khng s t l 1:72 vi cc chi tit ng nguyn cht, i km chn  khc laser.",price:21e5,image_url:"https://mohinhthuyenbuom.com/wp-content/uploads/2019/07/Thuyen-chien-KORIETZ--min.jpg",category:"Th Cng",created_at:new Date().toISOString(),seller_name:"Studio K c Xanh",seller_title:"iu khc m hnh",seller_location:" Nng",seller_contact:"info@kyucxanh.vn"},{id:"mock-product-6",name:"Bu Thip Bu thip Lng Bc - V K c H Ni",description:"Bu Thip Bu thip Lng Bc - V K c H Ni",price:32e4,image_url:"https://down-vn.img.susercontent.com/file/vn-11134207-7ras8-m25xigxhvues3f.webp",category:"n Phm",created_at:new Date().toISOString(),seller_name:"Nh in Thng Tm",seller_title:"n phm lu nim",seller_location:"H Ni",seller_contact:"tha8printing.vn"}],Zh=[{id:"mock-review-1",product_id:"mock-product-1",author:"L Quc Bo",rating:5,comment:"Cht lng in sc nt, mu sc p hn mong i. ng gi chc chn.",created_at:"2025-09-12T10:15:00.000Z"},{id:"mock-review-2",product_id:"mock-product-2",author:"Nguyn Tho My",rating:4,comment:"o gi m tt, may chc chn. Form hi rng nn cn chn nh hn mt size.",created_at:"2025-08-02T08:40:00.000Z"},{id:"mock-review-3",product_id:"mock-product-4",author:"Phm nh Tun",rating:5,comment:"Ti liu qu gi, phn ch thch rt chi tit. ng  su tm.",created_at:"2025-07-18T13:25:00.000Z"},{id:"mock-review-4",product_id:"mock-product-5",author:"V Kiu An",rating:5,comment:"M hnh tinh xo n tng chi tit nh, cm gic rt chn thc.",created_at:"2025-05-09T16:05:00.000Z"}],Yc={"mock-product-2":[{id:"mock-chat-1",product_id:"mock-product-2",author:"buyer",message:"o ny c size S khng ?",created_at:"2025-10-18T09:21:00.000Z"},{id:"mock-chat-2",product_id:"mock-product-2",author:"seller",message:"D c  size t S n XL, bn cn mnh gi hng gip khng?",created_at:"2025-10-18T09:25:00.000Z"}],"mock-product-4":[{id:"mock-chat-3",product_id:"mock-product-4",author:"buyer",message:"Sch c km hp bo qun khng anh?",created_at:"2025-09-01T11:10:00.000Z"},{id:"mock-chat-4",product_id:"mock-product-4",author:"seller",message:"C km hp carton cng v ti chng m bn nh.",created_at:"2025-09-01T11:12:00.000Z"}]},Xc=[{id:1,q:"Ai l ngi c Tuyn ngn c lp?",options:["H Ch Minh","Phan Bi Chu","Nguyn i Quc"],a:0},{id:2,q:"Nm no Vit Nam tuyn b c lp?",options:["1945","1954","1975"],a:0},{id:3,q:"Th  nc Vit Nam Dn ch Cng ha?",options:["H Ni","H Ch Minh","Hu"],a:0}],w_="quiz_demo_v1_";function e0(t){try{const e=localStorage.getItem(w_+t);return e?JSON.parse(e):null}catch{return null}}function n8(t,e){try{localStorage.setItem(w_+t,JSON.stringify(e))}catch{}}function r8({quizId:t="demo-1",onClose:e}){const[n,r]=S.useState(0),[s,i]=S.useState(20),[o,l]=S.useState(null),[c,u]=S.useState(null),[d,f]=S.useState(null),h=S.useRef(null);S.useEffect(()=>{const g=e0(t)||{baseAttempts:2,extra:0,failed:0,lockedUntil:null};u((g.baseAttempts||2)+(g.extra||0)-(g.failed||0)),f(g.lockedUntil?new Date(g.lockedUntil).getTime():null)},[t]),S.useEffect(()=>(i(20),h.current&&window.clearInterval(h.current),h.current=window.setInterval(()=>{i(g=>g<=1?(h.current&&window.clearInterval(h.current),v(!1),0):g-1)},1e3),()=>{h.current&&window.clearInterval(h.current)}),[n]);function m(g){const y=e0(t)||{baseAttempts:2,extra:0,failed:0,lockedUntil:null},_=g(y)||y;n8(t,_),u((_.baseAttempts||2)+(_.extra||0)-(_.failed||0)),f(_.lockedUntil?new Date(_.lockedUntil).getTime():null)}async function x(g){const y=Xc[n],_=g===y.a;await v(_)}async function v(g){const y=Date.now(),_=e0(t)||{baseAttempts:2,extra:0,failed:0,lockedUntil:null};if(_.lockedUntil&&new Date(_.lockedUntil).getTime()>y){l("Quiz ang b kha tm thi. Hy th li sau.");return}const j=(_.baseAttempts||2)+(_.extra||0);if(g){m(k=>({...k,failed:0})),l("ng! Sang cu tip theo."),w();return}if(_.failed=(_.failed||0)+1,_.failed>=j){const k=new Date(y+432e5).toISOString();m(C=>({...C,failed:0,extra:0,lockedUntil:k})),l("Bn  dng ht lt th. Quiz b kha 12 gi. Mua thm  m li.");return}m(k=>({...k,failed:_.failed})),l(`Sai ri. Cn ${j-_.failed} lt.`),w()}function w(){h.current&&window.clearInterval(h.current),n<Xc.length-1?r(g=>g+1):(l("Hon thnh quiz demo."),m(g=>({...g,failed:0})),setTimeout(()=>e(),1500))}function b(){m(g=>({...g,extra:(g.extra||0)+10,lockedUntil:null})),l("Mua thnh cng: +10 lt. Bn c th th li.")}const p=Xc[n];return a.jsxs("div",{className:"quiz-modal fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"quiz-backdrop absolute inset-0 bg-black/50",onClick:e}),a.jsxs("div",{className:"quiz-card relative bg-white rounded-lg shadow-2xl w-full max-w-2xl p-6 mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-xl font-semibold",children:["Quiz Demo  Cu ",n+1," / ",Xc.length]}),a.jsx("div",{className:"text-sm text-gray-600",children:c!==null?`Lt cn: ${c}`:""})]}),d&&new Date(d)>new Date?a.jsxs("div",{className:"p-4 bg-red-50 rounded mb-4",children:[a.jsx("div",{className:"font-medium text-red-700 mb-1",children:"Quiz b kha"}),a.jsxs("div",{className:"text-sm text-red-600",children:["M li: ",new Date(d).toLocaleString()]}),a.jsx("div",{className:"mt-3",children:a.jsx("button",{className:"btn-primary",onClick:b,children:"Mua +10 lt"})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-2 text-gray-700",children:p.q}),a.jsxs("div",{className:"mb-3 text-sm text-gray-500",children:["Thi gian: ",s,"s"]}),a.jsx("ul",{className:"space-y-2 mb-4",children:p.options.map((g,y)=>a.jsx("li",{children:a.jsx("button",{className:"btn-outline w-full text-left",onClick:()=>x(y),children:g})},y))})]}),o&&a.jsx("div",{className:"mb-3 text-sm text-gray-800",children:o}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{className:"btn-ghost",onClick:e,children:"ng"}),a.jsx("button",{className:"btn-secondary",onClick:b,children:"Mua +10 lt (demo)"})]})]})]})}function s8(){const t=gt(),[e,n]=S.useState([]),[r,s]=S.useState(!0),[i,o]=S.useState(null),[l,c]=S.useState(!1);oc();const[u,d]=S.useState(!1),f=async(x,v)=>{var w;try{const b=await le.auth.getUser();if(!(((w=b==null?void 0:b.data)==null?void 0:w.user)||null)){t("/login",{state:{redirectTo:x}});return}v?v():t(x)}catch{t("/login",{state:{redirectTo:x}})}};S.useEffect(()=>{const x=()=>{try{window.innerHeight+window.scrollY>=document.body.offsetHeight-200&&d(!0)}catch{}};return window.addEventListener("scroll",x,{passive:!0}),x(),()=>window.removeEventListener("scroll",x)},[]),S.useEffect(()=>{let x=!0;return(async()=>{try{s(!0);const{data:w,error:b}=await le.from("products").select("*").order("created_at",{ascending:!1}).limit(6);if(b)throw b;if(!x)return;const p=w||[];p.length?(n(p),o(null)):(n(ds.slice(0,6)),o("Hin th d liu minh ho."))}catch{if(!x)return;n(ds.slice(0,6)),o("Hin th d liu minh ho.")}finally{x&&s(!1)}})(),()=>{x=!1}},[]);const h=x=>{f("/shop",()=>{sessionStorage.setItem("highlightProduct",x),t("/shop")})},m=x=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(x);return a.jsxs("div",{className:"relative min-h-screen bg-brand-base",children:[a.jsx("section",{className:"relative h-screen bg-cover bg-center bg-no-repeat gradient-overlay",style:{backgroundImage:"url(https://i.pinimg.com/1200x/5d/b4/f2/5db4f24ba17991725342cf28d973584f.jpg)"},children:a.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center h-full px-4",children:a.jsxs("div",{className:"text-center max-w-5xl animate-fade-in-up",children:[a.jsx("h1",{className:"text-6xl sm:text-7xl md:text-8xl lg:text-8xl font-display font-bold tracking-tight text-white mb-8 text-shadow-lg",children:"Echoes of Viet Nam"}),a.jsxs("div",{className:"flex items-center justify-center space-x-2.5 mb-10",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-brand-blue animate-pulse"}),a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-brand-blue animate-pulse",style:{animationDelay:"0.2s"}}),a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-brand-blue animate-pulse",style:{animationDelay:"0.4s"}})]}),a.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl text-white/95 mb-5 font-serif text-shadow-md",children:"Cho mng bn n vi"}),a.jsx("h2",{className:"text-4xl sm:text-5xl md:text-6xl font-serif text-brand-sand mb-10 text-shadow-md",children:"Th Gii Lch S Vit Nam"}),a.jsx("p",{className:"text-base sm:text-lg md:text-xl text-white/90 mb-14 max-w-3xl mx-auto leading-loose text-balance",children:"Hnh trnh khm ph nhng du n lch s ho hng, t nhng ngy u tranh ginh c lp n thi i xy dng v pht trin t nc"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-5",children:[a.jsxs("button",{onClick:()=>f("/history"),className:"group px-10 py-5 bg-brand-blue text-white font-sans text-sm tracking-[0.15em] uppercase hover:bg-brand-blue-600 transition-all duration-300 flex items-center space-x-3 shadow-strong hover:shadow-brand",children:[a.jsx("span",{children:"Bt u Khm Ph"}),a.jsx(Ac,{className:"transition-transform duration-300 group-hover:translate-x-1",size:20})]}),a.jsx("button",{className:"px-10 py-5 bg-white/10 backdrop-blur-sm border-2 border-white text-white font-sans text-sm tracking-[0.15em] uppercase hover:bg-white hover:text-charcoal-900 transition-all duration-300",children:"Tm Hiu Thm"})]})]})})}),u&&a.jsx("section",{className:"relative py-16 px-4 bg-white border-t",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h2",{className:"text-3xl font-serif mb-4",children:"Quiz Mini  Kim tra kin thc"}),a.jsx("p",{className:"text-charcoal-600 mb-6",children:"Bn  c ti cui trang  hy lm bi quiz ngn  cng c kin thc!"}),a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:()=>f("quiz",()=>c(!0)),className:"btn-primary",children:"Bt u Quiz"})})]})}),l&&a.jsx(r8,{onClose:()=>c(!1)}),a.jsxs("section",{className:"relative py-24 lg:py-32 px-4 bg-brand-sand",children:[a.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:a.jsx("div",{className:"w-20 h-1 bg-brand-blue shadow-brand"})}),a.jsxs("div",{className:"max-w-6xl mx-auto text-center mb-20 scroll-animate",children:[a.jsx("h2",{className:"section-title text-charcoal-900",children:"S Mnh Ca Chng Ti"}),a.jsx("div",{className:"w-16 h-1 bg-brand-blue mx-auto mb-8"}),a.jsx("p",{className:"section-subtitle max-w-4xl mx-auto text-balance",children:"Echoes of Vit Nam c thnh lp vi s mnh lu gi v lan ta nhng gi tr lch s qu bu ca dn tc Vit Nam. Chng ti tin rng, thng qua vic tm hiu qu kh, th h tr s hiu r hn v ngun gc, truyn thng v t ho v bn sc vn ha ca mnh."})]}),a.jsxs("div",{className:"max-w-6xl mx-auto grid md:grid-cols-3 gap-10",children:[a.jsxs("div",{className:"card p-10 fade-scroll group hover:scale-105 transition-transform duration-300",children:[a.jsx("div",{className:"w-16 h-16 bg-brand-sky rounded-full flex items-center justify-center mx-auto mb-6 group-hover:bg-brand-blue transition-colors duration-300",children:a.jsx(Sg,{className:"text-brand-blue group-hover:text-white transition-colors duration-300",size:32})}),a.jsx("h3",{className:"text-2xl font-serif text-charcoal-900 mb-4",children:"Gio Dc"}),a.jsx("p",{className:"text-charcoal-600 leading-relaxed",children:"Cung cp kin thc lch s chnh xc v sinh ng qua cc ni dung c nghin cu k lng"})]}),a.jsxs("div",{className:"card p-10 fade-scroll group hover:scale-105 transition-transform duration-300",children:[a.jsx("div",{className:"w-16 h-16 bg-brand-sky rounded-full flex items-center justify-center mx-auto mb-6 group-hover:bg-brand-blue transition-colors duration-300",children:a.jsx(IN,{className:"text-brand-blue group-hover:text-white transition-colors duration-300",size:32})}),a.jsx("h3",{className:"text-2xl font-serif text-charcoal-900 mb-4",children:"Lan Ta"}),a.jsx("p",{className:"text-charcoal-600 leading-relaxed",children:"Kt ni v xy dng cng ng yu lch s, vn ha Vit Nam trn khp th gii"})]}),a.jsxs("div",{className:"card p-10 fade-scroll group hover:scale-105 transition-transform duration-300",children:[a.jsx("div",{className:"w-16 h-16 bg-brand-sky rounded-full flex items-center justify-center mx-auto mb-6 group-hover:bg-brand-blue transition-colors duration-300",children:a.jsx(g2,{className:"text-brand-blue group-hover:text-white transition-colors duration-300",size:32})}),a.jsx("h3",{className:"text-2xl font-serif text-charcoal-900 mb-4",children:"Lu Gi"}),a.jsx("p",{className:"text-charcoal-600 leading-relaxed",children:"Bo tn v gn gi di sn vn ha qu bu cho th h tng lai"})]})]})]}),a.jsxs("section",{className:"relative py-24 lg:py-32 px-4 bg-white",children:[a.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:a.jsx("div",{className:"w-20 h-1 bg-brand-blue shadow-brand"})}),a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-20 scroll-animate",children:[a.jsx("h2",{className:"section-title",children:"Dng Chy Lch S"}),a.jsx("div",{className:"w-16 h-1 bg-brand-blue mx-auto mb-6"}),a.jsx("p",{className:"section-subtitle",children:"Hnh trnh u tranh ginh c lp v bo v T quc ca dn tc Vit Nam"})]}),a.jsxs("div",{className:"flex items-center justify-center mb-16 scroll-animate",children:[a.jsx("button",{className:"w-14 h-14 rounded-full border-2 border-brand-blue text-brand-blue flex items-center justify-center hover:bg-brand-blue hover:text-white transition-all duration-300 shadow-soft hover:shadow-brand",children:a.jsx(Rl,{className:"rotate-90",size:24})}),a.jsxs("div",{className:"flex items-center mx-12",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-brand flex items-center justify-center text-white font-bold shadow-brand text-lg",children:"1"}),a.jsx("div",{className:"w-32 h-0.5 bg-gradient-to-r from-brand-blue to-brand-sky mx-6"}),a.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-charcoal-200 flex items-center justify-center text-charcoal-400 font-bold text-lg",children:"2"})]}),a.jsx("button",{className:"w-14 h-14 rounded-full border-2 border-brand-blue text-brand-blue flex items-center justify-center hover:bg-brand-blue hover:text-white transition-all duration-300 shadow-soft hover:shadow-brand",children:a.jsx(Rl,{className:"rotate-[-90deg]",size:24})})]}),a.jsx("p",{className:"text-center text-charcoal-700 mb-16 font-serif text-xl tracking-wide",children:"1945 - 1954"}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center fade-scroll",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"inline-block px-5 py-2 bg-brand-sand text-brand-blue text-sm font-semibold tracking-wide",children:"1945 - 1954"}),a.jsx("h3",{className:"text-4xl lg:text-5xl font-serif text-charcoal-900 leading-tight",children:"Khng Chin Chng Php"}),a.jsx("p",{className:"text-charcoal-600 text-lg leading-loose",children:"Cuc khng chin v i ca nhn dn Vit Nam chng li thc dn Php, khng nh quyt t do v c lp ca dn tc."}),a.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-brand-blue/40",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-brand-blue mt-2 flex-shrink-0 shadow-brand"}),a.jsx("p",{className:"text-charcoal-700 text-lg",children:"Tng khi ngha thng 8/1945"})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-brand-blue mt-2 flex-shrink-0 shadow-brand"}),a.jsx("p",{className:"text-charcoal-700 text-lg",children:"Tuyn ngn c lp 2/9/1945"})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-brand-blue mt-2 flex-shrink-0 shadow-brand"}),a.jsx("p",{className:"text-charcoal-700 text-lg",children:"Chin thng in Bin Ph 1954"})]})]}),a.jsxs("button",{onClick:()=>f("/history"),className:"group btn-primary flex items-center space-x-3 mt-8",children:[a.jsx("span",{children:"Tm Hiu Chi Tit"}),a.jsx(Ac,{className:"transition-transform duration-300 group-hover:translate-x-1",size:20})]})]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-4 bg-gradient-brand opacity-20 blur-xl group-hover:opacity-30 transition-opacity duration-500"}),a.jsx("img",{src:"https://file.qdnd.vn/data/images/31/2021/08/11/huuduong_tv/giai-phong-quan_bo%20qp.jpg?dpi=150&quality=100&w=870",alt:"Khng Chin Chng Php",className:"relative w-full h-[500px] object-cover shadow-strong group-hover:shadow-gold transition-all duration-500"}),a.jsx("div",{className:"absolute bottom-6 right-6 bg-brand-blue/90 backdrop-blur-sm text-white px-6 py-3 font-serif text-lg",children:"1945 - 1954"})]})]})]})]}),a.jsxs("section",{className:"relative py-24 lg:py-32 px-4 bg-brand-sand",children:[a.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:a.jsx("div",{className:"w-20 h-1 bg-brand-blue shadow-brand"})}),a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-20 scroll-animate",children:[a.jsx("h2",{className:"section-title",children:"Ca Hng Lu Nim"}),a.jsx("div",{className:"w-16 h-1 bg-brand-blue mx-auto mb-6"}),a.jsx("p",{className:"section-subtitle",children:"Sn phm lu nim lch s c o t cc i tc uy tn"})]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-16 scroll-animate",children:[a.jsx("button",{className:"px-7 py-3 bg-brand-blue text-white font-sans text-sm tracking-wide shadow-soft hover:shadow-brand transition-all duration-300",children:"Tt C"}),a.jsx("button",{className:"btn-outline",children:" Trang Tr"}),a.jsx("button",{className:"btn-outline",children:"Thi Trang"}),a.jsx("button",{className:"btn-outline",children:"Ph Kin"}),a.jsx("button",{className:"btn-outline",children:"Sch"}),a.jsx("button",{className:"btn-outline",children:"Ngh Thut"}),a.jsx("button",{className:"btn-outline",children:" Dng"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-10",children:r?a.jsx("div",{className:"col-span-full flex justify-center py-12",children:a.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-brand-blue border-t-transparent rounded-full"})}):a.jsxs(a.Fragment,{children:[i&&a.jsx("div",{className:"col-span-full text-center text-brand-muted text-sm",children:i}),e.length===0?a.jsx("div",{className:"col-span-full text-center text-brand-muted",children:"Cha c sn phm ni bt  hin th. Vui lng truy cp ca hng  khm ph thm."}):e.map(x=>a.jsxs("div",{className:"card group cursor-pointer overflow-hidden fade-scroll",onClick:()=>h(x.id),children:[a.jsxs("div",{className:"relative h-96 overflow-hidden bg-brand-sky",children:[a.jsx("img",{src:x.image_url||"https://images.pexels.com/photos/1040945/pexels-photo-1040945.jpeg",alt:x.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-charcoal-900/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx("div",{className:"absolute top-5 left-5",children:a.jsx("span",{className:"bg-brand-blue text-white px-4 py-1.5 text-xs font-sans tracking-wide shadow-soft",children:x.category})}),a.jsx("div",{className:"absolute top-5 right-5",children:a.jsx("span",{className:"bg-brand-sand text-brand-text px-4 py-1.5 text-xs font-sans tracking-wide shadow-soft",children:"Sn phm mi"})}),a.jsx("div",{className:"absolute bottom-5 right-5 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:a.jsx("button",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-medium hover:shadow-strong transition-all duration-300",children:a.jsx(Ac,{className:"text-charcoal-900",size:20})})})]}),a.jsxs("div",{className:"p-8",children:[a.jsx("p",{className:"text-brand-blue text-xs font-sans mb-3 uppercase tracking-[0.15em] font-semibold",children:x.category}),a.jsx("h3",{className:"text-2xl font-serif text-charcoal-900 mb-4 group-hover:text-brand-blue transition-colors duration-300",children:x.name}),a.jsx("p",{className:"text-charcoal-600 mb-5 leading-relaxed line-clamp-3",children:x.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-3xl font-serif text-brand-blue",children:m(x.price)}),a.jsxs("div",{className:"flex items-center space-x-1 text-brand-blue",children:[a.jsx(jr,{size:16,fill:"currentColor"}),a.jsx(jr,{size:16,fill:"currentColor"}),a.jsx(jr,{size:16,fill:"currentColor"}),a.jsx(jr,{size:16,fill:"currentColor"}),a.jsx(jr,{size:16,fill:"currentColor"})]})]})]})]},x.id))]})}),a.jsx("div",{className:"text-center mt-16",children:a.jsx("button",{onClick:()=>t("/shop"),className:"btn-secondary",children:"Xem Tt C Sn Phm"})})]})]}),a.jsx("section",{className:"relative py-24 lg:py-32 px-4 bg-gradient-brand",children:a.jsxs("div",{className:"max-w-5xl mx-auto text-center text-white fade-scroll",children:[a.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-8 animate-float",children:a.jsx(Sg,{className:"text-white",size:40})}),a.jsx("h2",{className:"text-4xl md:text-5xl font-serif mb-8",children:"Bn L Ngi Bn?"}),a.jsx("p",{className:"text-xl mb-12 max-w-3xl mx-auto leading-loose text-white/95",children:"ng k ngay  bn sn phm lu nim lch s ca bn trn nn tng Echoes of Vit Nam. Tip cn hng nghn khch hng yu thch lch s v vn ha Vit Nam."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-5",children:[a.jsxs("button",{className:"group px-10 py-5 bg-white text-brand-blue font-sans text-sm tracking-[0.15em] uppercase hover:bg-brand-sand transition-all duration-300 shadow-strong flex items-center space-x-3",children:[a.jsx("span",{children:"ng K Bn Hng"}),a.jsx(Ac,{className:"transition-transform duration-300 group-hover:translate-x-1",size:20})]}),a.jsx("button",{className:"px-10 py-5 border-2 border-white text-white font-sans text-sm tracking-[0.15em] uppercase hover:bg-white hover:text-brand-blue transition-all duration-300",children:"Tm Hiu Thm"})]})]})}),a.jsx("section",{className:"relative py-24 px-4 bg-white",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-12 scroll-animate",children:[{value:"1000+",label:"Sn Phm"},{value:"50+",label:"i Tc"},{value:"5000+",label:"Khch Hng"},{value:"4.8",label:"nh Gi"}].map((x,v)=>a.jsxs("div",{className:"text-center fade-scroll group",children:[a.jsxs("div",{className:"mb-4 transition-transform duration-300 group-hover:scale-110",children:[a.jsx("p",{className:"text-5xl lg:text-6xl font-serif text-brand-blue mb-2",children:x.value}),a.jsx("div",{className:"w-12 h-1 bg-brand-blue mx-auto"})]}),a.jsx("p",{className:"text-charcoal-600 text-lg font-sans tracking-wide",children:x.label})]},v))})})})]})}function gd(){var n;if(typeof window>"u")return null;const t=(n=_t.getCurrentUser)==null?void 0:n.call(_t);if(t)return console.log(" getActiveUser from localAuth:",t.email),{id:String(t.id??t.email??"local-user"),fullName:t.display_name??t.email??"Thnh vin",email:t.email};const e=window.localStorage.getItem("demo_user_profile");if(e)try{const r=JSON.parse(e);return console.log(" getActiveUser from demo_user_profile:",r.email),r??null}catch(r){console.warn("Khng th c demo_user_profile:",r)}return console.warn(" getActiveUser: No user found in localStorage"),null}const t0={antiFrench:"french",antiAmerican:"american"},i8={french:"antiFrench",american:"antiAmerican"},P1={antiFrench:{label:"Khng chin chng Php",period:"1945 - 1954",summary:"T sau Cch mng Thng Tm, t nc i din ti xm lc. Chnh ph non tr va kin quc va t chc cuc khng chin ton dn, ton din chng thc dn Php.",heroImage:"linear-gradient(rgba(47, 58, 69, 0.65), rgba(47, 58, 69, 0.75)), url(https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Battle_of_Dien_Bien_Phu.jpg/1280px-Battle_of_Dien_Bien_Phu.jpg)",featureVideo:{type:"video",src:"https://www.youtube.com/embed/jy7Z3oYOp7w",title:"T liu in Bin Ph (1954)",caption:"T liu phim ca Trung tm Lu tr Quc gia Php ghi li cao im chin dch in Bin Ph.",credit:"Ngun: Archives nationales d'outre-mer (public domain)"},events:[{deepEventId:"independence-1945",date:"02/09/1945",headline:"Tuyn ngn c lp ti Qung trng Ba nh",location:"H Ni",description:"Ch tch H Ch Minh tuyn b khai sinh nc Vit Nam Dn ch Cng ha, ku gi ton dn on kt gi vng nn c lp non tr.",keyMoments:["c bn Tuyn ngn c lp trch dn Tuyn ngn Hoa K v Nhn quyn Php.","Ra mt Chnh ph lm thi v li th phng s T quc."],artworks:[{type:"image",src:"https://noibo.kiengiang.dcs.vn/uploads/news/2023_08/anh-1.jpg",title:"H Ch Minh c Tuyn ngn c lp",caption:"Khonh khc lch s ti Ba nh.",credit:"nh t liu: Wikimedia Commons (CC BY-SA 4.0)"}],sources:["H Ch Minh Ton tp, tp 4","Lu tr Quc gia Vit Nam"]},{deepEventId:"resistance-1946",date:"19/12/1946",headline:"Ton quc khng chin bng n",location:"H Ni - Vit Bc",description:"Sau ti hu th ca Php, Trung ng ng quyt nh pht ng Ton quc khng chin vi phng chm trng k, t lc cnh sinh.",keyMoments:["Li ku gi Ai c sng dng sng, ai c gm dng gm.","Chin ly mc ln  H Ni, giam chn qun Php 60 ngy m."],artworks:[{type:"image",src:"https://cdn.giaoducthoidai.vn/images/e68bd0ae7e0a4d2e84e451c6db68f2d41d964b107c109375b3000a93c362aad3d0af5b216360c8678c70747bf974b816c4fd31f377fc3fdd09b60e5a7b1cd6ad7cb7e2b98e5bff95263c007457db5a06/images680519_1.jpg.webp",title:"Chin ly H Ni 1946",caption:"Tranh k ha than ch ca ha s T Ngc Vn ghi li chin ly ph Hng o.",credit:"nh scan: Wikimedia Commons (public domain)"}],sources:["Vin Lch s Qun s Vit Nam (2010)","Bo Cu Quc s 234, 1946"]},{date:"16/09/1950",headline:"Chin dch Bin gii Thu - ng 1950",location:"ng Kh - Cao Bng",description:"Chin dch u tin do B Tng t lnh trc tip ch o, m thng tuyn Vit Bc - Trung Quc, tip nhn vin tr v ph v th bao vy.",keyMoments:["Trn then cht ng Kh ko di 54 gi.","Qun ta gii phng ton b ng s 4."],artworks:[{type:"image",src:"https://cdn.nhandan.vn/images/22f099ca8bc7ae81aa2a8d3416a84bf8e506c9bd03d36bf9cf9e637b740c52900a51fc9b2403d7ef7cef5cd66b0e61988ec4991f60fa26043396659e83dad389e001a0e59a302b01e59aca792595a10aec6e17ea65eb11b7e17579b80a705823018823c3eca758a2592b4ba05d4ac87a221b11da2a5d621abf10a0a20bf412324f3e6910eabc09ab1cc5f13a48412cdb/quang-tri-1972-tranh-son-mai-cua-hoa-sy-pham-ngoc-lieu-4047-3491.jpg.webp",title:"Pho binh chun b n sng",caption:"Tranh bt mu ca ha s Phm Thanh Tm - chin s bo Cu quc ghi ti trn a pho.",credit:"nh t liu: Wikimedia Commons (CC BY-SA 3.0)"}],sources:["Phm Thanh Tm, Nht k chin trng","H s chin dch lu ti B Quc phng"]},{date:"02/1951",headline:"i hi ng ln II -  ra ng li khng chin",location:"Tn Tro - Tuyn Quang",description:"i hi thng qua Chnh cng khng chin kin quc, khng nh xy dng qun i nhn dn, nn dn ch nhn dn v cng c hu phng.",keyMoments:["i tn ng thnh ng Lao ng Vit Nam."," ra 12 nhim v xy dng cn c a."],sources:["Vn kin ng Ton tp, tp 12"]},{date:"13/03 - 07/05/1954",headline:"Chin dch in Bin Ph - Chn ng a cu",location:"in Bin",description:"Chin dch 56 ngy m vi ba t tn cng, tiu dit tp on c im mnh nht ca Php, buc Php phi ngi vo bn m phn.",keyMoments:["m 13/3 n sng m mn, h c im Him Lam.","Chin thng i A1 v bt sng tng De Castries."],artworks:[{type:"image",src:"https://special.nhandan.vn/phao-binh-trong-chien-dich-Dien-Bien-Phu/assets/QcetfKGSPc/dat_3448-4096x2731.jpg",title:"Tin v in Bin",caption:"Sn mi ca ha s Trn Vn Cn ca ngi on qun ko pho.",credit:"Su tp: Bo tng M thut Vit Nam (CC BY-SA 4.0)"}],sources:["V Nguyn Gip, in Bin Ph - im hn lch s","H s chin dch lu tr B Tng tham mu"]},{date:"21/07/1954",headline:"Hip nh Geneva lp li ha bnh  ng Dng",location:"Geneva - Thy S",description:"Hi ngh Geneva kt thc, Php cam kt tn trng c lp, ch quyn, thng nht v ton vn lnh th Vit Nam, tm thi chia ct hai min ch tng tuyn c.",keyMoments:["Ch k ca Trng phi on Phm Vn ng.","Tho thun ngng bn, trao tr t binh, lp gii tuyn 17."],artworks:[{type:"image",src:"https://baotanglichsu.vn/DataFiles/2024/07/News/Tieng%20Viet/11.7.2024/Hiep%20dinh%20Gioneve%201954%20mot%20moc%20son%20lich%20su%20cua%20nen%20ngoai%20giao%20Viet%20Nam/1.jpg",title:"Phin hp b mc Geneva",caption:"K ha mc nho ca ha s Nguyn c Nng ghi li khung cnh hi ngh.",credit:"nh t liu: Wikimedia Commons (public domain)"}],sources:["H s Hi ngh Geneva, B Ngoi giao","Ti liu lu tr Php quc"]}],gallery:[{type:"image",src:"https://file.hstatic.net/1000257344/file/bac_ho_01093cbeeaa1457c8873b56b38dc5edb_grande.jpg",title:"H Ch Minh",caption:"Chn dung Ch tch H Ch Minh  ngi khai sinh nc Vit Nam Dn ch Cng ha.",credit:"Public domain, Wikimedia Commons"},{type:"image",src:"https://file3.qdnd.vn/data/images/0/2021/08/22/thuthuytv/03%204.jpg?dpi=150&quality=100&w=870",title:"V Nguyn Gip",caption:"i tng V Nguyn Gip  ngi ch huy chin lc trong cuc khng chin chng Php v M.",credit:"Public domain, Wikimedia Commons"}],reference:"C LP - T DO - HNH PHC."},antiAmerican:{label:"Khng chin chng M",period:"1954 - 1975",summary:"Sau Geneva, nhim v thng nht c t ln hng u. Min Nam u tranh chnh tr v v trang, min Bc xy dng hu phng ln, chi vin sc ngi sc ca cho tin tuyn.",heroImage:"linear-gradient(rgba(47, 58, 69, 0.65), rgba(47, 58, 69, 0.75)), url(https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/North_Vietnamese_tank_390_Saigon.jpg/1280px-North_Vietnamese_tank_390_Saigon.jpg)",featureVideo:{type:"video",src:"https://www.youtube.com/embed/WWGGkMZRPV0?start=11",title:"ng Trng Sn huyn thoi",caption:"Phim ti liu do i Truyn hnh Vit Nam sn xut, ti hin h thng ng mn H Ch Minh.",credit:"Ngun: VTV - giy php pht hnh trc tuyn (trch dn cho mc ch gio dc)"},events:[{date:"05/1959",headline:"Thnh lp on 559 m ng Trng Sn",location:"Ty Nguyn - Lo",description:"on 559 m nhim vn chuyn chin lc, m u h thng ng mn H Ch Minh, m bo hu cn cho cc chin trng Nam B v Trung Trung B.",keyMoments:["Lp trm giao lin xuyn bin gii Vit - Lo.","ng dng xe p th, ng ng xng du."],artworks:[{type:"image",src:"https://file.qdnd.vn/data/images/0/2020/07/04/tuanson/23.jpg?dpi=150&quality=100&w=575",title:"Trn ng Trng Sn",caption:"Gouache ca ha s Phm Lc khc ha on vn ti vt o.",credit:"nh t liu: Wikimedia Commons (CC BY-SA 3.0)"}],sources:["Tng cc Hu cn - Lch s on 559","K s ng Trng Sn"]},{date:"08/1964",headline:"S kin Vnh Bc B - M leo thang chin tranh",location:"Vnh Bc B",description:"Sau co buc tu Maddox b tn cng, Quc hi M thng qua Ngh quyt Vnh Bc B, trao quyn cho Tng thng Johnson m rng chin tranh bng khng qun.",keyMoments:["T thng 3/1965 m Chin dch Sm Rn (Rolling Thunder).","Hi qun M phong ta ven bin min Bc."],artworks:[{type:"image",src:"https://danviet.ex-cdn.com/files/f1/upload/3-2019/images/2019-08-01/Su-kien-Vinh-Bac-Bo--nhung-bai-hoc-tau-khu-truc-maddox-su-kien-vinh-bac-bo-1564594600-width624height352.jpg",title:"USS Maddox trn Vnh Bc B",caption:"Tu khu trc M USS Maddox c cho l b tu Vit Nam tn cng ngy 2/8/1964.",credit:"nh t liu: Wikimedia Commons (public domain)"}],sources:["Pentagon Papers","H s B Ngoi giao Hoa K, 1964"]},{date:"31/01/1968",headline:"Tng tin cng v ni dy Tt Mu Thn",location:"Khp min Nam",description:"Lc lng Gii phng ng lot tin cng hn 100  th, to c sc chin lc, lm lung lay  ch xm lc ca M.",keyMoments:["nh vo S qun M ti Si Gn.","Chuyn bin mnh d lun M phn i chin tranh."],artworks:[{type:"image",src:"https://hnm.1cdn.vn/2018/01/22/hanoimoi.com.vn-uploads-quoccuong-2018-1-22-_hue.jpg",title:"Thnh c Hu trong Mu Thn",caption:"Thnh c Hu b tn ph nng n trong cuc chin u ko di 26 ngy m.",credit:"nh t liu: Wikimedia Commons (public domain)"}],sources:["Ban Tuyn gio Trung ng (2008)","The Tet Offensive and Invasion of Hue, NARA"]},{date:"27/01/1973",headline:"Hip nh Paris v chm dt chin tranh",location:"Paris - Php",description:"Cc bn k Hip nh Paris, M cam kt rt qun, tn trng c lp, thng nht, ton vn lnh th ca Vit Nam.",keyMoments:["B Nguyn Th Bnh k thay mt Chnh ph Cch mng Lm thi.","t trao tr t binh din ra ti Lc Ninh."],artworks:[{type:"image",src:"https://c.files.bbci.co.uk/9AC1/production/_93771693_nguyenthibinh_paris_1973.jpg",title:"K kt Hip nh Paris",caption:"B Nguyn Th Bnh i din Chnh ph Cch mng Lm thi Vit Nam Dn ch Cng ha k Hip nh Paris nm 1973.",credit:"nh t liu: Wikimedia Commons (public domain)"}],sources:["Ti liu Hi ngh Paris (B Ngoi giao)","US National Archives, 1973"]},{date:"30/04/1975",headline:"Chin dch H Ch Minh ton thng",location:"Si Gn",description:"Xe tng qun Gii phng hc  cng Dinh c Lp lc 10h45, Tng thng Dng Vn Minh tuyn b u hng v iu kin, kt thc 30 nm chin tranh.",keyMoments:["C gii phng tung bay trn nc Dinh c Lp.","i pht thanh Si Gn pht lnh u hng."],artworks:[{type:"image",src:"https://special.nhandan.vn/Chien-dich-Ho-Chi-Minh-tran-quyet-chien-chien-luoc-gianh-toan-thang-/assets/8TXeIqTF3L/30-4-650x488.jpg",title:"Xe tng 390 tin vo Dinh c Lp",caption:"Khonh khc lch s ngy 30/4/1975.",credit:"nh t liu: Wikimedia Commons (public domain)"}],sources:["Hi k Trn Vn Tr","Bo Gii phng s c bit 1/5/1975"]},{date:"05/1975 - 1976",headline:"Tip qun - Khc phc hu qu chin tranh",location:"Min Nam",description:"Sau gii phng, nhim v n nh i sng, ti thit h tng, thng nht chnh sch kinh t - vn ha c trin khai trn ton quc.",keyMoments:["Chin dch truy qut tn qun v ph hoi.","T chc Tng tuyn c thng 4/1976 thng nht t nc."],sources:["B T liu Quc hi","Chng trnh 5 im ca Chnh ph Cch mng Lm thi"]}],gallery:[{type:"image",src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxISEhUTEBIVFRUVFRYVFRYVFhYVFxYVGBcXFxgXGBcYHSggGBolGxUXITEhJSkrLi4uFx8zODMtNygtLisBCgoKBQUFDgUFDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIALkBEQMBIgACEQEDEQH/xAAcAAAABwEBAAAAAAAAAAAAAAAAAQIDBAUGBwj/xABGEAABAwIDBAYHBQUHAwUAAAABAAIRAyEEEjEFBkFREyJhcYGRBzKhscHR8EJSYnLhFCMzU/EVFySSssLSgpOiFkNUlMP/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A4e5yKUHIkByhKJBAcoSiQQHKEokEDtA9YLWYV9hdZKjqFqsJoEE1jyp9FxVc0XVjQCCFt556MrGMdda7eR0MWPYboJFZ1k00mE5WFkikbIOu+hquRmE8luPSZV/wVT8pXN/RRVh58FuvSRVnBv8Ay/BB5+e66J5uJKI6oVAgcqOsjpTCS/RKbogQ190KrkgapVZAlpTRJlONRQgcGiXSMJuSEKZQOMfdIrvugzVIroCdPNLY5NhKYUB1ZlLpuSKhQcbIJ/T9qCg5kEEByJG5EgCCCCAIII0BIII0C6PrBarBmwWVo6hanCHqjuQTGG6sKDlWt1VhQQVW8r+qspT1Wk3ndZZxmtkErEDqyozFKxB6iiBBvvRrXipHYug7/PnCn8vwXLdwKsVQukb5VZwx/Kg4m4I3pTgiQKeLBFNvejc6yaaUABRVCiKS8oFMRuCSxKJQAIgiBSggDSkVCllN1EACNiS0JTDdAbggdEspBNkDmVBEgggORI3IkAQQRoCRokEAQQQQLpm4WkwtSwWbp6rQ4ZhgIJTaq0+7uwK2Jh0hlP754x90cVn9m4LPUGacoIzQJJvZo7Touo7Kq5bOc2mxloBAgCeqXdl5iAOaB/AbjYGR01LpTzqEm/5fVWmwm7OEYIZh6QHIMbHuUXZtSlqHSD4+2DPmtHhiOCDJ7c9HOCxDSTRDSRqwlpnWbLme8nogxNJpfhXdKBJLHQH/APSdHd1l6ELrIstkHlbdAOZWyuBa4GCHCCDyINwuhbz1P8PH4Vsd+Ny24gjE0GgV2DrRbpWjgfxDgfBYLb7/ANxB5EIOX1CktS6vFIYgKoETQlVSm6ZugBTVZ0J52qYxIQOUSg9N4Z8a8uHs9qeqICZojajpiyJuqAO1RFovJiBI1ueVuPfyS6gTdRAVM3uJ7L/BAImI5QOu0TYCVKJqB/IglyggqXIkbkSAIIIIAgjCJAaJBBAujqFrMJ6o7lk6Zur+hj2hoCDR7LxBbmLIzAdU8nEGXGbWGnJaTd0mrU6oJawANzCBm010PC3CVh9j7SaHZS3NmuRfW/IcI/quv7C2YRSzZH02Q2CQ7hFz2GAgudmMLgJMxqASbx3rRYKkqLZlA025GjjPHTv4q9wkie3TysgmOCU02RcEQICB1rQVyP0v4NtAh4ENrZu4PGvmDPmuuNhc99OOz+k2d0kfwqzHzyBlh/1DyQeeq0cPq5TbE45NuKAPKJjERKUakBAg6prEpwlIqhA3QiROk3jWOMKW+DMWEmAbmOHeodPVTJsgJiIao5SJugcqJmql1HpuoUBNQSWlHKByUYTZKUCgkoIsyCCtciSnC6SgCCCCAIIIIAggggMKS1qjNU1uiDSejbCdJtCkHXbnbM3BgzHsXpkMaGiLHsGvf2LiO4+xXUm0qzR+8dFQd4MgHsIgeJXaMNWz05g9dtvCfn7EDjss20MERz4p6n2KI94iGi7RYacLC/HgnqNT+nwQTcwAlxVPt3a9GgwVHCo/M5rB0bC6XO0voB26K1qNzMuo5a6Bkv3mIQJwOIzM6QgtaAbOsREzKw/pR26DgKgp1WWcwOY0gvGYiC4TZv6LoVFgLC03Fxy11HcuMem7ABvRVqbQ1tR7xVAEZqoa3K48yGtcEHJXuTZKD3XSZQEUTkTigCgNG5JlG5A0BdSJsmSlZkCsyRmuklBrJQKeielkIZUDISgU81iaIQESgCjIRQgkygggggORhh5LRUtnspvyObnctnsndh7mfwRBQcoQW321uY8PIa3KdVi61MtcWnUGCgQggggCCCCA2q62ZQmXEWggfNV2DwL6l2ttzWjotgAARCDq+4W0aWJY0CBUptAcw6wNHDm0rcYfEdC4hwJYetIvlPG3Lu5LzzgMTUo1G1aLi17DIPvBHEHiF2jdXeantCnDgGVWiKjJ8MzObT7PaQv8PimVXF7DLTBBiJEaxwUmCDZZ/YJLGupnWm4sPdwPiCFf4d8uQSybXTL35dOJgeKcrNgSoNDEtu5x0kNsSO02QTqeKYIGefDTvPDxXKPT9tEFmFpN0LqlWe1oaz/9Cul/2vRhwzaA6tPLtH1C87ekTegY/FZmfwqTTTpfibMuf2ZjFuQCDHuN0pqEXSwEDbgmy1SISHBATU6GpLGp5oQMFibcpTmqJUQKY2U8xqTh1JpMLnZWiSUEZxRgLU4PcTE1RmaFX7V3frYYxVbA5oKpiYeFKa1N1qSBgBG5qcYxOPpoEwgn8qCDZjE0umztgjnHtXRdgbWY9oDXgnkuYbntDK375uZrSZbAPsK0GFwQ/bDUpA02OiG6CYuYGl0Gl3oxtMXLmzyXCNt1Gurvc3QldH3h2OTWJLjETMlcyx7MtRwHAkIIyCCXSplxAaJJ0QJAV5sjYbnQ54twb8/krHY+yKdOC+HP8wO75rQOqtAht/DTwQRG0WsAGkeXsUPFAEy0d/b2hSagJ1v3pBpoI4FpEKRh6z6L21qLi1zTII1H1y4qMAQbeR4/qltr5DzadexB1XdfeqliXdYCnVcIcPsuI4tPDuPbqtVgsaA5wJ9X3LhmHZPWYYvcc+5anYm23B7A9zmvMNDj1mOn1W1G6i59YeSDqhxjavVa4X5clYsIa0N4AWHIBZ51Nxpyf3TtbatPGDyXL99fSQaVUUsPUGIyT0hdalP3QGRn7Tp3oLr0272dFSbgqNnV25qhEWpTGW33iCO4HmuIufCf2ntOriqxrV3ZnOjsDQNGtHBo5KFX1QPtTjWptgslVDZA1UrAaI2Au0BPcl4DBdI4AmBzXUN2dmYZjODjF5QcvpuvBEKQ0K+30wlIPz0o7YVA0oA4KHVCmvKZexA1SsrfdCX4ljGiXONp0tck+AVdhmguAOhKu8FhRRxDHscQQZBHAoOz4DHCgRTqETEgjlp8FC36wT69JradEve8hrGtguJOnd36KuwjQ94qVX5iRE6QOyFocDtlzKwDYe97OjoyP/dc5rRJ4iDJ7GlBRbq+h9rQX7Sdmdwo0XugfmeAHOPY23aVd7U9D2AqsP7O6rQfHVlxe3NwzNfLo7iFrsA4n92wnM3UnUniXHmnH7wUKYquqVOrRaXPfkfkygSYfGVxHIEoPMW3tgV8FXdQxLMrxBBBlr2nRzHcWn+qguauybd3TrbXmsNoU6rwXPpM6PLSp0n+owOHXBOUTM6E9/OcZuXjqOJpYevRcw1ajabanrUzmIEh4t4GD2IKjokF3f8AubwP82t/mCJBynY9QGsXNPrGVrK9cOgTlIXMNhbRy9UmL2K2WzdpsdIqIL7GV2Cm4kycup7lxbGPl7jzcfetxvftlraeSkTLrFYFAFf7EwuXrHU+wKmwlPM8ArS0xlFwe4CUFhSfopkzHd4qo/a2tIzBw8vcCp+GxLHEZXA9mh8igkimOad/YydIQAhS8O+NdNCgq8TgHFRn4cj1hf8A1fqtNUFgYtpKbqUw4QdD9A9iDO4XCuuWTBPMBTHTlcROZoJEayLiPEIxRcwkNudRycPgUjF4shri2c4AJbALoBv1TZw80DLdsYmr1cTXqVGECz3HLmGkgQDMxfsUfa27AqsNTDjLUF3U9A7tbwB7NCmzRhrQTmGRs3DtQDBIPDz53V7g+ka1uXriLGwcNOdnD6ug5uwEGCIOhHI8ik19Vvds7Ebicz2sNOsLklrg1/fwntCwuLYWmCCCLEHUQgdo6KRh8N0hhQ6RXW/QBshlZ+LfWpNqU8jKQztDhmMucBPGMunMIMdutsxrnlj1s8DsSlSe4F1iOad3/wB3aeDx1GngWOnEMLhSaXPOZroOWZMG2ptBW73Q3OyAVsbD6vBmrGf8nexByPendgU6Rqy6CTBMwe4rDsXffSzj6uJNLZWBp9JVq5alTQBjGmWydGNkST2AcQFzDfbcCtsxlF9avSeapIyMzBzSBJN/Wbwm1yEGTcERSiUQagj9ym4LGOc8B3BRXMIun9iVGCu3pPVJiUG4wmMfAAkgJ/F7YqUclQDK6m8PZPNtx4K1G7hY3pKTuqRMLFb2061ifUQavbXpDbXw5OHe/DVnDLUaJ6zSW58lRotYOjQ3W83O3nw1eiyhlaGBgblAAaBEBobpELz8xgyqTs3adXDhxpHgS0HgeY+SDpm8mzsTsWqa2El+EeQSAb0uDR+TgCdNJ0VlS9LlEYWpUewPqMAIpE5C52YDkecyJ0XINi721qWINWu51dtQFldlQ5hVpu1bfTsjRW29m7LKTGYjDONXBV70qn2qZ/lVOThcSdY5oOgf360P/hVv+8EFxr+zj94eRQQVrrFdB3JxWErYd9PEkNqNHVJtPaDxXPyUWmiDY7exmEdgw1g/fB2vcbk9hCx0JXSc0dOkXaCUD+zG9e/K3mFftxoDe3hCosE2xdxBA96s8MQYlA5TYXuk30VpSwo0cPYmqLwAIH19e9SW4xpNzft4oEGhVYZpukfddfyOqkYXHmctRpYTaDoeRB0KfounS/cnKtJr25XCR7dbEHn2oJezsQKjY4gkR2xdAmDHaqvBtfRqwTIcJa7nHP8AFGqmY7FDN1RM3+aB5kOzA+B5JpjS106OFvrsKaw5eZNh4T8k/lcTwJHZB96CFteiPWbx17+KnbMPUAOoUTFkhpdBj7Q4/mHaOSkYSGsD3OEazIiLc+8eaC5om11gfSBgMlRlQCz5BPaIjxgx4Lc0qlraKm3xwvS0G/hqNPcDIPvQYXY2zauJqso0Glz6jg0AdupPIDVer91NhUtn4Wnh6d8jbni95u5x7zPhCyHor3Xp4ai2uWxUqN6p4tZ+uq39Mxw14n61QFTwTM4quaOky5Q6LhszlB4XKXWdPq8OHM9qcLZ4lC0fAIK/ZGxqdF1SsYdWqmatX7Tos1o+6xoAAb2TcyTmPTLUwzdnVH1aTXvflpUnkNDmvJkOa43gQTA181rv2Vz3S50NGjRx7+fdooG8O0sM2m6nUa2s4tLchAdGYR1vuj2oPLOGwz6hysEnkFGq52OIcII4Lp+A2JSwdXP0jIiCC4LOb54qhVMUGS4m5aLeaDNMeHBRq1GNE+zAVhHUN9NE66i4WfA8Z9yDTbF30qU8P0D78Afcom26tU0Gl122kqSdznZKb/2iiOkaHAHPIHCYaUjH7PxBo9FNN0CJDwP9UIMp0pTjcSnzsLEXIpF35S13uKh1dn1xJ6GpAMTkdHnCCNimgOtobrsfo025hH4IbOc2m01c2d1RpewvI1cMwMkwLEQG84XJaWFlwFWacghstMl0WEGLEwJ7UWExBpEFpgi/KxuPZCDtf909T7tH/wCxV/4ILA/+tqv82r9eKCDEFqIFCUCgIhPUazmzB1TYQB4ILTCwaNhfP1jzMH9FJot0IT5wOSm1lu3tdBJ9/sSMOef1zQSaNip7YOoBUMDRWeGpg3KAmYEH1ZHcpVNjxrceRQ/aGiw9yPpzwHs4IBiDLY1LXSOyxkeN03Xpz1hHMdh+SkEZrmxHH5p2phzlLbaBzSL2M+4/BAzh8bSiCQ08Q61+/Q+ClReRcHiLqpw9GXcdVMrUGsM5ss8Ra/xQScc1gbJcAe0gTHxVJtLAhzAJgCcszlbOrXfhJ8vdIx+Nw5pkOGaoLhwAF/l2KCzHgMhjR7h/RBsNxtlsPUxTzJaXZphublPKNCrPeNmzW1W5cQBTys6Rrf3kxctGX7WgXOjXqPY1uaA2RadDBCa6K9z9eSDq+J9KtBnVw+Gc8AAdd4piBpYAmFX430q4kXbh6LSbjNnfY8fWHBc6YB/WUipE3PtKDd1vSjtA+r0DbcKTp/8AJ5UJ/pC2k6xr5R+GnTHtylZOQItKPMNYCC9xu8+Lf62Mq9oDy0H/ACwqkYvXOXGZNyTcqHWcOATXROPcgnOxjXCMsJNN/d5QmKWGd2pxuDPagUKhMZuGlkkNa4wTr5FL6ExxhKwuHAMudHeEGmdUyCnJkNY2PIKsfhzUdJIAJkHmj280/uutA6FjdI0kfBRcPiLwJNgPkQgs6GBpuaB9t7iLmLi/tChVGOF2yGugRJ4Ry70VbEVWlvVPrHXTQDTuQxG0X5YDWgi1gfrggk4yhiG3L3lrbtDnEwSCbT3exRqzg/1mscbTmY02jtCMYqo+C8nUH2ET7U5Sj8V2/XDsQRehpfy6H/ZZ8kE9lb+L68EEHOSUSBQQGCgUERQX+BrOcwEGYOnLnCkV25Xhw9V/vhV27dX94W8CJHeCPhKvcdhYt9l2n4T8kCGK3wLbKloEkGdRY96m/wBp02MALr8hJKCxfVk5adyfZzS6nUb1bnSTYeaoaW1yySxknm4nj2D5qFXx1V9zPgPiguq4E5q1YjjlBie5ouAh/bTWQGZnACBPVniZ7FnGl3H4SlB54H2oLN+1ahLi3qSeH0SFHfiHO1LjzkqOwnt7k7SpvP6oBVJj6+SVRdbX3oq7Ibc+39E5Sa2NTPeR8EDjfqJ+SPOOU+aQHt5c/tFLpFv1KAukb90e0+9B1Ufd8gnnsafV5fqmzSnQDjzQGxxOjT5KQQ7LZoTLaZ4ao2vdHDzhAAXnsS2ToXDug/NNk69bX4J+mGDgXHt5oHGMsb+xSKdNvF3gE3Qol2jAQdLlPswToEho1iT4oENpC0RMg3k6XCIU8pByNM6TKfGF5uA7RzSsZh2AetOUW9vxQFt9wHQEgXpjTSQTZRNn4qlTIc6NDbuUne4M/wAPlkEUYdxvnf8AAqnp4FxAId58kFhjsR0pkPIgyAiZR6TNLwDGZO4fAhokkE8bckcHMAJuQOA1QKoVWZBGYmO64KbbiusNQJI7gRKMYAh5F4nti4ujqYZrYP4C4a6iJHtQOdH+NGo2aly96NBzsoJ4oIGkA0mwE910+Ff7A9R3j7igqNlUyyoHuFhPuVzitrkiGgAReZcT8FErcfBRxogdGKvoNDrPglMrExZo14dx+CKmrLC8PFBCc0ui4J91v6+aAwpi5+SssN6wTz/igp24ZvE+yU8KIGknuCkHin6SCCGHg0zPJONw1TWIHeE5X+vJNM180B1KYySW6E3nsT9ENLfsac0xW/h/9XwTVPRBP/ZG9Uuc0AvGgH0URwgBiSY5cvqElvrs8Vodn+se8oKE0Dq1pPjfyCVRa+LUyb8itngPVd+Z/wDuVTS9U96CuoU6mYNLQ0mQLaTf3KPTo5m+t4K6xH8Vn5HKFsbTwQMM2adRJ+CkU8K8GYHGJAVnheH5vipNbRvefcgpHU6nAhtuA8063DggS48SrGt9nx9yaZ8PigjvwoyAgE92qQ/DOv8Auj38u9OYj1R3/NVuN0Pj7igl7wYdx6GZHVcP/P8AVQRh3A2B5X+Sp6vreCfw315ILptB+pAGnBEWlz5LjoDb2Jqhw+uatqen+VAWJxAJkOIkCBbs/VIrYYPADbkFw46OGnsV7sfQd3xKm1v94/3IMP8A2ef5Q80FqEEH/9k=",title:"Trng Chinh (1978)",caption:"Trng T lnh chnh tr ca cch mng Vit Nam  vai tr then cht trong khng chin v xy dng x hi mi. :contentReference[oaicite:2]{index=2}",credit:"Public domain  Wikimedia Commons"},{type:"image",src:"https://baodongnai.com.vn/file/e7837c02876411cd0187645a2551379f/dataimages/201603/original/images1471968_5A.jpg",title:"Phm Vn ng (1972)",caption:"Th tng Vit Nam t 1955-1987, cng s gn gi ca H Ch Minh. :contentReference[oaicite:3]{index=3}",credit:"Public domain  Wikimedia Commons"}],reference:"HONG SA - TRNG SA L CA VIT NAM."}},a8=["antiFrench","antiAmerican"];function o8(){oc();const[t,e]=Id(),n=gt(),[r,s]=S.useState("antiAmerican");S.useEffect(()=>{const l=t.get("era"),c=t.get("phase"),u=l&&i8[l]||(c==="antiFrench"||c==="antiAmerican"?c:null);u?u!==r&&s(u):r!=="antiAmerican"&&(s("antiAmerican"),e({era:t0.antiAmerican,phase:"antiAmerican"},{replace:!0}))},[r,t,e]);const i=l=>{l!==r&&e({era:t0[l],phase:l},{replace:!0})},o=P1[r];return a.jsxs("div",{className:"min-h-screen bg-brand-base pt-0",children:[a.jsx("div",{className:"relative h-96 bg-cover bg-center",style:{backgroundImage:o.heroImage},children:a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center animate-fade-in-up px-4",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-serif font-bold text-white mb-3",children:o.label.toUpperCase()}),a.jsxs("p",{className:"text-lg md:text-xl text-brand-sand font-serif italic",children:[o.period,"  Dng chy lch s dn tc"]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[a.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:a8.map(l=>{const c=P1[l],u=l===r;return a.jsxs("button",{type:"button",onClick:()=>i(l),className:`px-6 md:px-8 py-3 md:py-4 rounded-sm border transition-all duration-300 font-serif text-lg ${u?"bg-brand-blue text-white border-brand-blue shadow-brand":"bg-white text-brand-blue border-brand-blue/40 hover:border-brand-blue hover:bg-brand-sand"}`,children:[a.jsx("div",{children:c.label}),a.jsx("div",{className:"text-xs md:text-sm font-sans tracking-[0.35em] uppercase text-brand-sand mt-1",children:c.period})]},l)})}),a.jsx("div",{className:"max-w-4xl mx-auto text-center mb-12",children:a.jsx("p",{className:"text-brand-muted leading-relaxed",children:o.summary})}),o.featureVideo&&o.featureVideo.type==="video"&&a.jsxs("div",{className:"max-w-4xl mx-auto mb-16 shadow-soft border border-brand-blue/20 bg-white",children:[a.jsx("div",{className:"aspect-video",children:a.jsx("iframe",{title:o.featureVideo.title,src:o.featureVideo.src,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})}),a.jsxs("div",{className:"p-4 text-sm text-brand-muted",children:[a.jsx("div",{className:"font-semibold text-brand-text",children:o.featureVideo.title}),a.jsx("p",{className:"mt-1",children:o.featureVideo.caption}),a.jsx("p",{className:"mt-2 italic",children:o.featureVideo.credit})]})]}),a.jsxs("div",{className:"relative max-w-5xl mx-auto",children:[a.jsx("span",{className:"absolute left-4 md:left-6 top-0 bottom-0 border-l border-brand-blue/20"}),a.jsx("div",{className:"space-y-12",children:o.events.map(l=>a.jsxs("div",{className:"relative pl-12 md:pl-16 scroll-animate",children:[a.jsx("span",{className:"absolute left-[0.9rem] md:left-[1.35rem] top-4 w-4 h-4 rounded-full bg-brand-blue shadow-brand"}),a.jsx("div",{className:"bg-white border border-brand-blue/15 shadow-soft hover:shadow-medium transition-shadow duration-300 p-6 md:p-8",children:a.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-brand-blue uppercase tracking-[0.35em] text-xs",children:[a.jsx("span",{children:l.date}),l.location&&a.jsx("span",{className:"hidden md:inline-block w-8 border-t border-brand-blue/30"}),l.location&&a.jsx("span",{className:"tracking-[0.2em]",children:l.location})]}),a.jsx("h2",{className:"text-2xl font-serif text-brand-text leading-tight",children:l.headline}),a.jsx("p",{className:"text-brand-muted leading-relaxed",children:l.description}),l.keyMoments&&a.jsx("ul",{className:"list-disc pl-5 space-y-1 text-sm text-brand-muted",children:l.keyMoments.map(c=>a.jsx("li",{children:c},c))}),l.artworks&&a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:l.artworks.map(c=>a.jsxs("div",{className:"bg-brand-sand/30 border border-brand-blue/10 p-3",children:[a.jsx("div",{className:"h-48 overflow-hidden",children:a.jsx("img",{src:c.src,alt:c.title,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"mt-3",children:[a.jsx("div",{className:"text-sm font-serif text-brand-text",children:c.title}),a.jsx("p",{className:"text-xs text-brand-muted mt-1",children:c.caption}),a.jsx("p",{className:"text-xs text-brand-muted italic mt-1",children:c.credit})]})]},c.src))}),l.sources&&a.jsxs("div",{className:"border-l-2 border-brand-blue/40 pl-4 text-xs text-brand-muted",children:[a.jsx("div",{className:"uppercase tracking-[0.4em] text-brand-blue mb-1",children:"Ngun"}),a.jsx("ul",{className:"list-disc pl-4 space-y-1",children:l.sources.map(c=>a.jsx("li",{children:c},c))}),a.jsx("button",{type:"button",onClick:()=>{const c=l.deepEventId??l.id,d=`/event/detail${c?`?id=${c}`:""}`;if(!gd()){typeof window<"u"&&(window.sessionStorage.setItem("afterLogin",JSON.stringify({page:d.replace(/^\//,"")})),window.sessionStorage.setItem("lastVisitedPath",d)),n("/login",{state:{from:d}});return}const h=new URLSearchParams(t.toString()),m=t0[r];h.set("era",m),h.set("phase",r),c?h.set("eventId",c):h.delete("eventId");const x=h.toString();n(d,{state:{event:l,phase:o.label,returnTo:x?`/history?${x}`:"/history"}})},className:"mt-3 inline-flex items-center justify-center px-4 py-2 bg-brand-blue text-white text-sm rounded-sm hover:bg-brand-sand hover:text-brand-blue transition-all duration-300",children:"Xem chi tit"})]})]})})]},l.date+l.headline))})]}),o.gallery&&a.jsxs("div",{className:"mt-16",children:[a.jsx("h3",{className:"text-center text-xl md:text-2xl font-serif text-brand-text mb-6",children:"T liu khc"}),a.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:o.gallery.map(l=>a.jsxs("div",{className:"bg-white border border-brand-blue/15 shadow-soft p-4",children:[a.jsx("div",{className:"h-56 overflow-hidden",children:a.jsx("img",{src:l.src,alt:l.title,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"font-serif text-brand-text text-lg",children:l.title}),a.jsx("p",{className:"text-brand-muted text-sm mt-1",children:l.caption}),a.jsx("p",{className:"text-brand-muted text-xs italic mt-1",children:l.credit})]})]},l.src))})]}),a.jsx("div",{className:"mt-16 bg-brand-blue/10 border border-brand-blue/20 p-6 md:p-8",children:a.jsx("h3",{className:"text-center text-sm md:text-base text-brand-muted uppercase tracking-[0.35em]",children:o.reference})})]})]})}const n0={id:"independence-1945",headline:"Tuyn ngn c lp ti Qung trng Ba nh",date:"02/09/1945",location:"H Ni",summary:"S kin Ch tch H Ch Minh thay mt Chnh ph lm thi tuyn b c lp, khai sinh nc Vit Nam Dn ch Cng ha  mc chuyn thi i ca lch s Vit Nam hin i.",heroImage:"https://baonamdinh.vn/file/e7837c02816d130b0181a995d7ad7e96/082023/untitled-1_20230831215518.jpg",sections:[{id:"context",title:"Bi cnh trc Cch mng Thng Tm",kind:"context",content:"u nm 1945, nn i honh hnh cp i sinh mng ca hng triu ngi. Sau cuc o chnh 9/3/1945, chnh quyn thc dn Php  ng Dng sp . Thng 8/1945, Nht u hng ng minh, khong trng quyn lc xut hin. y l thi c c mt khng hai  lc lng cch mng chp thi c ginh chnh quyn.",bullets:["Nn i 19441945 ti min Bc","o chnh Nht  Php (9/3/1945)","Nht u hng  khong trng quyn lc (8/1945)"]},{id:"aug-revolution",title:"Cch mng Thng Tm  nhng mi khi ngha",kind:"timeline",content:"T gia thng 8/1945, phong tro khi ngha bng n trn khp c nc. H Ni (19/8), Hu (23/8), Si Gn  Gia nh (25/8) nhanh chng ginh chnh quyn, thit lp y ban nhn dn lm thi.",bullets:["H Ni (19/8): mt-tinh ln chuyn ha thnh khi ngha","Hu (23/8): vua Bo i thoi v","Si Gn  Gia nh (25/8): thnh lp y ban nhn dn Nam B"]},{id:"preparations",title:"Chun b cho bui l 2/9",kind:"timeline",content:"Sau khi ginh chnh quyn, Chnh ph lm thi quyt nh t chc l tuyn b c lp ti Qung trng Ba nh. Cng tc dng l i, huy ng qun chng, m bo an ninh  truyn thanh c trin khai khn trng."},{id:"ceremony",title:"Bui l Tuyn ngn c lp",kind:"analysis",content:"Khong 50.000 ngi d l. Trong ting reo h, Ch tch H Ch Minh c Tuyn ngn c lp, m u bng mnh  ni ting v quyn con ngi. Cu hi Ti ni, ng bo nghe r khng?  R! tr thnh k c tp th c bit ca H Ni thu 1945.",bullets:["L i: H Ch Minh, V Nguyn Gip, Phm Vn ng","c Tuyn ngn  trch dn v quyn bnh ng","Phn duyt binh ca Qun Gii phng"]},{id:"significance",title:" ngha  chnh tr, php l, vn ha",kind:"analysis",content:"Tuyn ngn t nn mng cho Nh nc Vit Nam Dn ch Cng ha; l vn kin lp quc, tin  cho Hin php 1946. V vn ha  t tng, vn bn kt hp lp lun cht ch vi cm hng dn tc, dn chiu cc bn Tuyn ngn Hoa K v Nhn quyn  Dn quyn Php."},{id:"diplomacy",title:"Phn ng v bi cnh quc t",kind:"analysis",content:"Ngay sau l, Chnh ph lm thi gi in n cc cng quc yu cu cng nhn c lp. M gi thi  quan st (phi on OSS ti H Ni). Qun Trung Hoa Dn Quc vo Bc Vit gii gip Nht; Php chun b quay li ng Dng, dn ti xung t sau ."},{id:"legacy",title:"Di sn lu di",kind:"impact",content:"Tinh thn 2/9 tr thnh biu tng bn sc Vit Nam hin i   ch t cng v kht vng t do, l mch ngun cho cc khu hiu khng chin sau ny."}],people:[{id:"hochiminh",name:"H Ch Minh",role:"Ch tch Chnh ph lm thi",portrait:"https://upload.wikimedia.org/wikipedia/commons/0/07/Ho_Chi_Minh_-_1946_Portrait.jpg",bio:"Nh cch mng, lnh t ca phong tro c lp dn tc Vit Nam trong th k XX.",quotes:["Tt c mi ngi sinh ra u c quyn bnh ng"]},{id:"vonguyengiap",name:"V Nguyn Gip",role:"B trng Ni v kim Tng ch huy",portrait:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTPcNYZndatqs7u1SSYVFkhtgFBVznMRoL0BA&s",bio:"Nh qun s, ngi ch huy Qun i nhn dn Vit Nam trong nhiu chin dch ln."}],sources:[{id:"VNA1955",type:"primary",title:"Bn ghi m Tuyn ngn c lp (1955)",author:"i Ting ni Vit Nam",year:"1955",url:"https://www.youtube.com/watch?v=5ODYUerrQ88",reliability:"high",citation:"i Ting ni Vit Nam (1955), Bn ghi m Tuyn ngn c lp."},{id:"HP1946",type:"primary",title:"Hin php 1946",year:"1946",reliability:"high",citation:"Hin php nc Vit Nam Dn ch Cng ha (1946)."},{id:"study2010",type:"secondary",title:"Nghin cu v Cch mng Thng Tm",author:"Nhiu tc gi",year:"2010",reliability:"medium",citation:"Tng lun s hc hin i v Cch mng Thng Tm (2010)."}],media:{images:[{src:"https://imgnvsk.vnanet.vn/mediaupload/content/2023/8/16/229-ttxvn_20150828_quockhanh2.jpg",caption:"Qung trng Ba nh  minh ha",title:"Ba nh 1945",credit:""},{src:"https://file3.qdnd.vn/data/images/0/2022/09/01/tvkimgiang/bac%20ho%20doc%20tuyen%20ngon.jpg",caption:"Bc H c Tuyn ngn c lp",credit:"Unsplash  minh ha",title:""}],videos:[{platform:"youtube",id:"5ODYUerrQ88",title:"Phim t liu: Ngy c Lp 2/9/1945"}]},meta:{revision:"v1.0",updatedAt:new Date().toISOString(),methodology:"Tng hp ngun s cp (ghi m, vn bn php l) v ngun th cp (tng kt s hc). Phn kim gia cc ngun v ghi ch thin kin khi c.",notes:"Bn d liu minh ha phc v trnh din UI/UX hc thut trn web."}},l8={id:"resistance-1946",headline:"Ton quc khng chin bng n",date:"19/12/1946",location:"H Ni  Vit Bc",summary:"Sau ti hu th ca Php, Trung ng ng ra Li ku gi Ton quc khng chin, m ra giai on chin tranh nhn dn trng k t  th v cn c Vit Bc.",heroImage:"https://nhandan.vn/special/hanoi_khangchien_60ngaydem/assets/5nlKlWdLeM/hanoicbichiendau-750x422.jpg",sections:[{id:"prelude",title:"Ti hu th v la chn lch s",kind:"context",content:"Cui nm 1946, sau hng lot v khiu khch, ngy 18/12 qun Php gi ti hu th i tc v kh lc lng t v H Ni. m 18 rng 19/12, Thng v Trung ng ra Ch th Ton quc khng chin, khng nh quyt tm bo v ch quyn dn tc.",bullets:["Hip nh S b 6/3 v Tm c 14/9 khng cn tc dng kim ch xung t.","Php gia tng tp kch ti Hi Phng, Lng Sn, H Ni trong thng 1112/1946.","Trung ng nhn nh: Khng th nhn nhng thm c na."]},{id:"call-to-arms",title:"Li ku gi Ton quc khng chin",kind:"timeline",content:"20 gi ngy 19/12/1946, Ch tch H Ch Minh ra Li ku gi Ton quc khng chin. Ting sng ph nh my in Yn Ph m mn chin dch gi H Ni 60 ngy m, to iu kin cho Trung ng ng v Chnh ph rt ln Vit Bc.",bullets:["Ch ng tt in ton thnh ph, bo hiu n sng.","Li hiu triu vang ln trn i Ting ni Vit Nam t lng Vn Phc.","Cc chin khu ng lot trin khai phng n nh ch."]},{id:"hanoi-60days",title:"H Ni 60 ngy m giam chn ch",kind:"analysis",content:"Cc lin khu I, II, III xy dng chin ly, nh ch trong tng con ph. Chin thut giam chn, tiu hao khin Php khng th nh nhanh. Sau 60 ngy chin u c lit, lc lng ta rt ra ngoi thnh an ton, bo ton ch lc.",bullets:["Chin ly  Quan Chng, Hng o, Hng u.","i cm t qun 10 ngi m bom ph xe tng ti Ca Bc.","m 17/2/1947 rt khi Lin khu I theo ng hm b mt."]},{id:"strategic-shift",title:"Rt ln Vit Bc  hnh thnh chin tranh nhn dn",kind:"analysis",content:"Ch tch H Ch Minh, Chnh ph, Quc hi, qun ch lc rt ln ATK Vit Bc, hnh thnh trung tm lnh o khng chin. ng li ton dn, ton din, trng k, t lc cnh sinh c c th ha qua h thng cn c v mng li dn cng hu cn.",bullets:["Thit lp cc c quan Trung ng ti Tn Tro, nh Ha, Ch n."," li H Ni mt b phn cn b hot ng ni thnh, xy dng c s b mt.","Khu vc Khu IV, Nam B tip tc nh ph hu phng ch."]},{id:"impact-long-term",title:" ngha v di sn",kind:"impact",content:"Ton quc khng chin nh du s khi u ca cuc chin tranh nhn dn lu di. S kin chng minh bn lnh quyt t ca H Ni v  ch i on kt, m ng cho nhng chin dch Vit Bc 1947, Bin gii 1950 v in Bin Ph 1954.",bullets:["Cng c nim tin nhn dn vo ng li khng chin kin quc.","nh hnh m thc tc chin  th  cn c  du kch kt hp.","Gy ting vang quc t v quyn t v chnh ng ca Vit Nam."]},{id:"appendix-communique",title:"Ch th Ton quc khng chin (trch)",kind:"appendix",content:"Lc ny, nu khng kin quyt hy sinh th chng nhng quyn c lp t do ca T quc khng gi c m cuc i ca dn ta, con chu ta ri cng khng t do, hnh phc."}],people:[{id:"hochiminh-1946",name:"H Ch Minh",role:"Ch tch nc Vit Nam Dn ch Cng ha",portrait:"https://media.thanhtra.com.vn/public/data/news_images/2018/08/congdinh/bac_ho_voi_khuc_hat_dan_ca.jpg?w=1319",bio:"Ngi son tho Li ku gi Ton quc khng chin, ch o rt lui chin lc v cn c Vit Bc.",quotes:["Ai c sng dng sng, ai c gm dng gm"]},{id:"vonguyengiap-1946",name:"V Nguyn Gip",role:"y vin Qun s, Ch huy mt trn H Ni",portrait:"https://nhandan.vn/special/nguoi-anh-ca-cua-QDNDVN/assets/GpKITqzAvt/vng-1940-750x1060.jpg",bio:"T chc chin u 60 ngy m ti H Ni, sau  ch o chin tranh du kch m rng  Lin khu Vit Bc."},{id:"truongchinh-1946",name:"Trng Chinh",role:"Tng B th ng",portrait:"https://cdnimage.daihoidang.vn/t400/Media/Graphic/Profile/2020/12/02/truong-chinh-edit.jpg",bio:"ng tc gi Ch th Ton quc khng chin, hoch nh ng li chin tranh nhn dn lu di."}],sources:[{id:"call1946",type:"primary",title:"Li ku gi Ton quc khng chin",author:"H Ch Minh",year:"1946",url:"https://dangcongsan.vn/tu-lieu-van-kien/van-kien-dang/ho-chi-minh/loi-keu-goi-toan-quoc-khang-chien-1946-547637.html",reliability:"high",citation:"H Ch Minh (19/12/1946), Li ku gi Ton quc khng chin."},{id:"directive1946",type:"primary",title:"Ch th Ton quc khng chin",author:"Trung ng ng Cng sn ng Dng",year:"1946",url:"https://dangcongsan.vn/tu-lieu-van-kien/van-kien-dang/van-kien-tw-dang/chinh-tri/chi-thi-toan-quoc-khang-chien-1946-547639.html",reliability:"high",citation:"Trung ng ng (12/1946), Ch th Ton quc khng chin."},{id:"militaryhistory2010",type:"secondary",title:"Lch s khng chin chng Php, tp 1",author:"Vin Lch s Qun s Vit Nam",year:"2010",reliability:"high",citation:"Vin Lch s Qun s Vit Nam (2010), Lch s khng chin chng Php, tp 1."}],media:{images:[{src:"https://cdnphoto.dantri.com.vn/14xjzsYSqNAYwRqkzW1ZKseFiVY=/thumb_w/680/2024/01/31/cam-tu-quan-5062-1481900002-1706686543490.jpg",caption:"Chin ly trn ph Hng o trong 60 ngy m khi la.",credit:"Wikimedia Commons (Public Domain)",year:"1946",title:"Chin ly H Ni"},{src:"https://file3.qdnd.vn/data/images/0/2016/12/11/thuha/111216ha26.jpg",caption:"p phch tuyn truyn Li ku gi Ton quc khng chin.",credit:"T liu lu tr Trung ng",year:"1946",title:"Li ku gi khng chin"},{src:"https://thupt1977.wordpress.com/wp-content/uploads/2017/09/hop_o_chien_khu_viet_bac-07ll.jpg",caption:"Hp  chin khu Vit Bc, 1947.",credit:"Unsplash  minh ha",title:"Cn c Vit Bc"}],videos:[{platform:"youtube",id:"UpWV7k_gak4",title:"Phim t liu: H Ni ma ng 1946",src:"https://www.youtube.com/embed/qLfGQOWXo7Q"}]},meta:{revision:"v1.0",updatedAt:"2025-01-15T00:00:00.000Z",methodology:"i chiu vn kin s cp (Li ku gi, Ch th) vi cng trnh nghin cu chnh thng; b sung nh t liu lu tr v nh minh ha a hnh.",notes:"Bn d liu phc v tri nghim h s nghin cu v khng chin chng Php giai on m u."}};function c8(t){if(!t)return n0;switch(t){case"independence-1945":return n0;case"resistance-1946":return l8;default:return n0}}const Po="independence-1945",en="evt-1947-vietbac",Xr="evt-1968-tet",u8=[{id:"q-ind-context-1",subEventId:"independence-1945:context",eventId:Po,eraId:"french",prompt:"Bin c no to ra khong trng quyn lc, m ng cho Cch mng Thng Tm v l 2/9?",options:["Php ti chim ton b ng Dng","Nht o chnh Php ri u hng ng minh","M  b vo  Nng","Qun i Anh tin vo H Ni"],answerIndex:1,explanation:"Sau khi Nht o chnh Php (9/3/1945) ri u hng ng minh (15/8/1945), chnh quyn thuc a tan r to thi c ginh chnh quyn."},{id:"q-ind-ceremony-1",subEventId:"independence-1945:ceremony",eventId:Po,eraId:"french",media:{type:"image",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Ho_Chi_Minh_reading_declaration_of_independence_1945.jpg/800px-Ho_Chi_Minh_reading_declaration_of_independence_1945.jpg",alt:"Ch tch H Ch Minh c Tuyn ngn c lp ti Qung trng Ba nh",caption:"Khonh khc Ch tch H Ch Minh c Tuyn ngn c lp ngy 2/9/1945.",credit:"Wikimedia Commons (CC BY-SA 3.0)"},prompt:"Trong Tuyn ngn c lp, Ch tch H Ch Minh vin dn trc tip nhng bn tuyn ngn no?",options:["Tuyn ngn c lp M 1776 v Tuyn ngn Nhn quyn & Dn quyn Php 1789","Hin php 1946 v Hip nh Geneva 1954","Tuyn ngn Lin Hp Quc 1945 v Hip c SEATO","Bn Yu sch ca nhn dn An Nam 1919 v Cng lnh 1945"],answerIndex:0,explanation:"Bn Tuyn ngn nhn mnh gi tr ph qut v quyn con ngi t M (1776) v Php (1789)  khng nh tnh chnh danh ca nn c lp Vit Nam."},{id:"q-ind-ceremony-2",subEventId:"independence-1945:ceremony",eventId:Po,eraId:"french",prompt:"Cu hi Ti ni, ng bo nghe r khng? din ra  thi im no ca bui l?",options:["Trc khi on duyt binh bt u","Ngay khi Ch tch H Ch Minh m u phn c Tuyn ngn","Khi quc k c ko ln","Trong phn tuyn th ca Chnh ph lm thi"],answerIndex:1,explanation:"Cu hi c ct ln ngay u phn c Tuyn ngn, nhn ting R! vang di t qun chng."},{id:"q-ind-diplomacy-1",subEventId:"independence-1945:diplomacy",eventId:Po,eraId:"french",prompt:"Ngay sau l 2/9, Chnh ph lm thi gi in tn ti cc nc no   ngh cng nhn c lp?",options:["Cc cng quc ng minh (M, Anh, Lin X, Trung Hoa Dn Quc)","Cc quc gia ng Nam  trong khi ASEAN","Cc nc thuc a  Bc Phi","Ch ring Lin X"],answerIndex:0,explanation:"Chnh ph lm thi gi in cho nhng cng quc ng minh ch cht,  ngh cng nhn v thit lp quan h ngoi giao."},{id:"q-ind-legacy-1",subEventId:"independence-1945:legacy",eventId:Po,eraId:"french",prompt:" ngha php l ct li ca Tuyn ngn c lp 2/9/1945 l g?",options:["Tuyn b Vit Nam gia nhp Lin Hp Quc","Khng nh quyn t quyt ca dn tc v khai sinh Nh nc Vit Nam Dn ch Cng ho","Thng bo k hoch ci cch rung t","Ku gi vin tr t Hoa K"],answerIndex:1,explanation:"Tuyn ngn xc lp Nh nc Vit Nam Dn ch Cng ho v quyn t quyt ca dn tc trc cng ng quc t."},{id:"q-vb-1007-1",subEventId:"evt-1947-1007",eventId:en,eraId:"french",prompt:"K hoch ca Php m mn mang tn g?",options:["Cloclo","La","Castor","Atlas"],answerIndex:1,explanation:"Bc 1 mang tn La."},{id:"q-vb-1007-2",subEventId:"evt-1947-1007",eventId:en,eraId:"french",prompt:"Hai gng km ca ch hng vo khu vc trng tm no?",options:["H Ni","Bc KnCh nCh Mi","Hu"," Nng"],answerIndex:1,explanation:"Trng tm l tam gic Bc KnCh nCh Mi."},{id:"q-vb-1007-3",subEventId:"evt-1947-1007",eventId:en,eraId:"french",prompt:"Mi ty ca ch i theo tuyn sng no?",options:["Sng M","Sng Hngsng Lsng Gm","Sng Thu Bn","Sng Bng"],answerIndex:1,explanation:"Mi ty i theo sng Hng, ngc sng LGm."},{id:"q-vb-1013-1",subEventId:"evt-1947-1013",eventId:en,eraId:"french",prompt:"Sau 13/10, ta lp my mt trn ln?",options:["1","2","3","4"],answerIndex:2,explanation:"Ba mt trn."},{id:"q-vb-1013-2",subEventId:"evt-1947-1013",eventId:en,eraId:"french",prompt:"Phng thc tc chin ch yu c nhn mnh l g?",options:["Cng thnh","Phng ng c nh","Phc kch tiu hao"," b ng bin"],answerIndex:2,explanation:"Phc kch tiu hao, tiu dit tng b phn."},{id:"q-vb-1013-3",subEventId:"evt-1947-1013",eventId:en,eraId:"french",prompt:"Mt trong ba mt trn khng phi l?",options:["Sng Lng 2","Bc Knng 3","ng 4","ng 5"],answerIndex:3,explanation:"Khng c ng 5."},{id:"q-vb-1030-1",subEventId:"evt-1947-1030",eventId:en,eraId:"french",prompt:"Trn 30/10 din ra  u?",media:{type:"image",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Column_French_Ambush_Viet_Bac_1947.jpg/800px-Column_French_Ambush_Viet_Bac_1947.jpg",alt:"on c gii Php b phc kch ti ng s 4 cui nm 1947",caption:"on c gii Php trn ng s 4  bi cnh trn Bng Lau.",credit:"Lu tr qun i Php (public domain)"},options:["Bng Lau","in Bin Ph","Ph Thng","o Kh"],answerIndex:0,explanation:"Bng Lau  ng 4."},{id:"q-vb-1030-2",subEventId:"evt-1947-1030",eventId:en,eraId:"french",prompt:"Mc tiu chnh ca ta ti Bng Lau?",options:["Tu vn ti","on c gii ng b","Sn bay","Kho n"],answerIndex:1,explanation:"on c gii."},{id:"q-vb-1110-1",subEventId:"evt-1947-1110",eventId:en,eraId:"french",prompt:"Cc trn sng L  nh vo lc lng no ca ch?",media:{type:"video",platform:"youtube",src:"UpWV7k_gak4",alt:"T liu chin s trn sng L 1947",caption:"on phim c ghi cnh ha lc b sng truy kch on tu Php.",credit:"Trung tm Phim t liu Vit Nam",poster:"https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=960&h=540&fit=crop"},options:["B binh hnh qun rng ni","Thy i xung kch","Khng qun","Bit kch"],answerIndex:1,explanation:"Ch yu thy i/on tu."},{id:"q-vb-1110-2",subEventId:"evt-1947-1110",eventId:en,eraId:"french",prompt:"Mc tiu chin thut  sng L l?",options:["M ng tin cng H Ni","Ct tip t mi ty","Tng vin cho Hu"," b  Nng"],answerIndex:1,explanation:"Ct tip t mi ty."},{id:"q-vb-1121-1",subEventId:"evt-1947-1121",eventId:en,eraId:"french",prompt:"Ngy no ch bt u rt khi Vit Bc?",options:["21/11/1947","30/11/1947","15/12/1947","20/12/1947"],answerIndex:0,explanation:"21/11/1947."},{id:"q-vb-1121-2",subEventId:"evt-1947-1121",eventId:en,eraId:"french",prompt:"Ta p dng th trn g khi ch rt?",options:["Cng kin","nh bin","Chn  phc kch nhiu hng","Khng chin"],answerIndex:2,explanation:"Chn v phc kch."},{id:"q-vb-1130-1",subEventId:"evt-1947-1130",eventId:en,eraId:"french",prompt:"Ngy 30/11/1947 ta tp kch n no?",options:["Ph Thng","Bc Kn","Ch Mi","Na Sn"],answerIndex:0,explanation:"n Ph Thng."},{id:"q-vb-1215-1",subEventId:"evt-1947-1215",eventId:en,eraId:"french",prompt:"o Ging thuc nhm hot ng no?",options:["Tng vin ng bin","Phi hp phc kch trn tuyn rt","Khng kch mc tiu chin lc","Cng kin  th"],answerIndex:1,explanation:"Chui phc kch phi hp."},{id:"q-vb-1220-1",subEventId:"evt-1947-1220",eventId:en,eraId:"french",prompt:"Chin dch kt thc vo ngy?",media:{type:"image",src:"https://images.unsplash.com/photo-1489515217757-5fd1be406fef?w=960&h=540&fit=crop",alt:"Chin s Vit Minh trong rng Vit Bc",caption:"Lc lng ch lc rt kinh nghim v cng c th trn sau chin dch.",credit:"Unsplash  minh ha"},options:["07/10/1947","20/12/1947","30/04/1975","07/05/1954"],answerIndex:1,explanation:"20/12/1947."},{id:"q-vb-1220-2",subEventId:"evt-1947-1220",eventId:en,eraId:"french",prompt:" ngha ln nht ca chin thng Vit Bc 1947?",options:["M ng ra Bc Kinh","Bo v c quan u no & ph sn nh nhanh, thng nhanh","Gii phng ton b ng bng","Ti chim Si Gn"],answerIndex:1,explanation:"Bo v u no, lm hng k hoch chin lc."},{id:"q-tet-0130-1",subEventId:"evt-1968-0130",eventId:Xr,eraId:"american",prompt:"t tin cng n ra vo thi im no?",options:["Rm thng Ging","m Giao tha Tt Mu Thn","Quc khnh","Gia nm"],answerIndex:1,explanation:"m Giao tha 1968."},{id:"q-tet-0130-2",subEventId:"evt-1968-0130",eventId:Xr,eraId:"american",prompt:"c im ni bt ca m mn?",options:["nh n l","ng lot nhiu  th/cn c","Ch nh rng ni"," b ng bin"],answerIndex:1,explanation:"ng lot quy m ln."},{id:"q-tet-0131sg-1",subEventId:"evt-1968-0131-sg",eventId:Xr,eraId:"american",prompt:"Trn nh gy chn ng truyn thng din ra  u?",options:["Ta i s M ti Si Gn","Ch Bn Thnh","Dinh Thng Nht","Tn Sn Nht"],answerIndex:0,explanation:"Ta i s M."},{id:"q-tet-0131sg-2",subEventId:"evt-1968-0131-sg",eventId:Xr,eraId:"american",prompt:"Tc ng chnh ca trn ny l?",options:["Chin thng chin thut ln","Tc ng tm l  chnh tr mnh ti M","Ginh quyn kim sot lu di","Ct t tip t ng bin"],answerIndex:1,explanation:"Hiu ng truyn thng  chnh tr."},{id:"q-tet-0131hue-1",subEventId:"evt-1968-0131-hue",eventId:Xr,eraId:"american",prompt:"a bn giao tranh ko di nht trong t Tt l?",options:[" Nng","Hu","Cn Th","Nha Trang"],answerIndex:1,explanation:"Hu."},{id:"q-tet-0131hue-2",subEventId:"evt-1968-0131-hue",eventId:Xr,eraId:"american",prompt:"Tnh cht ni bt ca chin s ti Hu?",options:["Chin tranh du kch rng su"," th c lit ko di","Khng chin ngoi khi"," b ng bin"],answerIndex:1,explanation:" th c lit, ko di."},{id:"q-tet-0210-1",subEventId:"evt-1968-0210",eventId:Xr,eraId:"american",prompt:"Sau m mn, pha M/VNCH lm g?",options:["Rt khi  th","Phn cng mnh ginh li mc tiu","Tm ngng chin s","Chuyn ra Bc"],answerIndex:1,explanation:"T chc phn cng."},{id:"q-tet-0302-1",subEventId:"evt-1968-0302",eventId:Xr,eraId:"american",prompt:"Ngy no c bn kt thc giao tranh ti Hu?",options:["03/31","02/10","03/02","01/31"],answerIndex:2,explanation:"Khong 2/3/1968."},{id:"q-tet-0331-1",subEventId:"evt-1968-0331",eventId:Xr,eraId:"american",prompt:"S kin chnh tr ni bt 31/3/1968 ti M?",options:["Tng thng Johnson tuyn b khng ti tranh c","H vin M tuyn chin","Bu c tng thng","Tng qun  t"],answerIndex:0,explanation:"Tuyn b ca Tng thng Johnson."}];async function d8(t){return u8.filter(e=>e.eventId===t)}function h8({event:t}){var l,c,u,d,f,h,m;const e=t.meta,n=t.sources.filter(x=>x.type==="primary"),r=t.sources.filter(x=>x.type==="secondary"),s=((u=(c=(l=t.media)==null?void 0:l.images)==null?void 0:c[0])==null?void 0:u.src)||t.heroImage,i=((f=(d=t.media)==null?void 0:d.images)==null?void 0:f.slice(1,3))??[],o=(m=(h=t.media)==null?void 0:h.videos)==null?void 0:m[0];return a.jsxs("aside",{className:"lg:sticky lg:top-24 space-y-6",children:[a.jsxs("section",{className:"relative overflow-hidden rounded-3xl border border-amber-900/20 bg-amber-50 shadow-lg",children:[s&&a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("img",{src:s,alt:t.headline,className:"h-full w-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-950/70 via-amber-900/50 to-amber-700/40"})]}),a.jsxs("div",{className:"relative z-10 p-6 text-white",children:[a.jsx("p",{className:"text-[11px] uppercase tracking-[0.5em] text-amber-100",children:"H s nghin cu"}),a.jsx("h2",{className:"mt-3 text-2xl font-serif leading-snug",children:t.headline}),t.summary&&a.jsx("p",{className:"mt-3 text-sm leading-relaxed text-amber-100/90",children:t.summary}),a.jsxs("div",{className:"mt-5 grid gap-3 text-xs text-amber-100/90",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(f2,{size:14}),a.jsx("span",{children:t.date||"ang b sung"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zs,{size:14}),a.jsx("span",{children:t.location||"Khng r a im"})]})]})]}),e&&a.jsxs("div",{className:"relative z-10 border-t border-white/20 bg-amber-900/70 px-6 py-5 text-xs text-amber-100/90",children:[a.jsx("p",{className:"font-semibold uppercase tracking-[0.4em] text-amber-200",children:"Ghi ch hc thut"}),a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Revision:"})," ",e.revision]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Cp nht:"})," ",new Date(e.updatedAt).toLocaleDateString("vi-VN")]}),e.methodology&&a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Phng php:"})," ",e.methodology]}),e.notes&&a.jsx("p",{className:"italic text-amber-100/80",children:e.notes})]})]})]}),o&&a.jsxs("section",{className:"rounded-3xl border border-amber-900/20 bg-white shadow-sm",children:[a.jsxs("div",{className:"border-b border-amber-900/15 px-5 py-4",children:[a.jsxs("p",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-widest text-amber-800",children:[a.jsx(YN,{size:16})," Phim t liu"]}),a.jsx("h3",{className:"mt-2 text-base font-serif text-amber-900",children:o.title})]}),a.jsx("div",{className:"aspect-video w-full overflow-hidden border-b border-amber-900/15",children:o.platform==="youtube"&&o.id?a.jsx("iframe",{title:o.title,src:`https://www.youtube.com/embed/${o.id}`,className:"h-full w-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):o.src?a.jsx("video",{controls:!0,className:"h-full w-full object-cover",children:a.jsx("source",{src:o.src})}):null}),o.platform==="youtube"&&o.id&&a.jsxs("a",{href:`https://www.youtube.com/watch?v=${o.id}`,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between px-5 py-3 text-xs font-semibold text-amber-700 hover:text-amber-900",children:["M trn YouTube",a.jsx("span",{"aria-hidden":!0,children:""})]})]}),i.length>0&&a.jsxs("section",{className:"rounded-3xl border border-amber-900/15 bg-white p-5 shadow-sm",children:[a.jsxs("p",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-widest text-amber-900",children:[a.jsx(BN,{size:16})," T liu hnh nh"]}),a.jsx("div",{className:"mt-4 grid grid-cols-2 gap-3",children:i.map(x=>a.jsxs("figure",{className:"overflow-hidden rounded-xl border border-amber-900/10",children:[a.jsx("img",{src:x.src,alt:x.title||x.caption,className:"h-28 w-full object-cover"}),(x.title||x.caption)&&a.jsx("figcaption",{className:"px-2 py-1 text-[11px] text-amber-700 line-clamp-2",children:x.title||x.caption})]},x.src))})]}),n.length>0&&a.jsxs("section",{className:"rounded-3xl border border-amber-900/15 bg-white p-5 shadow-sm",children:[a.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-widest text-amber-900",children:"Ngun s cp"}),a.jsx("ul",{className:"space-y-3 text-xs text-amber-800",children:n.map(x=>a.jsxs("li",{className:"rounded-xl border border-amber-900/10 bg-amber-50/40 p-3",children:[a.jsx("p",{className:"font-semibold",children:x.title}),x.author&&a.jsxs("p",{children:["Tc gi: ",x.author]}),x.year&&a.jsxs("p",{children:["Nm: ",x.year]}),x.url&&a.jsx("a",{href:x.url,target:"_blank",rel:"noreferrer",className:"inline-block mt-1 text-amber-600 underline",children:"M ngun"})]},x.id))})]}),r.length>0&&a.jsxs("section",{className:"rounded-3xl border border-amber-900/15 bg-white p-5 shadow-sm",children:[a.jsx("h3",{className:"mb-3 text-sm font-semibold uppercase tracking-widest text-amber-900",children:"Ngun th cp"}),a.jsx("ul",{className:"space-y-3 text-xs text-amber-800",children:r.map(x=>a.jsxs("li",{className:"rounded-xl border border-amber-900/10 bg-amber-50/20 p-3",children:[a.jsx("p",{className:"font-semibold",children:x.title}),x.author&&a.jsxs("p",{children:["Tc gi: ",x.author]}),x.year&&a.jsxs("p",{children:["Nm: ",x.year]}),x.citation&&a.jsx("p",{className:"italic mt-1",children:x.citation})]},x.id))})]})]})}function f8({canLaunch:t,onLaunch:e,attempts:n,purchasedAttempts:r=0,bestScore:s,bestStars:i}){return a.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-brand-blue/20 bg-gradient-to-br from-[#fde2f7] via-white to-[#efe8ff] p-6 shadow-2xl",children:[a.jsx("div",{className:"pointer-events-none absolute -top-28 -right-20 h-48 w-48 rounded-full bg-brand-blue/20 blur-3xl","aria-hidden":!0}),a.jsx("div",{className:"pointer-events-none absolute -bottom-24 -left-10 h-44 w-44 rounded-full bg-amber-400/30 blur-3xl","aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-5",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("span",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.35em] text-brand-blue/80",children:["Quiz time",a.jsx("span",{"aria-hidden":!0,className:"text-brand-blue",children:""})]}),a.jsx("h3",{className:"text-2xl font-serif text-brand-text",children:"Th thch kin thc lch s"}),a.jsx("p",{className:"max-w-2xl text-sm text-brand-text/80",children:"c  h s  m kha b cu hi tng tc. Mi cu c thi gian gii hn, c th km hnh nh hoc video  bn phn tch nhanh."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 text-xs font-semibold uppercase tracking-widest text-brand-blue/70",children:[a.jsxs("span",{className:"rounded-full bg-white/70 px-4 py-1 text-brand-blue",children:["Lt  xi: ",n]}),r>0&&a.jsxs("span",{className:"rounded-full bg-white/70 px-4 py-1 text-emerald-600",children:[" mua thm: ",r]}),typeof s=="number"&&a.jsxs("span",{className:"rounded-full bg-white/70 px-4 py-1 text-brand-text",children:["im cao nht: ",s,"%"]}),typeof i=="number"&&i>0&&a.jsxs("span",{className:"rounded-full bg-white/70 px-4 py-1 text-amber-600",children:["Ti a: ",i," "]})]}),!t&&a.jsxs("div",{className:"relative overflow-hidden rounded-[28px] bg-gradient-to-br from-[#f977ce] via-[#ff9bbd] to-[#fdd9ff] p-6 text-white shadow-xl",children:[a.jsx("div",{className:"pointer-events-none absolute -top-16 -left-20 h-40 w-40 rounded-full bg-white/20 blur-3xl","aria-hidden":!0}),a.jsx("div",{className:"pointer-events-none absolute -bottom-12 -right-12 h-32 w-32 rounded-full bg-white/20 blur-2xl","aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"rounded-full bg-white/30 px-4 py-1 text-xs font-semibold uppercase tracking-[0.35em]",children:"Quiz Time"}),a.jsx("span",{"aria-hidden":!0,className:"text-lg",children:""})]}),a.jsxs("div",{className:"rounded-3xl bg-white/25 p-5 backdrop-blur-sm",children:[a.jsx("p",{className:"text-lg font-semibold leading-relaxed",children:"Quc gia no c gi l t nc Mt Tri mc?"}),a.jsx("div",{className:"mt-4 grid gap-3 text-sm",children:["Trung Quc","Nht Bn","Hn Quc","Thi Lan"].map((o,l)=>a.jsxs("div",{className:`flex items-center gap-3 rounded-2xl border border-white/20 px-4 py-3 ${l===1?"bg-white text-brand-text shadow-lg":"bg-white/10"}`,children:[a.jsx("span",{className:`flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full text-xs font-bold uppercase ${l===1?"bg-brand-blue text-white":"bg-white/30 text-white"}`,children:String.fromCharCode(97+l)}),a.jsx("span",{className:`text-sm font-medium ${l===1?"text-brand-text":"text-white"}`,children:o})]},o))})]}),a.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-white/75",children:"c 80% h s  m kha quiz chnh thc"})]})]}),a.jsx("button",{type:"button",onClick:e,disabled:!t,className:"self-start rounded-full bg-brand-blue px-6 py-3 text-sm font-semibold uppercase tracking-wide text-white shadow-lg transition-all duration-200 enabled:hover:-translate-y-0.5 enabled:hover:bg-brand-blue/90 disabled:cursor-not-allowed disabled:bg-brand-blue/40","aria-disabled":!t,children:t?"Bt u Quiz ngay":"c 80% ni dung  m kha"})]})]})}function p8({durationMs:t,autoStart:e=!1,onTick:n,onComplete:r}){const[s,i]=S.useState(t),[o,l]=S.useState(e),c=S.useRef(null),u=S.useRef(null),d=S.useRef(0),f=S.useCallback(v=>{u.current||(u.current=v);const w=v-(u.current+d.current),b=Math.max(0,t-w);if(i(b),n==null||n(b),b===0){l(!1),r==null||r();return}c.current=window.requestAnimationFrame(f)},[t,n,r]);S.useEffect(()=>{if(!o){c.current&&(window.cancelAnimationFrame(c.current),c.current=null),d.current=0,u.current=null;return}return c.current=window.requestAnimationFrame(f),()=>{c.current&&(window.cancelAnimationFrame(c.current),c.current=null)}},[o,f]);const h=S.useCallback(()=>{l(!0),u.current=null,d.current=0},[]),m=S.useCallback(()=>{o&&(l(!1),d.current+=window.performance.now()-(u.current??0))},[o]),x=S.useCallback(v=>{i(typeof v=="number"?v:t),l(!1),u.current=null,d.current=0},[t]);return S.useEffect(()=>{i(t),l(e)},[t,e]),{timeLeft:s,isActive:o,start:h,pause:m,reset:x}}const B1=25e3;function D1(t){const e=Math.max(0,Math.floor(t/1e3)),n=Math.floor(e/60).toString().padStart(2,"0"),r=(e%60).toString().padStart(2,"0");return`${n}:${r}`}function m8({questions:t,attemptNumber:e,onClose:n,onComplete:r}){var T;const s=S.useRef(null),i=S.useRef(null),[o,l]=S.useState(0),[c,u]=S.useState(()=>t.map(N=>({questionId:N.id,selectedIndex:null,correctIndex:N.answerIndex,isCorrect:!1,explanation:N.explanation??""}))),[d,f]=S.useState(!1),[h,m]=S.useState(""),x=S.useRef(new Date().toISOString()),v=S.useMemo(()=>t.length?t.reduce((N,B)=>N+(B.timePerQuestion??B1),0):B1,[t]),{timeLeft:w,reset:b,start:p}=p8({durationMs:v,autoStart:!0,onTick:N=>{const B=D1(N);m(`Cn ${B}`)},onComplete:()=>{C(!0)}});S.useEffect(()=>{var A;const N=document.activeElement;(A=i.current)==null||A.focus();const B=D=>{if(D.key==="Escape"&&(D.preventDefault(),n()),D.key==="Tab"){const H=s.current;if(!H)return;const q=Array.from(H.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(I=>!I.hasAttribute("disabled"));if(!q.length)return;const W=q[0],G=q[q.length-1];D.shiftKey&&document.activeElement===W?(D.preventDefault(),G.focus()):!D.shiftKey&&document.activeElement===G&&(D.preventDefault(),W.focus())}};return document.addEventListener("keydown",B),()=>{document.removeEventListener("keydown",B),N==null||N.focus()}},[n]),S.useEffect(()=>{b(v),p()},[b,v,p]);const g=t[o],y=Math.round((o+1)/t.length*100),_="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),j=N=>{if(!g)return;const B=c[o];if(B.selectedIndex!==null)return;const A=N===g.answerIndex,D=c.slice();D[o]={...B,selectedIndex:N,isCorrect:A},u(D),A?setTimeout(()=>k(),800):f(!0)},k=()=>{if(o>=t.length-1){C(!1);return}f(!1),l(N=>N+1)};function C(N){const B=N?c.map(H=>({...H,selectedIndex:H.selectedIndex,isCorrect:H.selectedIndex===null?!1:H.isCorrect})):c,A=B.filter(H=>H.isCorrect).length,D=B.length;b(),r({correct:A,total:D,answers:B,durationMs:v-w,startedAt:x.current})}return t.length?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-brand-text/70 backdrop-blur-sm px-4 py-6",role:"dialog","aria-modal":"true","aria-labelledby":"quiz-dialog-title",children:[a.jsx("div",{className:"sr-only","aria-live":"polite",children:h}),a.jsxs("div",{ref:s,className:"relative w-full max-w-4xl overflow-hidden rounded-[32px] border border-white/40 bg-gradient-to-br from-[#ffe6f0] via-white to-[#efeaff] shadow-[0_30px_60px_-25px_rgba(90,70,140,0.35)]",children:[a.jsx("div",{className:"pointer-events-none absolute -top-16 -right-10 h-40 w-40 rounded-full bg-brand-blue/20 blur-3xl","aria-hidden":!0}),a.jsx("div",{className:"pointer-events-none absolute -bottom-24 -left-16 h-52 w-52 rounded-full bg-amber-400/25 blur-3xl","aria-hidden":!0}),a.jsxs("header",{className:"relative z-10 flex flex-col gap-4 border-b border-white/40 px-8 pt-8 pb-6",children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.45em] text-brand-blue",children:["Quiz ln ",e,a.jsx("span",{"aria-hidden":!0,children:""})]}),a.jsx("h2",{id:"quiz-dialog-title",className:"mt-2 text-3xl font-serif text-brand-text",children:"Quiz Time!"}),a.jsxs("p",{className:"mt-1 text-sm text-brand-text/70","aria-live":"polite",children:["Cu ",o+1,"/",t.length]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("div",{className:"rounded-full bg-white/80 px-5 py-2 text-sm font-semibold text-brand-blue","aria-live":"polite",children:[" ",D1(w)]}),a.jsx("button",{ref:i,type:"button",onClick:n,className:"rounded-full border border-brand-blue/40 bg-white/80 px-5 py-2 text-sm font-semibold text-brand-blue transition hover:bg-brand-blue/10",children:"Thot"})]})]}),a.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-white/40",children:a.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-brand-blue via-purple-500 to-pink-500 transition-all",style:{width:`${y}%`},"aria-hidden":!0})})]}),a.jsxs("section",{className:"relative z-10 grid gap-8 px-8 pb-10 pt-6 lg:grid-cols-[minmax(0,1.5fr),minmax(0,1fr)]",children:[a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{className:"rounded-3xl bg-white/80 p-6 shadow-[0_15px_40px_-30px_rgba(90,70,140,0.5)]",children:a.jsx("h3",{className:"text-xl font-semibold text-brand-text leading-relaxed",children:g.prompt})}),a.jsx("div",{className:"grid gap-4",children:g.options.map((N,B)=>{const A=c[o],D=A.selectedIndex===B,H=A.correctIndex===B,q=A.selectedIndex!==null?H?"correct":D?"incorrect":"idle":"idle",W=_[B]??"?",G="relative flex items-center gap-4 rounded-3xl border-2 px-5 py-4 text-left text-base font-medium shadow-sm transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-brand-blue disabled:cursor-not-allowed",I=q==="correct"?"border-green-500/60 bg-gradient-to-r from-green-100 via-white to-green-50 text-green-700":q==="incorrect"?"border-rose-500/60 bg-gradient-to-r from-rose-100 via-white to-rose-50 text-rose-700":"border-transparent bg-white/85 text-brand-text hover:-translate-y-0.5 hover:border-brand-blue/40";return a.jsxs("button",{type:"button",onClick:()=>j(B),disabled:A.selectedIndex!==null,className:`${G} ${I}`,"aria-pressed":D,"aria-disabled":A.selectedIndex!==null,children:[a.jsx("span",{className:`flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-2xl text-sm font-bold uppercase shadow-inner ${q==="correct"?"bg-green-600 text-white":q==="incorrect"?"bg-rose-600 text-white":"bg-brand-blue/10 text-brand-blue"}`,children:W}),a.jsx("span",{className:"flex-1 text-sm leading-relaxed",children:N}),q==="correct"&&a.jsx("span",{className:"text-sm font-semibold text-green-600","aria-hidden":!0,children:""})]},B)})}),d&&a.jsxs("div",{className:"rounded-3xl border border-amber-500/40 bg-amber-100/70 p-5 text-sm text-amber-800","aria-live":"polite",children:[a.jsx("p",{className:"font-semibold uppercase tracking-widest",children:"p n ng"}),a.jsx("p",{className:"mt-1 text-base text-brand-text",children:g.options[g.answerIndex]}),g.explanation&&a.jsx("p",{className:"mt-3 leading-relaxed text-brand-text/80",children:g.explanation}),a.jsxs("button",{type:"button",onClick:k,className:"mt-4 inline-flex items-center gap-2 rounded-full bg-brand-blue px-5 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-blue/90",children:["Tip tc",a.jsx("span",{"aria-hidden":!0,children:""})]})]})]}),a.jsx("aside",{className:"space-y-4",children:g.media?a.jsxs("div",{className:"overflow-hidden rounded-3xl border border-white/50 bg-white/70 shadow-[0_20px_40px_-30px_rgba(90,70,140,0.6)]",children:[g.media.type==="image"?a.jsxs("figure",{className:"flex flex-col",children:[a.jsx("img",{src:g.media.src,alt:g.media.alt,className:"h-56 w-full object-cover"}),(g.media.caption||g.media.credit)&&a.jsxs("figcaption",{className:"space-y-1 px-4 py-3 text-xs text-brand-text/70",children:[g.media.caption&&a.jsx("p",{children:g.media.caption}),g.media.credit&&a.jsx("p",{className:"text-[11px] uppercase tracking-[0.25em] text-brand-blue/70",children:g.media.credit})]})]}):g.media.platform==="youtube"?a.jsx("div",{className:"relative h-0 w-full overflow-hidden pb-[56.25%]",children:a.jsx("iframe",{title:g.media.alt,src:`https://www.youtube.com/embed/${g.media.src}`,className:"absolute inset-0 h-full w-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):a.jsx("video",{controls:!0,poster:g.media.poster,className:"h-56 w-full object-cover",children:a.jsx("source",{src:g.media.src})}),((T=g.media)==null?void 0:T.type)==="video"&&g.media.caption&&a.jsxs("div",{className:"border-t border-white/40 px-4 py-3 text-xs text-brand-text/70",children:[a.jsx("p",{children:g.media.caption}),g.media.credit&&a.jsx("p",{className:"mt-1 text-[11px] uppercase tracking-[0.25em] text-brand-blue/70",children:g.media.credit})]})]}):a.jsxs("div",{className:"flex h-full flex-col justify-between rounded-3xl border border-white/40 bg-white/70 p-6 text-sm text-brand-text/70 shadow-inner",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.45em] text-brand-blue",children:"Gi "}),a.jsx("p",{className:"mt-3 leading-relaxed",children:"Mt s cu hi i km hnh nh, bn  hoc video t liu. Hy ch  chi tit th gic trc khi chn p n."})]}),a.jsx("p",{className:"mt-6 text-xs uppercase tracking-[0.3em] text-brand-blue/80",children:"Thi gian ang m..."})]})})]})]})]}):a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-brand-text/60 px-4",role:"dialog","aria-modal":"true",children:a.jsxs("div",{className:"w-full max-w-lg rounded-2xl border border-brand-blue bg-white p-6 text-center shadow-xl",children:[a.jsx("p",{className:"text-lg font-semibold text-brand-text",children:"Cha c ngn hng cu hi cho mc ny."}),a.jsx("button",{type:"button",onClick:n,className:"mt-4 rounded-full bg-brand-blue px-5 py-2 text-sm font-semibold text-white",children:"ng"})]})})}const F1={0:"Bn c th luyn tp thm  t c sao.",3:"Khi u tt! Tip tc luyn tp  tng s sao.",6:"Tuyt vi! Bn  nm chc kin thc.",8:"Xut sc! Th thch bn thn  mc cao hn.",12:"Hon ho! Bn  tr li chnh xc ton b cu hi."};function x8({score:t,stars:e,correct:n,total:r,attemptNumber:s,onRetry:i,onReview:o,onClose:l,nextCta:c}){return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-brand-text/70 backdrop-blur-sm px-4",role:"dialog","aria-modal":"true","aria-labelledby":"quiz-result-title",children:a.jsxs("div",{className:"relative w-full max-w-3xl overflow-hidden rounded-[32px] border border-white/40 bg-gradient-to-br from-[#fff1f5] via-white to-[#efeaff] p-10 text-center shadow-[0_30px_60px_-25px_rgba(90,70,140,0.4)]",children:[a.jsx("div",{className:"pointer-events-none absolute -top-24 -right-16 h-48 w-48 rounded-full bg-brand-blue/30 blur-3xl","aria-hidden":!0}),a.jsx("div",{className:"pointer-events-none absolute -bottom-28 -left-14 h-52 w-52 rounded-full bg-amber-300/30 blur-3xl","aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-4",children:[a.jsxs("p",{className:"text-xs font-semibold uppercase tracking-[0.45em] text-brand-blue",children:["Ln ",s]}),a.jsx("h2",{id:"quiz-result-title",className:"text-4xl font-serif text-brand-text",children:"Kt qu Quiz"}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center justify-center gap-4 text-base font-semibold",children:[a.jsxs("span",{className:"rounded-full bg-white/80 px-5 py-2 text-brand-blue shadow-sm",children:["im ",t,"%"]}),a.jsxs("span",{className:"rounded-full bg-gradient-to-r from-amber-400 via-amber-300 to-amber-500 px-5 py-2 text-white shadow-sm","aria-label":`Bn nhn ${e} sao`,children:[e," "]}),a.jsxs("span",{className:"rounded-full bg-white/80 px-5 py-2 text-brand-text shadow-sm",children:[n,"/",r," cu ng"]})]}),a.jsx("p",{className:"mt-4 max-w-xl text-base leading-relaxed text-brand-text/80",children:F1[e]??F1[0]})]}),a.jsxs("div",{className:"relative z-10 mt-8 flex flex-wrap justify-center gap-4",children:[a.jsx("button",{type:"button",onClick:i,className:"rounded-full border border-brand-blue/40 bg-white/80 px-6 py-2 text-sm font-semibold uppercase tracking-wide text-brand-blue transition hover:bg-brand-blue/10",children:"Lm li"}),a.jsx("button",{type:"button",onClick:o,className:"rounded-full bg-brand-blue px-6 py-2 text-sm font-semibold uppercase tracking-wide text-white shadow-lg transition hover:bg-brand-blue/90",children:"Xem gii thch"}),c&&a.jsx("button",{type:"button",onClick:c,className:"rounded-full bg-emerald-600 px-6 py-2 text-sm font-semibold uppercase tracking-wide text-white shadow-lg transition hover:bg-emerald-700",children:"Giai on tip theo"}),a.jsx("button",{type:"button",onClick:l,className:"rounded-full bg-brand-text px-6 py-2 text-sm font-semibold uppercase tracking-wide text-white shadow-lg transition hover:bg-brand-text/80",children:"ng"})]})]})})}function g8(t,e=Math.random){const n=[...t];for(let r=n.length-1;r>0;r-=1){const s=Math.floor(e()*(r+1));[n[r],n[s]]=[n[s],n[r]]}return n}function v8(t,e=6){if(!t.length)return[];const n=Math.max(5,Math.min(10,e,t.length));return g8(t).slice(0,n)}function b8(t,e){return e<=1?t<70?0:t<80?3:t<90?6:t<100?8:12:t<90?0:t<100?8:12}function y8(t,e,n){const r=Math.max(e,1),s=Math.round(t/r*100),i=b8(s,n),o=n===1?s>=70:s>=90;return{score:s,stars:i,passed:o}}const __="history_progress:",Wl="digital_purchase_pending",Cp=new Map;function k_(){if(typeof window>"u")return null;try{return window.localStorage}catch{return null}}function j_(t){const e=k_();return e?e.getItem(t):Cp.get(t)??null}function Gl(t,e){const n=k_();if(n){e===null?n.removeItem(t):n.setItem(t,e);return}e===null?Cp.delete(t):Cp.set(t,e)}function r0(t){return{eventId:t,readRatio:0,attempts:[],failedAttempts:0,extraAttempts:0,lockedUntil:null}}function lc(t,e){const n=`${__}${t}:${e}`,r=j_(n);if(!r)return r0(e);try{const s=JSON.parse(r);return{...r0(e),...s,eventId:e}}catch(s){return console.warn("Khng th parse history progress",s),r0(e)}}function Yd(t,e){const n=`${__}${t}:${e.eventId}`;Gl(n,JSON.stringify(e))}function s0(t,e,n){const r=lc(t,e),s={...r,...n,eventId:e,readRatio:Math.max(r.readRatio,n.readRatio??r.readRatio)};return s.readRatio>=.8&&!s.completedAt&&(s.completedAt=n.completedAt??new Date().toISOString()),Yd(t,s),s}function w8(t,e,n){const r=lc(t,e),s=[...r.attempts,n],i=Math.max(r.bestScore??0,n.score),o=Math.max(r.bestStars??0,n.stars),l={...r,attempts:s,bestScore:i,bestStars:o,lastAttemptAt:n.attemptedAt};return Yd(t,l),l}function _8(t,e,n){const r=lc(t,e),s={...r,extraAttempts:(r.extraAttempts||0)+n,lockedUntil:null};return Yd(t,s),s}function k8(t,e,n){const r=lc(t,e),s={...r,lockedUntil:n,extraAttempts:n?0:r.extraAttempts,failedAttempts:n?0:r.failedAttempts};return Yd(t,s),s}function j8(t){if(t===null){Gl(Wl,null);return}Gl(Wl,JSON.stringify(t))}function Sp(){const t=j_(Wl);if(!t)return null;try{return JSON.parse(t)}catch(e){return console.warn("Khng th c pending digital purchase",e),Gl(Wl,null),null}}function N8(t){const e=Sp();return!e||e.planId!==t?null:(Gl(Wl,null),e)}const C8="https://images.unsplash.com/photo-1527689368864-3a821dbccc34?w=1600&h=900&fit=crop",S8=70;function E8(){var qe,ze,Ve,me,_e,$e,Qe,L,Ye;const t=gt(),e=Rn(),r=new URLSearchParams(e.search).get("id")??void 0,s=(qe=e.state)==null?void 0:qe.event,i=(ze=s==null?void 0:s.sections)!=null&&ze.length?s:c8((s==null?void 0:s.id)??r),o=(Ve=e.state)==null?void 0:Ve.phase,l=gd(),[c,u]=S.useState(0),[d,f]=S.useState({}),[h,m]=S.useState(0),[x,v]=S.useState(null),[w,b]=S.useState([]),[p,g]=S.useState(!1),[y,_]=S.useState(1),[j,k]=S.useState(null),[C,T]=S.useState(null),N=S.useRef(0),[B,A]=S.useState(0),[D,H]=S.useState(!1),q=S.useCallback($=>{if(!$||typeof window>"u"){H(!1),A(0);return}H(!0);const oe=window.innerWidth,he=Math.min(Math.max(oe*.3,320),400),be=oe<640?64:oe<1024?112:128,Pe=he+24,F=Math.max(Pe,be),V=Math.max(be,oe-56),Q=Math.min(F,V),X=Math.max(0,Q-be);A(X)},[]);S.useEffect(()=>{if(typeof window>"u")return;const $=oe=>{var be;q(!!((be=oe.detail)!=null&&be.isOpen))};return window.addEventListener("sidebar:toggle",$),()=>window.removeEventListener("sidebar:toggle",$)},[q]),S.useEffect(()=>{if(!D||typeof window>"u")return;const $=()=>q(!0);return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[D,q]);const W=(i==null?void 0:i.heroImage)||(($e=(_e=(me=i==null?void 0:i.media)==null?void 0:me.images)==null?void 0:_e[0])==null?void 0:$e.src)||C8,G=S.useMemo(()=>(i==null?void 0:i.sections.filter($=>$.kind==="timeline"))??[],[i]),I=S.useMemo(()=>i?[{id:"context",title:"Bi cnh nn",tone:"context",sections:i.sections.filter($=>$.kind==="context")},{id:"analysis",title:"Gii thut s kin",tone:"analysis",sections:i.sections.filter($=>$.kind==="analysis")},{id:"impact",title:"nh hng v di sn",tone:"impact",sections:i.sections.filter($=>$.kind==="impact")},{id:"appendix",title:"Ph lc & ti liu b sung",tone:"appendix",sections:i.sections.filter($=>$.kind==="appendix")}].filter($=>$.sections.length>0):[],[i]),K=S.useMemo(()=>(i==null?void 0:i.sources.filter($=>$.type==="primary").length)??0,[i]),E=S.useMemo(()=>(i==null?void 0:i.sources.filter($=>$.type==="secondary").length)??0,[i]);S.useEffect(()=>{if(!l||!(i!=null&&i.id)){v(null),N.current=0;return}const $=lc(l.id,i.id);v($),N.current=$.readRatio??0},[l==null?void 0:l.id,i==null?void 0:i.id]),S.useEffect(()=>{if(!i)return;const $={};i.sections.forEach(oe=>{oe.kind==="context"&&($[oe.id]=!0)}),f($),m(0)},[i]),S.useEffect(()=>{if(!i)return;const $=()=>{const oe=window.innerHeight,he=document.documentElement.scrollHeight,be=window.scrollY,Pe=he-oe,F=Pe>0?be/Pe*100:0;if(u(F),l&&i.id){const V=Math.max(0,Math.min(1,F/100));if(Math.abs(V-N.current)>=.01){const Q=s0(l.id,i.id,{readRatio:V});N.current=Q.readRatio??V,v(Q)}}};return window.addEventListener("scroll",$,{passive:!0}),$(),()=>window.removeEventListener("scroll",$)},[i,l]);const O=$=>{f(oe=>({...oe,[$]:!oe[$]}))};if(S.useEffect(()=>{if(!l){const $=`${e.pathname}${e.search}`||"/event/detail";typeof window<"u"&&(window.sessionStorage.setItem("afterLogin",JSON.stringify({page:$.replace(/^\//,"")})),window.sessionStorage.setItem("lastVisitedPath",$)),t("/login",{replace:!0,state:{from:$}})}},[l,t,e.pathname,e.search]),!l)return null;if(!i)return a.jsx("div",{className:"min-h-screen bg-[#f6f1e6] flex items-center justify-center px-6",children:a.jsxs("div",{className:"max-w-md rounded-3xl border border-amber-900/20 bg-white/80 p-8 text-center shadow-lg",children:[a.jsx("p",{className:"text-sm text-amber-900/80 mb-4",children:"Khng tm thy h s s kin. Vui lng quay li th vin lch s."}),a.jsx("button",{onClick:()=>t("/history"),className:"px-5 py-2 rounded-full bg-amber-700 text-white text-sm font-semibold shadow hover:bg-amber-800 transition",children:"Quay li"})]})});const M=x!=null&&x.lockedUntil?new Date(x.lockedUntil):null,U=M?M.getTime()>Date.now():!1,z=Math.round(((x==null?void 0:x.readRatio)??0)*100),de=!U&&((x==null?void 0:x.readRatio)??0)>=.8,se=S.useCallback(()=>{t("/history",{replace:!0})},[t]),ve=async()=>{if(!l||!(i!=null&&i.id)){t("/login",{state:{redirectTo:e.pathname+e.search}});return}if(U&&M){window.alert(`Quiz  b kha n ${M.toLocaleString()}.`);return}if(!de){window.alert("Hy c ti thiu 80% ni dung  m kha quiz.");return}try{const $=((x==null?void 0:x.attempts.length)??0)+1;_($);const oe=await d8(i.id);if(!oe.length){window.alert("Cha c ngn hng cu hi cho mc lch s ny.");return}const he=Math.min(oe.length,5+Math.floor(Math.random()*6)),be=v8(oe,he);b(be),k(null),T(null),g(!0)}catch($){console.error("Khng th ti quiz cho s kin",$),window.alert("Khng th ti quiz cho s kin ny. Vui lng th li sau.")}},ee=$=>{if(!l||!(i!=null&&i.id))return;const oe=$.correct,he=$.total,be=y8(oe,he,y),Pe={attemptNumber:y,score:be.score,stars:be.stars,correct:oe,total:he,attemptedAt:new Date().toISOString(),questionIds:$.answers.map(P=>P.questionId)};let F=w8(l.id,i.id,Pe);const V=2,Q=F.extraAttempts??0,X=V+Q;if(be.score>=S8)F=s0(l.id,i.id,{failedAttempts:0,lockedUntil:null,completedAt:new Date().toISOString()});else{const P=(F.failedAttempts??0)+1;if(P>=X){const R=new Date(Date.now()+432e5).toISOString();F=k8(l.id,i.id,R)}else F=s0(l.id,i.id,{failedAttempts:P})}v(F),k($.answers),T({score:be.score,stars:be.stars,correct:oe,total:he,attemptNumber:y}),g(!1)},Me=()=>{if(!l||!(i!=null&&i.id)){t("/login");return}j8({planId:"attempt-pack-10",eventId:i.id,eventTitle:i.headline||"S kin lch s",quantity:10,createdAt:new Date().toISOString()});const $=`/checkout?productId=attempt-pack-10&eventId=${i.id}`;window.location.assign($)};return a.jsxs("div",{className:"min-h-screen bg-[#f6f1e6] text-amber-950",children:[a.jsx("div",{className:"fixed top-0 left-0 h-1 bg-gradient-to-r from-amber-600 via-amber-400 to-amber-700 z-50",style:{width:`${c}%`}}),!D&&a.jsx("button",{onClick:se,className:"fixed top-20 left-16 sm:top-8 sm:left-28 md:top-10 md:left-32 z-40 bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-lg hover:shadow-xl transition-transform duration-300","aria-label":"Quay li lch s",style:{transform:B?`translateX(${B}px)`:void 0},children:a.jsx(Pm,{size:20,className:"text-amber-800"})}),a.jsxs("section",{className:"relative min-h-[62vh] lg:min-h-[68vh] flex items-end",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`linear-gradient(120deg, rgba(34,24,14,0.85), rgba(120,68,20,0.55)), url(${W})`}}),a.jsx("div",{className:"relative z-10 w-full",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-20 lg:py-28 text-white",children:[a.jsx("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/30 bg-white/10 px-4 py-1 text-[11px] uppercase tracking-[0.4em]",children:o||"H s nghin cu"}),a.jsx("h1",{className:"mt-6 text-3xl md:text-5xl lg:text-6xl font-serif leading-snug drop-shadow-lg",children:i.headline}),a.jsx("p",{className:"mt-6 max-w-3xl text-sm md:text-base lg:text-lg text-white/85 leading-relaxed",children:i.summary}),a.jsxs("div",{className:"mt-10 grid gap-4 md:grid-cols-3",children:[a.jsxs("div",{className:"rounded-2xl border border-white/20 bg-white/10 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-white/70",children:[a.jsx(f2,{size:14})," Ngy din ra"]}),a.jsx("p",{className:"mt-2 text-base font-semibold text-white",children:i.date||"ang b sung"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/20 bg-white/10 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-white/70",children:[a.jsx(Zs,{size:14})," a im lch s"]}),a.jsx("p",{className:"mt-2 text-base font-semibold text-white",children:i.location||"Khng r"})]}),a.jsxs("div",{className:"rounded-2xl border border-white/20 bg-white/10 p-4",children:[a.jsx("div",{className:"text-xs uppercase tracking-widest text-white/70",children:"Ngun trch dn"}),a.jsxs("p",{className:"mt-2 text-base font-semibold text-white",children:[K," s cp  ",E," th cp"]})]})]}),a.jsxs("div",{className:"mt-10 flex flex-wrap gap-4",children:[a.jsx("button",{onClick:()=>{var $;return($=document.getElementById("reading-start"))==null?void 0:$.scrollIntoView({behavior:"smooth"})},className:"rounded-full bg-white px-6 py-3 text-sm font-semibold text-amber-900 shadow-lg hover:shadow-xl transition",children:"c h s"}),a.jsx("button",{onClick:()=>void ve(),className:"rounded-full border border-white/50 px-6 py-3 text-sm font-semibold text-white/90 hover:bg-white/10 transition",children:"Bt u quiz"})]})]})})]}),a.jsx("main",{className:"relative z-10 -mt-16 pb-24",children:a.jsx("div",{className:"max-w-6xl mx-auto px-5 lg:px-8",children:a.jsxs("div",{className:"grid gap-12 lg:grid-cols-[minmax(0,2fr),minmax(290px,1fr)]",children:[a.jsxs("article",{id:"reading-start",className:"space-y-12",children:[(L=(Qe=i.media)==null?void 0:Qe.images)!=null&&L.length?a.jsxs("section",{className:"rounded-3xl border border-amber-900/15 bg-white/90 shadow-sm p-6",children:[a.jsxs("header",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-widest text-amber-700/70",children:"T liu hnh nh"}),a.jsx("h2",{className:"text-2xl font-serif text-amber-900",children:"B nh hin trng & minh ha"})]}),a.jsxs("span",{className:"text-xs text-amber-700/60",children:[i.media.images.length," mc"]})]}),a.jsxs("div",{className:"mt-6 overflow-hidden rounded-2xl border border-amber-900/10 bg-amber-50",children:[a.jsx("img",{src:i.media.images[h].src,alt:i.media.images[h].title||"T liu hnh nh",className:"h-80 w-full object-cover"}),a.jsxs("div",{className:"flex flex-col gap-1 border-t border-amber-900/10 bg-white/90 px-5 py-4 text-sm text-amber-800",children:[a.jsx("p",{className:"font-semibold",children:i.media.images[h].title||"T liu s kin"}),a.jsx("p",{className:"text-xs leading-relaxed text-amber-700",children:i.media.images[h].caption}),(i.media.images[h].credit||i.media.images[h].year)&&a.jsxs("p",{className:"text-[11px] uppercase tracking-widest text-amber-600/70",children:[i.media.images[h].credit,i.media.images[h].year?`  ${i.media.images[h].year}`:""]})]})]}),a.jsx("div",{className:"mt-4 flex gap-3 overflow-x-auto pb-2",children:i.media.images.map(($,oe)=>a.jsxs("button",{type:"button",onClick:()=>m(oe),className:`relative h-20 w-28 flex-shrink-0 overflow-hidden rounded-xl border transition ${h===oe?"border-amber-700 shadow-lg":"border-amber-900/10 hover:border-amber-500"}`,children:[a.jsx("img",{src:$.src,alt:$.title,className:"h-full w-full object-cover"}),h===oe&&a.jsx("span",{className:"absolute inset-0 border-2 border-white/80","aria-hidden":!0})]},$.src))})]}):null,G.length>0&&a.jsxs("section",{className:"rounded-3xl border border-amber-900/20 bg-gradient-to-br from-amber-50 via-white to-amber-50 p-8 shadow-sm",children:[a.jsxs("header",{className:"mb-6",children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.45em] text-amber-700/70",children:"Dng thi gian"}),a.jsx("h2",{className:"mt-2 text-2xl font-serif text-amber-900",children:"Nhng nhp chnh trc v trong s kin"})]}),a.jsx("ol",{className:"relative border-s border-amber-900/20 pl-8 space-y-10",children:G.map($=>{var oe;return a.jsxs("li",{className:"relative",children:[a.jsx("span",{className:"absolute -left-[39px] top-1.5 h-4 w-4 rounded-full border-2 border-amber-900/30 bg-amber-100"}),a.jsxs("div",{className:"rounded-2xl bg-white/80 p-5 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-serif text-amber-900",children:$.title}),a.jsx("p",{className:"mt-3 text-sm leading-relaxed text-amber-800 whitespace-pre-line",children:$.content}),(oe=$.bullets)!=null&&oe.length?a.jsx("ul",{className:"mt-4 space-y-2 text-sm text-amber-800/90",children:$.bullets.map(he=>a.jsxs("li",{className:"flex gap-2",children:[a.jsx("span",{className:"text-amber-600",children:""}),a.jsx("span",{children:he})]},he))}):null]})]},$.id)})})]}),I.map($=>a.jsxs("section",{className:"rounded-3xl border border-amber-900/15 bg-white/95 shadow-sm",children:[a.jsxs("header",{className:"flex items-center justify-between gap-4 border-b border-amber-900/10 px-6 py-5",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs uppercase tracking-[0.45em] text-amber-700/70",children:[$.tone==="context"&&"Bi cnh",$.tone==="analysis"&&"Phn tch",$.tone==="impact"&&"nh hng",$.tone==="appendix"&&"Ph lc"]}),a.jsx("h2",{className:"text-2xl font-serif text-amber-900",children:$.title})]}),a.jsxs("span",{className:"text-xs text-amber-700/60",children:[$.sections.length," mc"]})]}),a.jsx("div",{className:"divide-y divide-amber-900/10",children:$.sections.map(oe=>{var be;const he=d[oe.id]??!1;return a.jsxs("article",{children:[a.jsxs("button",{type:"button",onClick:()=>O(oe.id),className:"flex w-full items-center justify-between gap-4 px-6 py-4 text-left hover:bg-amber-50/60 transition","aria-expanded":he,children:[a.jsx("span",{className:"text-base font-semibold text-amber-900",children:oe.title}),a.jsx(Rl,{size:18,className:`text-amber-700 transition-transform ${he?"rotate-180":""}`})]}),he&&a.jsxs("div",{className:"px-6 pb-6 text-sm leading-relaxed text-amber-800 animate-fade-in",children:[a.jsx("p",{className:"whitespace-pre-line",children:oe.content}),(be=oe.bullets)!=null&&be.length?a.jsx("ul",{className:"mt-4 space-y-2 text-sm text-amber-800/90",children:oe.bullets.map(Pe=>a.jsxs("li",{className:"flex gap-2",children:[a.jsx("span",{className:"text-amber-600",children:""}),a.jsx("span",{children:Pe})]},Pe))}):null]})]},oe.id)})})]},$.id)),(Ye=i.people)!=null&&Ye.length?a.jsxs("section",{className:"rounded-3xl border border-amber-900/20 bg-gradient-to-br from-white via-amber-50/70 to-white p-8 shadow-sm",children:[a.jsxs("header",{className:"mb-6",children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.45em] text-amber-700/70",children:"Nhn vt ch cht"}),a.jsx("h2",{className:"mt-2 text-2xl font-serif text-amber-900",children:"Bin ch nhn s v du n c nhn"})]}),a.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:i.people.map($=>{var oe;return a.jsxs("article",{className:"rounded-2xl border border-amber-900/15 bg-white/90 p-5 shadow-sm",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[$.portrait?a.jsx("img",{src:$.portrait,alt:$.name,className:"h-20 w-20 rounded-xl object-cover"}):a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-xl bg-amber-900/10 text-2xl font-serif text-amber-700",children:$.name.slice(0,1)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:$.name}),a.jsx("p",{className:"text-xs uppercase tracking-widest text-amber-700/70",children:$.role}),a.jsx("p",{className:"mt-3 text-sm leading-relaxed text-amber-800",children:$.bio})]})]}),(oe=$.quotes)!=null&&oe.length?a.jsxs("div",{className:"mt-4 rounded-xl border border-amber-900/10 bg-amber-50/80 px-4 py-3 text-sm italic text-amber-700",children:["",$.quotes[0],""]}):null]},$.id)})})]}):null,a.jsxs("section",{className:"rounded-3xl border border-amber-900/20 bg-white/95 shadow-sm p-8",children:[a.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.45em] text-amber-700/70",children:"nh gi ngun"}),a.jsx("h2",{className:"mt-2 text-2xl font-serif text-amber-900",children:"Ch gii ti liu trch dn"})]}),a.jsxs("span",{className:"text-xs text-amber-700/60",children:[i.sources.length," ngun c kim chng"]})]}),a.jsx("div",{className:"mt-6 grid gap-4 md:grid-cols-2",children:i.sources.map($=>a.jsxs("article",{className:"rounded-2xl border border-amber-900/15 bg-amber-50/60 p-5 shadow-sm",children:[a.jsx("div",{className:"text-xs uppercase tracking-widest text-amber-700/70",children:$.type==="primary"?"Ngun s cp":"Ngun th cp"}),a.jsx("h3",{className:"mt-2 text-base font-semibold text-amber-900",children:$.title}),$.author||$.year?a.jsxs("p",{className:"mt-1 text-xs text-amber-700/80",children:[$.author?`${$.author}`:"",$.author&&$.year?"  ":"",$.year||""]}):null,$.citation?a.jsx("p",{className:"mt-3 text-sm italic leading-relaxed text-amber-800/90",children:$.citation}):null,a.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3 text-xs text-amber-700/70",children:[a.jsxs("span",{children:[" tin cy: ",$.reliability?$.reliability.toUpperCase():"Cha nh gi"]}),$.url?a.jsxs("a",{href:$.url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-amber-700 hover:text-amber-900",children:["Truy cp",a.jsx($f,{size:14})]}):null]})]},$.id))})]}),a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-amber-900/20 bg-gradient-to-r from-amber-600 via-amber-500 to-amber-700 p-10 text-white shadow-lg",children:[a.jsx("div",{className:"absolute inset-y-0 right-0 w-1/3 bg-white/10 blur-3xl","aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsx("h2",{className:"text-3xl font-serif",children:"T lng gi kin thc"}),a.jsx("p",{className:"max-w-2xl text-sm md:text-base leading-relaxed text-white/90",children:"Hon tt b cu hi thi gian thc  ghi nhn tin  nghin cu v m kha cc h s chuyn su tip theo."}),a.jsxs("p",{className:"text-xs uppercase tracking-[0.45em] text-white/70",children:[" C ",z,"% H S"]})]})]}),U&&M&&a.jsxs("div",{className:"rounded-xl border border-rose-200 bg-rose-50 p-5 text-sm text-rose-700 shadow-sm",children:[a.jsx("div",{className:"font-semibold",children:"Quiz tm thi b kha"}),a.jsxs("p",{className:"mt-2",children:["Bn  dng ht lt th. M li vo ",M.toLocaleString()," hoc mua thm lt  tip tc."]}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{type:"button",onClick:Me,className:"inline-flex items-center gap-2 rounded-full bg-rose-600 px-5 py-2 text-sm font-semibold text-white shadow transition hover:bg-rose-600/90",children:"Mua +10 lt"})})]}),a.jsx(f8,{canLaunch:de,onLaunch:ve,attempts:(x==null?void 0:x.attempts.length)??0,purchasedAttempts:(x==null?void 0:x.extraAttempts)??0,bestScore:x==null?void 0:x.bestScore,bestStars:x==null?void 0:x.bestStars}),j&&a.jsxs("div",{className:"rounded-xl border border-amber-400/30 bg-amber-50/80 p-6 text-sm text-amber-900 shadow-sm",children:[a.jsx("h4",{className:"text-base font-semibold text-amber-900",children:"Gii thch cu hi gn nht"}),a.jsx("ul",{className:"mt-4 space-y-3",children:j.map($=>{const oe=w.find(Pe=>Pe.id===$.questionId);if(!oe)return null;const he=typeof $.selectedIndex=="number"?oe.options[$.selectedIndex]:"Cha tr li",be=oe.options[$.correctIndex];return a.jsxs("li",{className:"rounded-lg bg-white/90 p-4 shadow-sm",children:[a.jsx("p",{className:"font-semibold text-amber-900",children:oe.prompt}),a.jsxs("p",{className:"mt-1 text-sm text-amber-700",children:["Bn chn: ",he]}),a.jsxs("p",{className:"text-sm text-emerald-700",children:["p n ng: ",be]}),$.explanation?a.jsx("p",{className:"mt-2 text-sm text-amber-800/80",children:$.explanation}):null]},$.questionId)})})]})]})]}),a.jsx("div",{className:"lg:pt-6",children:a.jsx(h8,{event:i})})]})})}),a.jsxs("footer",{className:"bg-[#ede3d2] py-10 text-center text-xs text-amber-700/70",children:["H s trnh by nhm minh ha b cc nghin cu. Cp nht ",new Date().getFullYear(),"."]}),p&&a.jsx(m8,{questions:w,attemptNumber:y,onClose:()=>g(!1),onComplete:ee}),C&&a.jsx(x8,{score:C.score,stars:C.stars,correct:C.correct,total:C.total,attemptNumber:C.attemptNumber,onRetry:()=>{T(null),ve()},onReview:()=>T(null),onClose:()=>T(null)}),a.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 0.35s ease-out both; }
      `})]})}const T8=()=>{var g;const t=Rn(),e=gt(),n=(g=t.state)==null?void 0:g.event,r=n!=null&&n.id?`/history?eventId=${n.id}`:"/history",[s,i]=S.useState({}),[o,l]=S.useState(0),[c,u]=S.useState(0),[d,f]=S.useState(null),h={title:(n==null?void 0:n.title)||"Gio s - Vin s Trn i Ngha",subtitle:(n==null?void 0:n.summary)||"Nh gio dc ting tm ca Vit Nam th k XX",backgroundImage:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=1200&h=600&fit=crop",badge:"LCH S GIO DC"},m=[{icon:"",text:"Th  vo trng trung hc  M Tho vi s im cao nht v c cp hc bng",color:"from-blue-500 to-cyan-500"},{icon:"",text:"Nm 1930, Phm Quang L th  vo trng trung hc bn x Petrus K",color:"from-purple-500 to-pink-500"},{icon:"",text:"Nm 1933, ng th  hng bu t ti (T ti Bn x) v t ti Ty)",color:"from-orange-500 to-red-500"}],x=[{year:"1913",month:"9/13",title:"Sinh ngy 13 thng 9 nm 1913",description:"Sinh ti Chu Hip, huyn Tn Bnh (Vnh Long)",icon:"",image:"https://images.unsplash.com/photo-1553883558-d1fda0eeb490?w=300&h=200&fit=crop"},{year:"1926-1930",month:"9/1926",title:"Thi k hc tp  M Tho",description:"Hc tp ti trng trung hc  M Tho vi thnh tch xut sc",icon:"",image:"https://images.unsplash.com/photo-1427504494785-cdeb4f5d12db?w=300&h=200&fit=crop"},{year:"1933",month:"5/1933",title:"Hon thnh bng T ti",description:"Tt nghip bng T ti Bn x v c cng nhn l c nhn c y  nng lc",icon:"",image:"https://images.unsplash.com/photo-1523147335684-37898b6baf30?w=300&h=200&fit=crop"},{year:"1945",month:"9/1945",title:"Cch mng v c lp",description:"Tham gia trong khng chin, gp phn vo qu trnh xy dng nc Vit Nam",icon:"",image:"https://images.unsplash.com/photo-1540575467063-178f50911e0e?w=300&h=200&fit=crop"}],v=[{id:"background",title:" Tiu s v Nn tng",icon:"",content:"Trn i Ngha sinh nm 1913 ti Chu Hip, huyn Tn Bnh, tnh Vnh Long. Qu ti lng Chnh Hip, huyn Tn Bnh (Vnh Long). Nm th 7 tui, ng m ci ch, gia cnh thiu hn me v chnh  v qu c gng chn lo ln tin n hc.",details:["Gia nh c truyn thng tr thc","Ln ln gia thi k Php thuc","Tip nhn nn gio dc Php hin i","C am m v khoa hc v gio dc"]},{id:"education",title:" Con ng Cch Mng",icon:"",content:"Ngy 9-1946, Trn i Ngha cng on ca Bc H  ri Cng Tu-lng nc Php v Vit Nam. ng  tham gia tch cc trong qu trnh xy dng thnh ph c lp.",details:["Nm 1946: Ri Php, tr v Vit Nam","Tham gia Khng chin chng Php","Gp phn xy dng gio dc quc gia","Thnh lp cc trng hc lu i"]},{id:"contributions",title:" Nhng ng Gp Lch S",icon:"",content:"Trang i Ngha c ghi nhn l mt trong nhng nh gio dc tin phong trong vic hin i ha gio dc Vit Nam. ng  thnh lp ln ba bng bng gio dc vi cc phng php s phm tin tin.",details:["Ci cch phng php ging dy","Xy dng chng trnh gio dc mi","Hun luyn th h gio vin","Pht trin vn ha gio dc"]}],w=[{id:"1",src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=600&h=400&fit=crop",caption:"Trn i Ngha - Gio s tiu biu",year:"1935"},{id:"2",src:"https://images.unsplash.com/photo-1427504494785-cdeb4f5d12db?w=600&h=400&fit=crop",caption:"Trng hc ca Trn i Ngha",year:"1940"},{id:"3",src:"https://images.unsplash.com/photo-1523147335684-37898b6baf30?w=600&h=400&fit=crop",caption:"Cng cc hc sinh u t",year:"1938"},{id:"4",src:"https://images.unsplash.com/photo-1540575467063-178f50911e0e?w=600&h=400&fit=crop",caption:"K nim vi cc ng s",year:"1945"}],b=[{id:"birthplace",lat:10.2,lng:105.8,name:"Ni sinh",date:"1913",description:"Chu Hip, Tn Bnh, Vnh Long",icon:""},{id:"school1",lat:10.15,lng:105.78,name:"Trng Trung Hc M Tho",date:"1926-1930",description:"Ni theo hc vi thnh tch xut sc",icon:""},{id:"france",lat:48.8566,lng:2.3522,name:"Paris, Php",date:"1933-1945",description:"Tip tc hc tp v ging dy",icon:""},{id:"hanoi",lat:21.0285,lng:105.8542,name:"H Ni",date:"T 1945",description:"C s hot ng gio dc sau c lp",icon:""}];S.useEffect(()=>{const y=()=>{const _=window.innerHeight,j=document.documentElement.scrollHeight,k=window.scrollY,C=j-_,T=k/C*100;u(T)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]);const p=y=>{i(_=>({..._,[y]:!_[y]}))};return a.jsxs("div",{className:"min-h-screen bg-brand-base overflow-hidden",children:[a.jsx("div",{className:"fixed top-0 left-0 h-1 bg-gradient-to-r from-brand-blue via-purple-500 to-pink-500 z-50",style:{width:`${c}%`}}),a.jsx("button",{onClick:()=>e(-1),className:"fixed top-4 left-4 z-40 bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-110",children:a.jsx(Pm,{size:24,className:"text-brand-blue"})}),a.jsxs("section",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`linear-gradient(135deg, rgba(31, 41, 55, 0.7), rgba(139, 0, 0, 0.7)), url(${h.backgroundImage})`,backgroundAttachment:"fixed",transform:`translateY(${c*.5}px)`}}),a.jsxs("div",{className:"relative z-10 text-center px-4 max-w-4xl mx-auto",children:[a.jsx("div",{className:"mb-6 inline-block px-4 py-2 bg-white/10 backdrop-blur-md rounded-full border border-white/20",children:a.jsx("span",{className:"text-white/80 text-sm font-semibold tracking-widest",children:h.badge})}),a.jsx("h1",{className:"text-5xl md:text-7xl font-serif text-white mb-4 drop-shadow-lg animate-fade-in",children:h.title}),a.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8 drop-shadow-md animate-fade-in",style:{animationDelay:"0.2s"},children:h.subtitle}),a.jsxs("div",{className:"flex gap-4 justify-center flex-wrap animate-fade-in",style:{animationDelay:"0.4s"},children:[a.jsx("button",{className:"px-8 py-3 bg-white text-brand-text font-semibold rounded-lg hover:bg-white/90 transition-all duration-200 hover:scale-105 shadow-lg",children:" Xem Video"}),a.jsx("button",{className:"px-8 py-3 bg-white/20 text-white border border-white/40 font-semibold rounded-lg hover:bg-white/30 transition-all duration-200 backdrop-blur-sm",children:" c Chi Tit"})]})]}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-10 animate-bounce",children:a.jsx(Rl,{size:32,className:"text-white/60"})})]}),a.jsx("section",{className:"py-20 px-4 bg-gradient-to-b from-brand-base to-brand-base/50",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h2",{className:"text-4xl font-serif text-brand-text mb-4 text-center",children:" Nhng Khonh Khc Chnh"}),a.jsx("p",{className:"text-center text-brand-muted mb-12",children:"Nhng bc ngot quan trng trong cuc i ca Trn i Ngha"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:m.map((y,_)=>a.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-white p-8 shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 cursor-pointer",style:{background:"linear-gradient(135deg, var(--tw-gradient-stops))"},children:[a.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gradient-to-br from-white/10 to-transparent"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("span",{className:"text-5xl mb-4 block",children:y.icon}),a.jsx("p",{className:"text-brand-text font-medium leading-relaxed",children:y.text})]})]},_))})]})}),a.jsx("section",{className:"py-20 px-4 bg-white",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h2",{className:"text-4xl font-serif text-brand-text mb-4 text-center",children:" Dng Thi Gian S Kin"}),a.jsx("p",{className:"text-center text-brand-muted mb-16",children:"Hnh trnh 50 nm cng hin cho gio dc"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-1 h-full bg-gradient-to-b from-brand-blue via-purple-500 to-pink-500"}),a.jsx("div",{className:"space-y-12",children:x.map((y,_)=>a.jsxs("div",{className:`flex items-center gap-8 ${_%2===0?"flex-row":"flex-row-reverse"}`,children:[a.jsx("div",{className:`w-1/2 ${_%2===0?"text-right":"text-left"}`,children:a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-brand-blue/10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(qf,{size:16,className:"text-brand-blue"}),a.jsx("span",{className:"text-sm font-semibold text-brand-blue",children:y.year}),y.month&&a.jsxs("span",{className:"text-xs text-brand-muted",children:["Thng ",y.month]})]}),a.jsx("h3",{className:"text-xl font-serif text-brand-text mb-2",children:y.title}),a.jsx("p",{className:"text-brand-muted text-sm leading-relaxed",children:y.description})]})}),a.jsx("div",{className:"relative w-auto flex justify-center",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-brand-blue to-purple-500 flex items-center justify-center text-white text-xl shadow-lg ring-4 ring-white z-10",children:y.icon})}),a.jsx("div",{className:"w-1/2"})]},_))})]})]})}),a.jsx("section",{className:"py-20 px-4 bg-gradient-to-b from-brand-base/50 to-brand-base",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h2",{className:"text-4xl font-serif text-brand-text mb-4 text-center",children:" T Liu Hnh nh"}),a.jsx("p",{className:"text-center text-brand-muted mb-12",children:"Nhng bc nh lch s qu gi"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-2xl group",children:[a.jsx("img",{src:w[o].src,alt:w[o].caption,className:"w-full h-96 object-cover group-hover:scale-110 transition-transform duration-500"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-serif text-xl mb-1",children:w[o].caption}),w[o].year&&a.jsx("span",{className:"text-white/80 text-sm",children:w[o].year})]})})]}),a.jsx("div",{className:"space-y-4",children:w.map((y,_)=>a.jsxs("div",{onClick:()=>l(_),className:`relative overflow-hidden rounded-lg cursor-pointer transition-all duration-300 transform hover:scale-105 ${o===_?"ring-4 ring-brand-blue shadow-lg scale-105":"opacity-70 hover:opacity-100"}`,children:[a.jsx("img",{src:y.src,alt:y.caption,className:"w-full h-24 object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/0 transition-all"}),a.jsx("p",{className:"absolute bottom-2 left-2 text-white text-xs font-semibold bg-black/40 px-2 py-1 rounded",children:y.caption})]},y.id))})]})]})}),a.jsx("section",{className:"py-20 px-4 bg-white",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h2",{className:"text-4xl font-serif text-brand-text mb-4 text-center",children:" Thng Tin Chi Tit"}),a.jsx("div",{className:"space-y-4",children:v.map(y=>a.jsxs("div",{className:"border-2 border-brand-blue/20 rounded-xl overflow-hidden hover:border-brand-blue/40 transition-all duration-300",children:[a.jsxs("button",{onClick:()=>p(y.id),className:"w-full flex items-center justify-between p-6 bg-white hover:bg-brand-base/50 transition-colors duration-200",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-3xl",children:y.icon}),a.jsx("h3",{className:"text-xl font-serif text-brand-text",children:y.title})]}),a.jsx(Rl,{size:24,className:`text-brand-blue transition-transform duration-300 ${s[y.id]?"rotate-180":""}`})]}),s[y.id]&&a.jsxs("div",{className:"px-6 pb-6 border-t border-brand-blue/10 animate-fade-in",children:[a.jsx("p",{className:"text-brand-muted leading-relaxed mb-4",children:y.content}),y.details&&a.jsx("ul",{className:"space-y-2",children:y.details.map((_,j)=>a.jsxs("li",{className:"flex items-start gap-3 text-brand-text",children:[a.jsx("span",{className:"text-brand-blue font-bold mt-1",children:""}),a.jsx("span",{children:_})]},j))})]})]},y.id))})]})}),a.jsx("section",{className:"py-20 px-4 bg-gradient-to-b from-blue-50 to-purple-50",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h2",{className:"text-4xl font-serif text-brand-text mb-4 text-center",children:" Bn  S Kin"}),a.jsx("p",{className:"text-center text-brand-muted mb-12",children:"Nhng a im quan trng trong cuc i"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsx("div",{className:"relative overflow-hidden rounded-2xl shadow-lg bg-white p-8 border border-brand-blue/20",children:a.jsxs("div",{className:"w-full h-96 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg flex items-center justify-center relative",children:[a.jsx("span",{className:"text-6xl",children:""}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("p",{className:"text-center text-brand-muted text-sm",children:"Interactive Map s c thm vo"})})]})}),a.jsx("div",{className:"space-y-4",children:b.map(y=>a.jsx("div",{onMouseEnter:()=>f(y.id),onMouseLeave:()=>f(null),className:`p-4 rounded-lg border-2 transition-all duration-300 cursor-pointer ${d===y.id?"border-brand-blue bg-brand-blue/10 shadow-lg scale-105":"border-brand-blue/20 bg-white hover:border-brand-blue/40"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-3xl",children:y.icon}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-brand-text",children:y.name}),a.jsx("p",{className:"text-sm text-brand-blue font-medium",children:y.date}),a.jsx("p",{className:"text-sm text-brand-muted mt-1",children:y.description})]})]})},y.id))})]})]})}),a.jsxs("section",{className:"py-20 px-4 bg-gradient-to-r from-brand-blue via-purple-600 to-pink-600 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),a.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-serif text-white mb-6 drop-shadow-lg",children:" Sn Sng Kim Tra Kin Thc?"}),a.jsx("p",{className:"text-xl text-white/90 mb-12 drop-shadow-md max-w-2xl mx-auto",children:"Tr li 3 cu hi trong 20 giy  kim tra hiu bit ca bn v Trn i Ngha v k nguyn gio dc ca ng."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs("button",{onClick:()=>e(r),className:"px-10 py-4 bg-white text-brand-blue font-bold text-lg rounded-lg shadow-lg hover:shadow-2xl hover:scale-105 transition-all duration-300 flex items-center justify-center gap-2 group",children:[a.jsx(ZN,{size:20,className:"group-hover:animate-spin"}),"Bt u Quiz Ngay"]}),a.jsx("button",{onClick:()=>e(-1),className:"px-10 py-4 bg-white/20 text-white font-bold text-lg rounded-lg border-2 border-white/40 backdrop-blur-sm hover:bg-white/30 transition-all duration-300",children:"Quay Li"})]}),a.jsx("p",{className:"text-white/70 text-sm mt-6",children:" Hon thnh quiz  m kha thm ni dung & nhn sao"})]})]}),a.jsx("section",{className:"py-12 px-4 bg-brand-base text-center",children:a.jsx("p",{className:"text-brand-muted text-sm",children:" Ngun ti liu: Bo tng Lch s Quc gia Vit Nam | Cp nht: 2025"})}),a.jsx("style",{children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .animate-fade-in {
          animation: fade-in 0.6s ease-out forwards;
        }
      `})]})};var N_={exports:{}};function A8(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var i0={exports:{}};const P8={},B8=Object.freeze(Object.defineProperty({__proto__:null,default:P8},Symbol.toStringTag,{value:"Module"})),D8=Ov(B8);var R1;function Re(){return R1||(R1=1,function(t,e){(function(n,r){t.exports=r()})(ge,function(){var n=n||function(r,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof ge<"u"&&ge.crypto&&(i=ge.crypto),!i&&typeof A8=="function")try{i=D8}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||function(){function p(){}return function(g){var y;return p.prototype=g,y=new p,p.prototype=null,y}}(),c={},u=c.lib={},d=u.Base=function(){return{extend:function(p){var g=l(this);return p&&g.mixIn(p),(!g.hasOwnProperty("init")||this.init===g.init)&&(g.init=function(){g.$super.init.apply(this,arguments)}),g.init.prototype=g,g.$super=this,g},create:function(){var p=this.extend();return p.init.apply(p,arguments),p},init:function(){},mixIn:function(p){for(var g in p)p.hasOwnProperty(g)&&(this[g]=p[g]);p.hasOwnProperty("toString")&&(this.toString=p.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=u.WordArray=d.extend({init:function(p,g){p=this.words=p||[],g!=s?this.sigBytes=g:this.sigBytes=p.length*4},toString:function(p){return(p||m).stringify(this)},concat:function(p){var g=this.words,y=p.words,_=this.sigBytes,j=p.sigBytes;if(this.clamp(),_%4)for(var k=0;k<j;k++){var C=y[k>>>2]>>>24-k%4*8&255;g[_+k>>>2]|=C<<24-(_+k)%4*8}else for(var T=0;T<j;T+=4)g[_+T>>>2]=y[T>>>2];return this.sigBytes+=j,this},clamp:function(){var p=this.words,g=this.sigBytes;p[g>>>2]&=4294967295<<32-g%4*8,p.length=r.ceil(g/4)},clone:function(){var p=d.clone.call(this);return p.words=this.words.slice(0),p},random:function(p){for(var g=[],y=0;y<p;y+=4)g.push(o());return new f.init(g,p)}}),h=c.enc={},m=h.Hex={stringify:function(p){for(var g=p.words,y=p.sigBytes,_=[],j=0;j<y;j++){var k=g[j>>>2]>>>24-j%4*8&255;_.push((k>>>4).toString(16)),_.push((k&15).toString(16))}return _.join("")},parse:function(p){for(var g=p.length,y=[],_=0;_<g;_+=2)y[_>>>3]|=parseInt(p.substr(_,2),16)<<24-_%8*4;return new f.init(y,g/2)}},x=h.Latin1={stringify:function(p){for(var g=p.words,y=p.sigBytes,_=[],j=0;j<y;j++){var k=g[j>>>2]>>>24-j%4*8&255;_.push(String.fromCharCode(k))}return _.join("")},parse:function(p){for(var g=p.length,y=[],_=0;_<g;_++)y[_>>>2]|=(p.charCodeAt(_)&255)<<24-_%4*8;return new f.init(y,g)}},v=h.Utf8={stringify:function(p){try{return decodeURIComponent(escape(x.stringify(p)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(p){return x.parse(unescape(encodeURIComponent(p)))}},w=u.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(p){typeof p=="string"&&(p=v.parse(p)),this._data.concat(p),this._nDataBytes+=p.sigBytes},_process:function(p){var g,y=this._data,_=y.words,j=y.sigBytes,k=this.blockSize,C=k*4,T=j/C;p?T=r.ceil(T):T=r.max((T|0)-this._minBufferSize,0);var N=T*k,B=r.min(N*4,j);if(N){for(var A=0;A<N;A+=k)this._doProcessBlock(_,A);g=_.splice(0,N),y.sigBytes-=B}return new f.init(g,B)},clone:function(){var p=d.clone.call(this);return p._data=this._data.clone(),p},_minBufferSize:0});u.Hasher=w.extend({cfg:d.extend(),init:function(p){this.cfg=this.cfg.extend(p),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(p){return this._append(p),this._process(),this},finalize:function(p){p&&this._append(p);var g=this._doFinalize();return g},blockSize:16,_createHelper:function(p){return function(g,y){return new p.init(y).finalize(g)}},_createHmacHelper:function(p){return function(g,y){return new b.HMAC.init(p,y).finalize(g)}}});var b=c.algo={};return c}(Math);return n})}(i0)),i0.exports}var a0={exports:{}},O1;function Xd(){return O1||(O1=1,function(t,e){(function(n,r){t.exports=r(Re())})(ge,function(n){return function(r){var s=n,i=s.lib,o=i.Base,l=i.WordArray,c=s.x64={};c.Word=o.extend({init:function(u,d){this.high=u,this.low=d}}),c.WordArray=o.extend({init:function(u,d){u=this.words=u||[],d!=r?this.sigBytes=d:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,d=u.length,f=[],h=0;h<d;h++){var m=u[h];f.push(m.high),f.push(m.low)}return l.create(f,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),d=u.words=this.words.slice(0),f=d.length,h=0;h<f;h++)d[h]=d[h].clone();return u}})}(),n})}(a0)),a0.exports}var o0={exports:{}},I1;function F8(){return I1||(I1=1,function(t,e){(function(n,r){t.exports=r(Re())})(ge,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,s=r.lib,i=s.WordArray,o=i.init,l=i.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,d=[],f=0;f<u;f++)d[f>>>2]|=c[f]<<24-f%4*8;o.call(this,d,u)}else o.apply(this,arguments)};l.prototype=i}}(),n.lib.WordArray})}(o0)),o0.exports}var l0={exports:{}},M1;function R8(){return M1||(M1=1,function(t,e){(function(n,r){t.exports=r(Re())})(ge,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var u=c.words,d=c.sigBytes,f=[],h=0;h<d;h+=2){var m=u[h>>>2]>>>16-h%4*8&65535;f.push(String.fromCharCode(m))}return f.join("")},parse:function(c){for(var u=c.length,d=[],f=0;f<u;f++)d[f>>>1]|=c.charCodeAt(f)<<16-f%2*16;return i.create(d,u*2)}},o.Utf16LE={stringify:function(c){for(var u=c.words,d=c.sigBytes,f=[],h=0;h<d;h+=2){var m=l(u[h>>>2]>>>16-h%4*8&65535);f.push(String.fromCharCode(m))}return f.join("")},parse:function(c){for(var u=c.length,d=[],f=0;f<u;f++)d[f>>>1]|=l(c.charCodeAt(f)<<16-f%2*16);return i.create(d,u*2)}};function l(c){return c<<8&4278255360|c>>>8&16711935}}(),n.enc.Utf16})}(l0)),l0.exports}var c0={exports:{}},L1;function ea(){return L1||(L1=1,function(t,e){(function(n,r){t.exports=r(Re())})(ge,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=r.enc;o.Base64={stringify:function(c){var u=c.words,d=c.sigBytes,f=this._map;c.clamp();for(var h=[],m=0;m<d;m+=3)for(var x=u[m>>>2]>>>24-m%4*8&255,v=u[m+1>>>2]>>>24-(m+1)%4*8&255,w=u[m+2>>>2]>>>24-(m+2)%4*8&255,b=x<<16|v<<8|w,p=0;p<4&&m+p*.75<d;p++)h.push(f.charAt(b>>>6*(3-p)&63));var g=f.charAt(64);if(g)for(;h.length%4;)h.push(g);return h.join("")},parse:function(c){var u=c.length,d=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<d.length;h++)f[d.charCodeAt(h)]=h}var m=d.charAt(64);if(m){var x=c.indexOf(m);x!==-1&&(u=x)}return l(c,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(c,u,d){for(var f=[],h=0,m=0;m<u;m++)if(m%4){var x=d[c.charCodeAt(m-1)]<<m%4*2,v=d[c.charCodeAt(m)]>>>6-m%4*2,w=x|v;f[h>>>2]|=w<<24-h%4*8,h++}return i.create(f,h)}}(),n.enc.Base64})}(c0)),c0.exports}var u0={exports:{}},z1;function O8(){return z1||(z1=1,function(t,e){(function(n,r){t.exports=r(Re())})(ge,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=r.enc;o.Base64url={stringify:function(c,u){u===void 0&&(u=!0);var d=c.words,f=c.sigBytes,h=u?this._safe_map:this._map;c.clamp();for(var m=[],x=0;x<f;x+=3)for(var v=d[x>>>2]>>>24-x%4*8&255,w=d[x+1>>>2]>>>24-(x+1)%4*8&255,b=d[x+2>>>2]>>>24-(x+2)%4*8&255,p=v<<16|w<<8|b,g=0;g<4&&x+g*.75<f;g++)m.push(h.charAt(p>>>6*(3-g)&63));var y=h.charAt(64);if(y)for(;m.length%4;)m.push(y);return m.join("")},parse:function(c,u){u===void 0&&(u=!0);var d=c.length,f=u?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var m=0;m<f.length;m++)h[f.charCodeAt(m)]=m}var x=f.charAt(64);if(x){var v=c.indexOf(x);v!==-1&&(d=v)}return l(c,d,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function l(c,u,d){for(var f=[],h=0,m=0;m<u;m++)if(m%4){var x=d[c.charCodeAt(m-1)]<<m%4*2,v=d[c.charCodeAt(m)]>>>6-m%4*2,w=x|v;f[h>>>2]|=w<<24-h%4*8,h++}return i.create(f,h)}}(),n.enc.Base64url})}(u0)),u0.exports}var d0={exports:{}},H1;function ta(){return H1||(H1=1,function(t,e){(function(n,r){t.exports=r(Re())})(ge,function(n){return function(r){var s=n,i=s.lib,o=i.WordArray,l=i.Hasher,c=s.algo,u=[];(function(){for(var v=0;v<64;v++)u[v]=r.abs(r.sin(v+1))*4294967296|0})();var d=c.MD5=l.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,w){for(var b=0;b<16;b++){var p=w+b,g=v[p];v[p]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360}var y=this._hash.words,_=v[w+0],j=v[w+1],k=v[w+2],C=v[w+3],T=v[w+4],N=v[w+5],B=v[w+6],A=v[w+7],D=v[w+8],H=v[w+9],q=v[w+10],W=v[w+11],G=v[w+12],I=v[w+13],K=v[w+14],E=v[w+15],O=y[0],M=y[1],U=y[2],z=y[3];O=f(O,M,U,z,_,7,u[0]),z=f(z,O,M,U,j,12,u[1]),U=f(U,z,O,M,k,17,u[2]),M=f(M,U,z,O,C,22,u[3]),O=f(O,M,U,z,T,7,u[4]),z=f(z,O,M,U,N,12,u[5]),U=f(U,z,O,M,B,17,u[6]),M=f(M,U,z,O,A,22,u[7]),O=f(O,M,U,z,D,7,u[8]),z=f(z,O,M,U,H,12,u[9]),U=f(U,z,O,M,q,17,u[10]),M=f(M,U,z,O,W,22,u[11]),O=f(O,M,U,z,G,7,u[12]),z=f(z,O,M,U,I,12,u[13]),U=f(U,z,O,M,K,17,u[14]),M=f(M,U,z,O,E,22,u[15]),O=h(O,M,U,z,j,5,u[16]),z=h(z,O,M,U,B,9,u[17]),U=h(U,z,O,M,W,14,u[18]),M=h(M,U,z,O,_,20,u[19]),O=h(O,M,U,z,N,5,u[20]),z=h(z,O,M,U,q,9,u[21]),U=h(U,z,O,M,E,14,u[22]),M=h(M,U,z,O,T,20,u[23]),O=h(O,M,U,z,H,5,u[24]),z=h(z,O,M,U,K,9,u[25]),U=h(U,z,O,M,C,14,u[26]),M=h(M,U,z,O,D,20,u[27]),O=h(O,M,U,z,I,5,u[28]),z=h(z,O,M,U,k,9,u[29]),U=h(U,z,O,M,A,14,u[30]),M=h(M,U,z,O,G,20,u[31]),O=m(O,M,U,z,N,4,u[32]),z=m(z,O,M,U,D,11,u[33]),U=m(U,z,O,M,W,16,u[34]),M=m(M,U,z,O,K,23,u[35]),O=m(O,M,U,z,j,4,u[36]),z=m(z,O,M,U,T,11,u[37]),U=m(U,z,O,M,A,16,u[38]),M=m(M,U,z,O,q,23,u[39]),O=m(O,M,U,z,I,4,u[40]),z=m(z,O,M,U,_,11,u[41]),U=m(U,z,O,M,C,16,u[42]),M=m(M,U,z,O,B,23,u[43]),O=m(O,M,U,z,H,4,u[44]),z=m(z,O,M,U,G,11,u[45]),U=m(U,z,O,M,E,16,u[46]),M=m(M,U,z,O,k,23,u[47]),O=x(O,M,U,z,_,6,u[48]),z=x(z,O,M,U,A,10,u[49]),U=x(U,z,O,M,K,15,u[50]),M=x(M,U,z,O,N,21,u[51]),O=x(O,M,U,z,G,6,u[52]),z=x(z,O,M,U,C,10,u[53]),U=x(U,z,O,M,q,15,u[54]),M=x(M,U,z,O,j,21,u[55]),O=x(O,M,U,z,D,6,u[56]),z=x(z,O,M,U,E,10,u[57]),U=x(U,z,O,M,B,15,u[58]),M=x(M,U,z,O,I,21,u[59]),O=x(O,M,U,z,T,6,u[60]),z=x(z,O,M,U,W,10,u[61]),U=x(U,z,O,M,k,15,u[62]),M=x(M,U,z,O,H,21,u[63]),y[0]=y[0]+O|0,y[1]=y[1]+M|0,y[2]=y[2]+U|0,y[3]=y[3]+z|0},_doFinalize:function(){var v=this._data,w=v.words,b=this._nDataBytes*8,p=v.sigBytes*8;w[p>>>5]|=128<<24-p%32;var g=r.floor(b/4294967296),y=b;w[(p+64>>>9<<4)+15]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,w[(p+64>>>9<<4)+14]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,v.sigBytes=(w.length+1)*4,this._process();for(var _=this._hash,j=_.words,k=0;k<4;k++){var C=j[k];j[k]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}return _},clone:function(){var v=l.clone.call(this);return v._hash=this._hash.clone(),v}});function f(v,w,b,p,g,y,_){var j=v+(w&b|~w&p)+g+_;return(j<<y|j>>>32-y)+w}function h(v,w,b,p,g,y,_){var j=v+(w&p|b&~p)+g+_;return(j<<y|j>>>32-y)+w}function m(v,w,b,p,g,y,_){var j=v+(w^b^p)+g+_;return(j<<y|j>>>32-y)+w}function x(v,w,b,p,g,y,_){var j=v+(b^(w|~p))+g+_;return(j<<y|j>>>32-y)+w}s.MD5=l._createHelper(d),s.HmacMD5=l._createHmacHelper(d)}(Math),n.MD5})}(d0)),d0.exports}var h0={exports:{}},q1;function C_(){return q1||(q1=1,function(t,e){(function(n,r){t.exports=r(Re())})(ge,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=s.Hasher,l=r.algo,c=[],u=l.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,f){for(var h=this._hash.words,m=h[0],x=h[1],v=h[2],w=h[3],b=h[4],p=0;p<80;p++){if(p<16)c[p]=d[f+p]|0;else{var g=c[p-3]^c[p-8]^c[p-14]^c[p-16];c[p]=g<<1|g>>>31}var y=(m<<5|m>>>27)+b+c[p];p<20?y+=(x&v|~x&w)+1518500249:p<40?y+=(x^v^w)+1859775393:p<60?y+=(x&v|x&w|v&w)-1894007588:y+=(x^v^w)-899497514,b=w,w=v,v=x<<30|x>>>2,x=m,m=y}h[0]=h[0]+m|0,h[1]=h[1]+x|0,h[2]=h[2]+v|0,h[3]=h[3]+w|0,h[4]=h[4]+b|0},_doFinalize:function(){var d=this._data,f=d.words,h=this._nDataBytes*8,m=d.sigBytes*8;return f[m>>>5]|=128<<24-m%32,f[(m+64>>>9<<4)+14]=Math.floor(h/4294967296),f[(m+64>>>9<<4)+15]=h,d.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var d=o.clone.call(this);return d._hash=this._hash.clone(),d}});r.SHA1=o._createHelper(u),r.HmacSHA1=o._createHmacHelper(u)}(),n.SHA1})}(h0)),h0.exports}var f0={exports:{}},$1;function cx(){return $1||($1=1,function(t,e){(function(n,r){t.exports=r(Re())})(ge,function(n){return function(r){var s=n,i=s.lib,o=i.WordArray,l=i.Hasher,c=s.algo,u=[],d=[];(function(){function m(b){for(var p=r.sqrt(b),g=2;g<=p;g++)if(!(b%g))return!1;return!0}function x(b){return(b-(b|0))*4294967296|0}for(var v=2,w=0;w<64;)m(v)&&(w<8&&(u[w]=x(r.pow(v,1/2))),d[w]=x(r.pow(v,1/3)),w++),v++})();var f=[],h=c.SHA256=l.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(m,x){for(var v=this._hash.words,w=v[0],b=v[1],p=v[2],g=v[3],y=v[4],_=v[5],j=v[6],k=v[7],C=0;C<64;C++){if(C<16)f[C]=m[x+C]|0;else{var T=f[C-15],N=(T<<25|T>>>7)^(T<<14|T>>>18)^T>>>3,B=f[C-2],A=(B<<15|B>>>17)^(B<<13|B>>>19)^B>>>10;f[C]=N+f[C-7]+A+f[C-16]}var D=y&_^~y&j,H=w&b^w&p^b&p,q=(w<<30|w>>>2)^(w<<19|w>>>13)^(w<<10|w>>>22),W=(y<<26|y>>>6)^(y<<21|y>>>11)^(y<<7|y>>>25),G=k+W+D+d[C]+f[C],I=q+H;k=j,j=_,_=y,y=g+G|0,g=p,p=b,b=w,w=G+I|0}v[0]=v[0]+w|0,v[1]=v[1]+b|0,v[2]=v[2]+p|0,v[3]=v[3]+g|0,v[4]=v[4]+y|0,v[5]=v[5]+_|0,v[6]=v[6]+j|0,v[7]=v[7]+k|0},_doFinalize:function(){var m=this._data,x=m.words,v=this._nDataBytes*8,w=m.sigBytes*8;return x[w>>>5]|=128<<24-w%32,x[(w+64>>>9<<4)+14]=r.floor(v/4294967296),x[(w+64>>>9<<4)+15]=v,m.sigBytes=x.length*4,this._process(),this._hash},clone:function(){var m=l.clone.call(this);return m._hash=this._hash.clone(),m}});s.SHA256=l._createHelper(h),s.HmacSHA256=l._createHmacHelper(h)}(Math),n.SHA256})}(f0)),f0.exports}var p0={exports:{}},U1;function I8(){return U1||(U1=1,function(t,e){(function(n,r,s){t.exports=r(Re(),cx())})(ge,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=r.algo,l=o.SHA256,c=o.SHA224=l.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=l._createHelper(c),r.HmacSHA224=l._createHmacHelper(c)}(),n.SHA224})}(p0)),p0.exports}var m0={exports:{}},V1;function S_(){return V1||(V1=1,function(t,e){(function(n,r,s){t.exports=r(Re(),Xd())})(ge,function(n){return function(){var r=n,s=r.lib,i=s.Hasher,o=r.x64,l=o.Word,c=o.WordArray,u=r.algo;function d(){return l.create.apply(l,arguments)}var f=[d(1116352408,3609767458),d(1899447441,602891725),d(3049323471,3964484399),d(3921009573,2173295548),d(961987163,4081628472),d(1508970993,3053834265),d(2453635748,2937671579),d(2870763221,3664609560),d(3624381080,2734883394),d(310598401,1164996542),d(607225278,1323610764),d(1426881987,3590304994),d(1925078388,4068182383),d(2162078206,991336113),d(2614888103,633803317),d(3248222580,3479774868),d(3835390401,2666613458),d(4022224774,944711139),d(264347078,2341262773),d(604807628,2007800933),d(770255983,1495990901),d(1249150122,1856431235),d(1555081692,3175218132),d(1996064986,2198950837),d(2554220882,3999719339),d(2821834349,766784016),d(2952996808,2566594879),d(3210313671,3203337956),d(3336571891,1034457026),d(3584528711,2466948901),d(113926993,3758326383),d(338241895,168717936),d(666307205,1188179964),d(773529912,1546045734),d(1294757372,1522805485),d(1396182291,2643833823),d(1695183700,2343527390),d(1986661051,1014477480),d(2177026350,1206759142),d(2456956037,344077627),d(2730485921,1290863460),d(2820302411,3158454273),d(3259730800,3505952657),d(3345764771,106217008),d(3516065817,3606008344),d(3600352804,1432725776),d(4094571909,1467031594),d(275423344,851169720),d(430227734,3100823752),d(506948616,1363258195),d(659060556,3750685593),d(883997877,3785050280),d(958139571,3318307427),d(1322822218,3812723403),d(1537002063,2003034995),d(1747873779,3602036899),d(1955562222,1575990012),d(2024104815,1125592928),d(2227730452,2716904306),d(2361852424,442776044),d(2428436474,593698344),d(2756734187,3733110249),d(3204031479,2999351573),d(3329325298,3815920427),d(3391569614,3928383900),d(3515267271,566280711),d(3940187606,3454069534),d(4118630271,4000239992),d(116418474,1914138554),d(174292421,2731055270),d(289380356,3203993006),d(460393269,320620315),d(685471733,587496836),d(852142971,1086792851),d(1017036298,365543100),d(1126000580,2618297676),d(1288033470,3409855158),d(1501505948,4234509866),d(1607167915,987167468),d(1816402316,1246189591)],h=[];(function(){for(var x=0;x<80;x++)h[x]=d()})();var m=u.SHA512=i.extend({_doReset:function(){this._hash=new c.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(x,v){for(var w=this._hash.words,b=w[0],p=w[1],g=w[2],y=w[3],_=w[4],j=w[5],k=w[6],C=w[7],T=b.high,N=b.low,B=p.high,A=p.low,D=g.high,H=g.low,q=y.high,W=y.low,G=_.high,I=_.low,K=j.high,E=j.low,O=k.high,M=k.low,U=C.high,z=C.low,de=T,se=N,ve=B,ee=A,Me=D,qe=H,ze=q,Ve=W,me=G,_e=I,$e=K,Qe=E,L=O,Ye=M,$=U,oe=z,he=0;he<80;he++){var be,Pe,F=h[he];if(he<16)Pe=F.high=x[v+he*2]|0,be=F.low=x[v+he*2+1]|0;else{var V=h[he-15],Q=V.high,X=V.low,pe=(Q>>>1|X<<31)^(Q>>>8|X<<24)^Q>>>7,P=(X>>>1|Q<<31)^(X>>>8|Q<<24)^(X>>>7|Q<<25),R=h[he-2],J=R.high,te=R.low,ne=(J>>>19|te<<13)^(J<<3|te>>>29)^J>>>6,ue=(te>>>19|J<<13)^(te<<3|J>>>29)^(te>>>6|J<<26),Be=h[he-7],at=Be.high,Ht=Be.low,Ar=h[he-16],je=Ar.high,Pr=Ar.low;be=P+Ht,Pe=pe+at+(be>>>0<P>>>0?1:0),be=be+ue,Pe=Pe+ne+(be>>>0<ue>>>0?1:0),be=be+Pr,Pe=Pe+je+(be>>>0<Pr>>>0?1:0),F.high=Pe,F.low=be}var On=me&$e^~me&L,_n=_e&Qe^~_e&Ye,In=de&ve^de&Me^ve&Me,Yr=se&ee^se&qe^ee&qe,ys=(de>>>28|se<<4)^(de<<30|se>>>2)^(de<<25|se>>>7),tr=(se>>>28|de<<4)^(se<<30|de>>>2)^(se<<25|de>>>7),ci=(me>>>14|_e<<18)^(me>>>18|_e<<14)^(me<<23|_e>>>9),we=(_e>>>14|me<<18)^(_e>>>18|me<<14)^(_e<<23|me>>>9),xe=f[he],Oe=xe.high,Z=xe.low,fe=oe+we,ce=$+ci+(fe>>>0<oe>>>0?1:0),fe=fe+_n,ce=ce+On+(fe>>>0<_n>>>0?1:0),fe=fe+Z,ce=ce+Oe+(fe>>>0<Z>>>0?1:0),fe=fe+be,ce=ce+Pe+(fe>>>0<be>>>0?1:0),ye=tr+Yr,kt=ys+In+(ye>>>0<tr>>>0?1:0);$=L,oe=Ye,L=$e,Ye=Qe,$e=me,Qe=_e,_e=Ve+fe|0,me=ze+ce+(_e>>>0<Ve>>>0?1:0)|0,ze=Me,Ve=qe,Me=ve,qe=ee,ve=de,ee=se,se=fe+ye|0,de=ce+kt+(se>>>0<fe>>>0?1:0)|0}N=b.low=N+se,b.high=T+de+(N>>>0<se>>>0?1:0),A=p.low=A+ee,p.high=B+ve+(A>>>0<ee>>>0?1:0),H=g.low=H+qe,g.high=D+Me+(H>>>0<qe>>>0?1:0),W=y.low=W+Ve,y.high=q+ze+(W>>>0<Ve>>>0?1:0),I=_.low=I+_e,_.high=G+me+(I>>>0<_e>>>0?1:0),E=j.low=E+Qe,j.high=K+$e+(E>>>0<Qe>>>0?1:0),M=k.low=M+Ye,k.high=O+L+(M>>>0<Ye>>>0?1:0),z=C.low=z+oe,C.high=U+$+(z>>>0<oe>>>0?1:0)},_doFinalize:function(){var x=this._data,v=x.words,w=this._nDataBytes*8,b=x.sigBytes*8;v[b>>>5]|=128<<24-b%32,v[(b+128>>>10<<5)+30]=Math.floor(w/4294967296),v[(b+128>>>10<<5)+31]=w,x.sigBytes=v.length*4,this._process();var p=this._hash.toX32();return p},clone:function(){var x=i.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:1024/32});r.SHA512=i._createHelper(m),r.HmacSHA512=i._createHmacHelper(m)}(),n.SHA512})}(m0)),m0.exports}var x0={exports:{}},K1;function M8(){return K1||(K1=1,function(t,e){(function(n,r,s){t.exports=r(Re(),Xd(),S_())})(ge,function(n){return function(){var r=n,s=r.x64,i=s.Word,o=s.WordArray,l=r.algo,c=l.SHA512,u=l.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var d=c._doFinalize.call(this);return d.sigBytes-=16,d}});r.SHA384=c._createHelper(u),r.HmacSHA384=c._createHmacHelper(u)}(),n.SHA384})}(x0)),x0.exports}var g0={exports:{}},W1;function L8(){return W1||(W1=1,function(t,e){(function(n,r,s){t.exports=r(Re(),Xd())})(ge,function(n){return function(r){var s=n,i=s.lib,o=i.WordArray,l=i.Hasher,c=s.x64,u=c.Word,d=s.algo,f=[],h=[],m=[];(function(){for(var w=1,b=0,p=0;p<24;p++){f[w+5*b]=(p+1)*(p+2)/2%64;var g=b%5,y=(2*w+3*b)%5;w=g,b=y}for(var w=0;w<5;w++)for(var b=0;b<5;b++)h[w+5*b]=b+(2*w+3*b)%5*5;for(var _=1,j=0;j<24;j++){for(var k=0,C=0,T=0;T<7;T++){if(_&1){var N=(1<<T)-1;N<32?C^=1<<N:k^=1<<N-32}_&128?_=_<<1^113:_<<=1}m[j]=u.create(k,C)}})();var x=[];(function(){for(var w=0;w<25;w++)x[w]=u.create()})();var v=d.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var w=this._state=[],b=0;b<25;b++)w[b]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(w,b){for(var p=this._state,g=this.blockSize/2,y=0;y<g;y++){var _=w[b+2*y],j=w[b+2*y+1];_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,j=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360;var k=p[y];k.high^=j,k.low^=_}for(var C=0;C<24;C++){for(var T=0;T<5;T++){for(var N=0,B=0,A=0;A<5;A++){var k=p[T+5*A];N^=k.high,B^=k.low}var D=x[T];D.high=N,D.low=B}for(var T=0;T<5;T++)for(var H=x[(T+4)%5],q=x[(T+1)%5],W=q.high,G=q.low,N=H.high^(W<<1|G>>>31),B=H.low^(G<<1|W>>>31),A=0;A<5;A++){var k=p[T+5*A];k.high^=N,k.low^=B}for(var I=1;I<25;I++){var N,B,k=p[I],K=k.high,E=k.low,O=f[I];O<32?(N=K<<O|E>>>32-O,B=E<<O|K>>>32-O):(N=E<<O-32|K>>>64-O,B=K<<O-32|E>>>64-O);var M=x[h[I]];M.high=N,M.low=B}var U=x[0],z=p[0];U.high=z.high,U.low=z.low;for(var T=0;T<5;T++)for(var A=0;A<5;A++){var I=T+5*A,k=p[I],de=x[I],se=x[(T+1)%5+5*A],ve=x[(T+2)%5+5*A];k.high=de.high^~se.high&ve.high,k.low=de.low^~se.low&ve.low}var k=p[0],ee=m[C];k.high^=ee.high,k.low^=ee.low}},_doFinalize:function(){var w=this._data,b=w.words;this._nDataBytes*8;var p=w.sigBytes*8,g=this.blockSize*32;b[p>>>5]|=1<<24-p%32,b[(r.ceil((p+1)/g)*g>>>5)-1]|=128,w.sigBytes=b.length*4,this._process();for(var y=this._state,_=this.cfg.outputLength/8,j=_/8,k=[],C=0;C<j;C++){var T=y[C],N=T.high,B=T.low;N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,k.push(B),k.push(N)}return new o.init(k,_)},clone:function(){for(var w=l.clone.call(this),b=w._state=this._state.slice(0),p=0;p<25;p++)b[p]=b[p].clone();return w}});s.SHA3=l._createHelper(v),s.HmacSHA3=l._createHmacHelper(v)}(Math),n.SHA3})}(g0)),g0.exports}var v0={exports:{}},G1;function z8(){return G1||(G1=1,function(t,e){(function(n,r){t.exports=r(Re())})(ge,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var s=n,i=s.lib,o=i.WordArray,l=i.Hasher,c=s.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=o.create([0,1518500249,1859775393,2400959708,2840853838]),x=o.create([1352829926,1548603684,1836072691,2053994217,0]),v=c.RIPEMD160=l.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(j,k){for(var C=0;C<16;C++){var T=k+C,N=j[T];j[T]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}var B=this._hash.words,A=m.words,D=x.words,H=u.words,q=d.words,W=f.words,G=h.words,I,K,E,O,M,U,z,de,se,ve;U=I=B[0],z=K=B[1],de=E=B[2],se=O=B[3],ve=M=B[4];for(var ee,C=0;C<80;C+=1)ee=I+j[k+H[C]]|0,C<16?ee+=w(K,E,O)+A[0]:C<32?ee+=b(K,E,O)+A[1]:C<48?ee+=p(K,E,O)+A[2]:C<64?ee+=g(K,E,O)+A[3]:ee+=y(K,E,O)+A[4],ee=ee|0,ee=_(ee,W[C]),ee=ee+M|0,I=M,M=O,O=_(E,10),E=K,K=ee,ee=U+j[k+q[C]]|0,C<16?ee+=y(z,de,se)+D[0]:C<32?ee+=g(z,de,se)+D[1]:C<48?ee+=p(z,de,se)+D[2]:C<64?ee+=b(z,de,se)+D[3]:ee+=w(z,de,se)+D[4],ee=ee|0,ee=_(ee,G[C]),ee=ee+ve|0,U=ve,ve=se,se=_(de,10),de=z,z=ee;ee=B[1]+E+se|0,B[1]=B[2]+O+ve|0,B[2]=B[3]+M+U|0,B[3]=B[4]+I+z|0,B[4]=B[0]+K+de|0,B[0]=ee},_doFinalize:function(){var j=this._data,k=j.words,C=this._nDataBytes*8,T=j.sigBytes*8;k[T>>>5]|=128<<24-T%32,k[(T+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,j.sigBytes=(k.length+1)*4,this._process();for(var N=this._hash,B=N.words,A=0;A<5;A++){var D=B[A];B[A]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return N},clone:function(){var j=l.clone.call(this);return j._hash=this._hash.clone(),j}});function w(j,k,C){return j^k^C}function b(j,k,C){return j&k|~j&C}function p(j,k,C){return(j|~k)^C}function g(j,k,C){return j&C|k&~C}function y(j,k,C){return j^(k|~C)}function _(j,k){return j<<k|j>>>32-k}s.RIPEMD160=l._createHelper(v),s.HmacRIPEMD160=l._createHmacHelper(v)}(),n.RIPEMD160})}(v0)),v0.exports}var b0={exports:{}},Q1;function ux(){return Q1||(Q1=1,function(t,e){(function(n,r){t.exports=r(Re())})(ge,function(n){(function(){var r=n,s=r.lib,i=s.Base,o=r.enc,l=o.Utf8,c=r.algo;c.HMAC=i.extend({init:function(u,d){u=this._hasher=new u.init,typeof d=="string"&&(d=l.parse(d));var f=u.blockSize,h=f*4;d.sigBytes>h&&(d=u.finalize(d)),d.clamp();for(var m=this._oKey=d.clone(),x=this._iKey=d.clone(),v=m.words,w=x.words,b=0;b<f;b++)v[b]^=1549556828,w[b]^=909522486;m.sigBytes=x.sigBytes=h,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var d=this._hasher,f=d.finalize(u);d.reset();var h=d.finalize(this._oKey.clone().concat(f));return h}})})()})}(b0)),b0.exports}var y0={exports:{}},Y1;function H8(){return Y1||(Y1=1,function(t,e){(function(n,r,s){t.exports=r(Re(),cx(),ux())})(ge,function(n){return function(){var r=n,s=r.lib,i=s.Base,o=s.WordArray,l=r.algo,c=l.SHA256,u=l.HMAC,d=l.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,h){for(var m=this.cfg,x=u.create(m.hasher,f),v=o.create(),w=o.create([1]),b=v.words,p=w.words,g=m.keySize,y=m.iterations;b.length<g;){var _=x.update(h).finalize(w);x.reset();for(var j=_.words,k=j.length,C=_,T=1;T<y;T++){C=x.finalize(C),x.reset();for(var N=C.words,B=0;B<k;B++)j[B]^=N[B]}v.concat(_),p[0]++}return v.sigBytes=g*4,v}});r.PBKDF2=function(f,h,m){return d.create(m).compute(f,h)}}(),n.PBKDF2})}(y0)),y0.exports}var w0={exports:{}},X1;function li(){return X1||(X1=1,function(t,e){(function(n,r,s){t.exports=r(Re(),C_(),ux())})(ge,function(n){return function(){var r=n,s=r.lib,i=s.Base,o=s.WordArray,l=r.algo,c=l.MD5,u=l.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,f){for(var h,m=this.cfg,x=m.hasher.create(),v=o.create(),w=v.words,b=m.keySize,p=m.iterations;w.length<b;){h&&x.update(h),h=x.update(d).finalize(f),x.reset();for(var g=1;g<p;g++)h=x.finalize(h),x.reset();v.concat(h)}return v.sigBytes=b*4,v}});r.EvpKDF=function(d,f,h){return u.create(h).compute(d,f)}}(),n.EvpKDF})}(w0)),w0.exports}var _0={exports:{}},J1;function zt(){return J1||(J1=1,function(t,e){(function(n,r,s){t.exports=r(Re(),li())})(ge,function(n){n.lib.Cipher||function(r){var s=n,i=s.lib,o=i.Base,l=i.WordArray,c=i.BufferedBlockAlgorithm,u=s.enc;u.Utf8;var d=u.Base64,f=s.algo,h=f.EvpKDF,m=i.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(N,B){return this.create(this._ENC_XFORM_MODE,N,B)},createDecryptor:function(N,B){return this.create(this._DEC_XFORM_MODE,N,B)},init:function(N,B,A){this.cfg=this.cfg.extend(A),this._xformMode=N,this._key=B,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(N){return this._append(N),this._process()},finalize:function(N){N&&this._append(N);var B=this._doFinalize();return B},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function N(B){return typeof B=="string"?T:j}return function(B){return{encrypt:function(A,D,H){return N(D).encrypt(B,A,D,H)},decrypt:function(A,D,H){return N(D).decrypt(B,A,D,H)}}}}()});i.StreamCipher=m.extend({_doFinalize:function(){var N=this._process(!0);return N},blockSize:1});var x=s.mode={},v=i.BlockCipherMode=o.extend({createEncryptor:function(N,B){return this.Encryptor.create(N,B)},createDecryptor:function(N,B){return this.Decryptor.create(N,B)},init:function(N,B){this._cipher=N,this._iv=B}}),w=x.CBC=function(){var N=v.extend();N.Encryptor=N.extend({processBlock:function(A,D){var H=this._cipher,q=H.blockSize;B.call(this,A,D,q),H.encryptBlock(A,D),this._prevBlock=A.slice(D,D+q)}}),N.Decryptor=N.extend({processBlock:function(A,D){var H=this._cipher,q=H.blockSize,W=A.slice(D,D+q);H.decryptBlock(A,D),B.call(this,A,D,q),this._prevBlock=W}});function B(A,D,H){var q,W=this._iv;W?(q=W,this._iv=r):q=this._prevBlock;for(var G=0;G<H;G++)A[D+G]^=q[G]}return N}(),b=s.pad={},p=b.Pkcs7={pad:function(N,B){for(var A=B*4,D=A-N.sigBytes%A,H=D<<24|D<<16|D<<8|D,q=[],W=0;W<D;W+=4)q.push(H);var G=l.create(q,D);N.concat(G)},unpad:function(N){var B=N.words[N.sigBytes-1>>>2]&255;N.sigBytes-=B}};i.BlockCipher=m.extend({cfg:m.cfg.extend({mode:w,padding:p}),reset:function(){var N;m.reset.call(this);var B=this.cfg,A=B.iv,D=B.mode;this._xformMode==this._ENC_XFORM_MODE?N=D.createEncryptor:(N=D.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==N?this._mode.init(this,A&&A.words):(this._mode=N.call(D,this,A&&A.words),this._mode.__creator=N)},_doProcessBlock:function(N,B){this._mode.processBlock(N,B)},_doFinalize:function(){var N,B=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(B.pad(this._data,this.blockSize),N=this._process(!0)):(N=this._process(!0),B.unpad(N)),N},blockSize:128/32});var g=i.CipherParams=o.extend({init:function(N){this.mixIn(N)},toString:function(N){return(N||this.formatter).stringify(this)}}),y=s.format={},_=y.OpenSSL={stringify:function(N){var B,A=N.ciphertext,D=N.salt;return D?B=l.create([1398893684,1701076831]).concat(D).concat(A):B=A,B.toString(d)},parse:function(N){var B,A=d.parse(N),D=A.words;return D[0]==1398893684&&D[1]==1701076831&&(B=l.create(D.slice(2,4)),D.splice(0,4),A.sigBytes-=16),g.create({ciphertext:A,salt:B})}},j=i.SerializableCipher=o.extend({cfg:o.extend({format:_}),encrypt:function(N,B,A,D){D=this.cfg.extend(D);var H=N.createEncryptor(A,D),q=H.finalize(B),W=H.cfg;return g.create({ciphertext:q,key:A,iv:W.iv,algorithm:N,mode:W.mode,padding:W.padding,blockSize:N.blockSize,formatter:D.format})},decrypt:function(N,B,A,D){D=this.cfg.extend(D),B=this._parse(B,D.format);var H=N.createDecryptor(A,D).finalize(B.ciphertext);return H},_parse:function(N,B){return typeof N=="string"?B.parse(N,this):N}}),k=s.kdf={},C=k.OpenSSL={execute:function(N,B,A,D,H){if(D||(D=l.random(64/8)),H)var q=h.create({keySize:B+A,hasher:H}).compute(N,D);else var q=h.create({keySize:B+A}).compute(N,D);var W=l.create(q.words.slice(B),A*4);return q.sigBytes=B*4,g.create({key:q,iv:W,salt:D})}},T=i.PasswordBasedCipher=j.extend({cfg:j.cfg.extend({kdf:C}),encrypt:function(N,B,A,D){D=this.cfg.extend(D);var H=D.kdf.execute(A,N.keySize,N.ivSize,D.salt,D.hasher);D.iv=H.iv;var q=j.encrypt.call(this,N,B,H.key,D);return q.mixIn(H),q},decrypt:function(N,B,A,D){D=this.cfg.extend(D),B=this._parse(B,D.format);var H=D.kdf.execute(A,N.keySize,N.ivSize,B.salt,D.hasher);D.iv=H.iv;var q=j.decrypt.call(this,N,B,H.key,D);return q}})}()})}(_0)),_0.exports}var k0={exports:{}},Z1;function q8(){return Z1||(Z1=1,function(t,e){(function(n,r,s){t.exports=r(Re(),zt())})(ge,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(i,o){var l=this._cipher,c=l.blockSize;s.call(this,i,o,c,l),this._prevBlock=i.slice(o,o+c)}}),r.Decryptor=r.extend({processBlock:function(i,o){var l=this._cipher,c=l.blockSize,u=i.slice(o,o+c);s.call(this,i,o,c,l),this._prevBlock=u}});function s(i,o,l,c){var u,d=this._iv;d?(u=d.slice(0),this._iv=void 0):u=this._prevBlock,c.encryptBlock(u,0);for(var f=0;f<l;f++)i[o+f]^=u[f]}return r}(),n.mode.CFB})}(k0)),k0.exports}var j0={exports:{}},ev;function $8(){return ev||(ev=1,function(t,e){(function(n,r,s){t.exports=r(Re(),zt())})(ge,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var l=this._cipher,c=l.blockSize,u=this._iv,d=this._counter;u&&(d=this._counter=u.slice(0),this._iv=void 0);var f=d.slice(0);l.encryptBlock(f,0),d[c-1]=d[c-1]+1|0;for(var h=0;h<c;h++)i[o+h]^=f[h]}});return r.Decryptor=s,r}(),n.mode.CTR})}(j0)),j0.exports}var N0={exports:{}},tv;function U8(){return tv||(tv=1,function(t,e){(function(n,r,s){t.exports=r(Re(),zt())})(ge,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function s(l){if((l>>24&255)===255){var c=l>>16&255,u=l>>8&255,d=l&255;c===255?(c=0,u===255?(u=0,d===255?d=0:++d):++u):++c,l=0,l+=c<<16,l+=u<<8,l+=d}else l+=1<<24;return l}function i(l){return(l[0]=s(l[0]))===0&&(l[1]=s(l[1])),l}var o=r.Encryptor=r.extend({processBlock:function(l,c){var u=this._cipher,d=u.blockSize,f=this._iv,h=this._counter;f&&(h=this._counter=f.slice(0),this._iv=void 0),i(h);var m=h.slice(0);u.encryptBlock(m,0);for(var x=0;x<d;x++)l[c+x]^=m[x]}});return r.Decryptor=o,r}(),n.mode.CTRGladman})}(N0)),N0.exports}var C0={exports:{}},nv;function V8(){return nv||(nv=1,function(t,e){(function(n,r,s){t.exports=r(Re(),zt())})(ge,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var l=this._cipher,c=l.blockSize,u=this._iv,d=this._keystream;u&&(d=this._keystream=u.slice(0),this._iv=void 0),l.encryptBlock(d,0);for(var f=0;f<c;f++)i[o+f]^=d[f]}});return r.Decryptor=s,r}(),n.mode.OFB})}(C0)),C0.exports}var S0={exports:{}},rv;function K8(){return rv||(rv=1,function(t,e){(function(n,r,s){t.exports=r(Re(),zt())})(ge,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(s,i){this._cipher.encryptBlock(s,i)}}),r.Decryptor=r.extend({processBlock:function(s,i){this._cipher.decryptBlock(s,i)}}),r}(),n.mode.ECB})}(S0)),S0.exports}var E0={exports:{}},sv;function W8(){return sv||(sv=1,function(t,e){(function(n,r,s){t.exports=r(Re(),zt())})(ge,function(n){return n.pad.AnsiX923={pad:function(r,s){var i=r.sigBytes,o=s*4,l=o-i%o,c=i+l-1;r.clamp(),r.words[c>>>2]|=l<<24-c%4*8,r.sigBytes+=l},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},n.pad.Ansix923})}(E0)),E0.exports}var T0={exports:{}},iv;function G8(){return iv||(iv=1,function(t,e){(function(n,r,s){t.exports=r(Re(),zt())})(ge,function(n){return n.pad.Iso10126={pad:function(r,s){var i=s*4,o=i-r.sigBytes%i;r.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},n.pad.Iso10126})}(T0)),T0.exports}var A0={exports:{}},av;function Q8(){return av||(av=1,function(t,e){(function(n,r,s){t.exports=r(Re(),zt())})(ge,function(n){return n.pad.Iso97971={pad:function(r,s){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,s)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(A0)),A0.exports}var P0={exports:{}},ov;function Y8(){return ov||(ov=1,function(t,e){(function(n,r,s){t.exports=r(Re(),zt())})(ge,function(n){return n.pad.ZeroPadding={pad:function(r,s){var i=s*4;r.clamp(),r.sigBytes+=i-(r.sigBytes%i||i)},unpad:function(r){for(var s=r.words,i=r.sigBytes-1,i=r.sigBytes-1;i>=0;i--)if(s[i>>>2]>>>24-i%4*8&255){r.sigBytes=i+1;break}}},n.pad.ZeroPadding})}(P0)),P0.exports}var B0={exports:{}},lv;function X8(){return lv||(lv=1,function(t,e){(function(n,r,s){t.exports=r(Re(),zt())})(ge,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(B0)),B0.exports}var D0={exports:{}},cv;function J8(){return cv||(cv=1,function(t,e){(function(n,r,s){t.exports=r(Re(),zt())})(ge,function(n){return function(r){var s=n,i=s.lib,o=i.CipherParams,l=s.enc,c=l.Hex,u=s.format;u.Hex={stringify:function(d){return d.ciphertext.toString(c)},parse:function(d){var f=c.parse(d);return o.create({ciphertext:f})}}}(),n.format.Hex})}(D0)),D0.exports}var F0={exports:{}},uv;function Z8(){return uv||(uv=1,function(t,e){(function(n,r,s){t.exports=r(Re(),ea(),ta(),li(),zt())})(ge,function(n){return function(){var r=n,s=r.lib,i=s.BlockCipher,o=r.algo,l=[],c=[],u=[],d=[],f=[],h=[],m=[],x=[],v=[],w=[];(function(){for(var g=[],y=0;y<256;y++)y<128?g[y]=y<<1:g[y]=y<<1^283;for(var _=0,j=0,y=0;y<256;y++){var k=j^j<<1^j<<2^j<<3^j<<4;k=k>>>8^k&255^99,l[_]=k,c[k]=_;var C=g[_],T=g[C],N=g[T],B=g[k]*257^k*16843008;u[_]=B<<24|B>>>8,d[_]=B<<16|B>>>16,f[_]=B<<8|B>>>24,h[_]=B;var B=N*16843009^T*65537^C*257^_*16843008;m[k]=B<<24|B>>>8,x[k]=B<<16|B>>>16,v[k]=B<<8|B>>>24,w[k]=B,_?(_=C^g[g[g[N^C]]],j^=g[g[j]]):_=j=1}})();var b=[0,1,2,4,8,16,32,64,128,27,54],p=o.AES=i.extend({_doReset:function(){var g;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var y=this._keyPriorReset=this._key,_=y.words,j=y.sigBytes/4,k=this._nRounds=j+6,C=(k+1)*4,T=this._keySchedule=[],N=0;N<C;N++)N<j?T[N]=_[N]:(g=T[N-1],N%j?j>6&&N%j==4&&(g=l[g>>>24]<<24|l[g>>>16&255]<<16|l[g>>>8&255]<<8|l[g&255]):(g=g<<8|g>>>24,g=l[g>>>24]<<24|l[g>>>16&255]<<16|l[g>>>8&255]<<8|l[g&255],g^=b[N/j|0]<<24),T[N]=T[N-j]^g);for(var B=this._invKeySchedule=[],A=0;A<C;A++){var N=C-A;if(A%4)var g=T[N];else var g=T[N-4];A<4||N<=4?B[A]=g:B[A]=m[l[g>>>24]]^x[l[g>>>16&255]]^v[l[g>>>8&255]]^w[l[g&255]]}}},encryptBlock:function(g,y){this._doCryptBlock(g,y,this._keySchedule,u,d,f,h,l)},decryptBlock:function(g,y){var _=g[y+1];g[y+1]=g[y+3],g[y+3]=_,this._doCryptBlock(g,y,this._invKeySchedule,m,x,v,w,c);var _=g[y+1];g[y+1]=g[y+3],g[y+3]=_},_doCryptBlock:function(g,y,_,j,k,C,T,N){for(var B=this._nRounds,A=g[y]^_[0],D=g[y+1]^_[1],H=g[y+2]^_[2],q=g[y+3]^_[3],W=4,G=1;G<B;G++){var I=j[A>>>24]^k[D>>>16&255]^C[H>>>8&255]^T[q&255]^_[W++],K=j[D>>>24]^k[H>>>16&255]^C[q>>>8&255]^T[A&255]^_[W++],E=j[H>>>24]^k[q>>>16&255]^C[A>>>8&255]^T[D&255]^_[W++],O=j[q>>>24]^k[A>>>16&255]^C[D>>>8&255]^T[H&255]^_[W++];A=I,D=K,H=E,q=O}var I=(N[A>>>24]<<24|N[D>>>16&255]<<16|N[H>>>8&255]<<8|N[q&255])^_[W++],K=(N[D>>>24]<<24|N[H>>>16&255]<<16|N[q>>>8&255]<<8|N[A&255])^_[W++],E=(N[H>>>24]<<24|N[q>>>16&255]<<16|N[A>>>8&255]<<8|N[D&255])^_[W++],O=(N[q>>>24]<<24|N[A>>>16&255]<<16|N[D>>>8&255]<<8|N[H&255])^_[W++];g[y]=I,g[y+1]=K,g[y+2]=E,g[y+3]=O},keySize:256/32});r.AES=i._createHelper(p)}(),n.AES})}(F0)),F0.exports}var R0={exports:{}},dv;function eS(){return dv||(dv=1,function(t,e){(function(n,r,s){t.exports=r(Re(),ea(),ta(),li(),zt())})(ge,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=s.BlockCipher,l=r.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],d=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=l.DES=o.extend({_doReset:function(){for(var b=this._key,p=b.words,g=[],y=0;y<56;y++){var _=c[y]-1;g[y]=p[_>>>5]>>>31-_%32&1}for(var j=this._subKeys=[],k=0;k<16;k++){for(var C=j[k]=[],T=d[k],y=0;y<24;y++)C[y/6|0]|=g[(u[y]-1+T)%28]<<31-y%6,C[4+(y/6|0)]|=g[28+(u[y+24]-1+T)%28]<<31-y%6;C[0]=C[0]<<1|C[0]>>>31;for(var y=1;y<7;y++)C[y]=C[y]>>>(y-1)*4+3;C[7]=C[7]<<5|C[7]>>>27}for(var N=this._invSubKeys=[],y=0;y<16;y++)N[y]=j[15-y]},encryptBlock:function(b,p){this._doCryptBlock(b,p,this._subKeys)},decryptBlock:function(b,p){this._doCryptBlock(b,p,this._invSubKeys)},_doCryptBlock:function(b,p,g){this._lBlock=b[p],this._rBlock=b[p+1],x.call(this,4,252645135),x.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),x.call(this,1,1431655765);for(var y=0;y<16;y++){for(var _=g[y],j=this._lBlock,k=this._rBlock,C=0,T=0;T<8;T++)C|=f[T][((k^_[T])&h[T])>>>0];this._lBlock=k,this._rBlock=j^C}var N=this._lBlock;this._lBlock=this._rBlock,this._rBlock=N,x.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),b[p]=this._lBlock,b[p+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function x(b,p){var g=(this._lBlock>>>b^this._rBlock)&p;this._rBlock^=g,this._lBlock^=g<<b}function v(b,p){var g=(this._rBlock>>>b^this._lBlock)&p;this._lBlock^=g,this._rBlock^=g<<b}r.DES=o._createHelper(m);var w=l.TripleDES=o.extend({_doReset:function(){var b=this._key,p=b.words;if(p.length!==2&&p.length!==4&&p.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var g=p.slice(0,2),y=p.length<4?p.slice(0,2):p.slice(2,4),_=p.length<6?p.slice(0,2):p.slice(4,6);this._des1=m.createEncryptor(i.create(g)),this._des2=m.createEncryptor(i.create(y)),this._des3=m.createEncryptor(i.create(_))},encryptBlock:function(b,p){this._des1.encryptBlock(b,p),this._des2.decryptBlock(b,p),this._des3.encryptBlock(b,p)},decryptBlock:function(b,p){this._des3.decryptBlock(b,p),this._des2.encryptBlock(b,p),this._des1.decryptBlock(b,p)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(w)}(),n.TripleDES})}(R0)),R0.exports}var O0={exports:{}},hv;function tS(){return hv||(hv=1,function(t,e){(function(n,r,s){t.exports=r(Re(),ea(),ta(),li(),zt())})(ge,function(n){return function(){var r=n,s=r.lib,i=s.StreamCipher,o=r.algo,l=o.RC4=i.extend({_doReset:function(){for(var d=this._key,f=d.words,h=d.sigBytes,m=this._S=[],x=0;x<256;x++)m[x]=x;for(var x=0,v=0;x<256;x++){var w=x%h,b=f[w>>>2]>>>24-w%4*8&255;v=(v+m[x]+b)%256;var p=m[x];m[x]=m[v],m[v]=p}this._i=this._j=0},_doProcessBlock:function(d,f){d[f]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var d=this._S,f=this._i,h=this._j,m=0,x=0;x<4;x++){f=(f+1)%256,h=(h+d[f])%256;var v=d[f];d[f]=d[h],d[h]=v,m|=d[(d[f]+d[h])%256]<<24-x*8}return this._i=f,this._j=h,m}r.RC4=i._createHelper(l);var u=o.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var d=this.cfg.drop;d>0;d--)c.call(this)}});r.RC4Drop=i._createHelper(u)}(),n.RC4})}(O0)),O0.exports}var I0={exports:{}},fv;function nS(){return fv||(fv=1,function(t,e){(function(n,r,s){t.exports=r(Re(),ea(),ta(),li(),zt())})(ge,function(n){return function(){var r=n,s=r.lib,i=s.StreamCipher,o=r.algo,l=[],c=[],u=[],d=o.Rabbit=i.extend({_doReset:function(){for(var h=this._key.words,m=this.cfg.iv,x=0;x<4;x++)h[x]=(h[x]<<8|h[x]>>>24)&16711935|(h[x]<<24|h[x]>>>8)&4278255360;var v=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],w=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var x=0;x<4;x++)f.call(this);for(var x=0;x<8;x++)w[x]^=v[x+4&7];if(m){var b=m.words,p=b[0],g=b[1],y=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,_=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,j=y>>>16|_&4294901760,k=_<<16|y&65535;w[0]^=y,w[1]^=j,w[2]^=_,w[3]^=k,w[4]^=y,w[5]^=j,w[6]^=_,w[7]^=k;for(var x=0;x<4;x++)f.call(this)}},_doProcessBlock:function(h,m){var x=this._X;f.call(this),l[0]=x[0]^x[5]>>>16^x[3]<<16,l[1]=x[2]^x[7]>>>16^x[5]<<16,l[2]=x[4]^x[1]>>>16^x[7]<<16,l[3]=x[6]^x[3]>>>16^x[1]<<16;for(var v=0;v<4;v++)l[v]=(l[v]<<8|l[v]>>>24)&16711935|(l[v]<<24|l[v]>>>8)&4278255360,h[m+v]^=l[v]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,m=this._C,x=0;x<8;x++)c[x]=m[x];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<c[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<c[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<c[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<c[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<c[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<c[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<c[6]>>>0?1:0)|0,this._b=m[7]>>>0<c[7]>>>0?1:0;for(var x=0;x<8;x++){var v=h[x]+m[x],w=v&65535,b=v>>>16,p=((w*w>>>17)+w*b>>>15)+b*b,g=((v&4294901760)*v|0)+((v&65535)*v|0);u[x]=p^g}h[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,h[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,h[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,h[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,h[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,h[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,h[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,h[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=i._createHelper(d)}(),n.Rabbit})}(I0)),I0.exports}var M0={exports:{}},pv;function rS(){return pv||(pv=1,function(t,e){(function(n,r,s){t.exports=r(Re(),ea(),ta(),li(),zt())})(ge,function(n){return function(){var r=n,s=r.lib,i=s.StreamCipher,o=r.algo,l=[],c=[],u=[],d=o.RabbitLegacy=i.extend({_doReset:function(){var h=this._key.words,m=this.cfg.iv,x=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],v=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var w=0;w<4;w++)f.call(this);for(var w=0;w<8;w++)v[w]^=x[w+4&7];if(m){var b=m.words,p=b[0],g=b[1],y=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,_=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,j=y>>>16|_&4294901760,k=_<<16|y&65535;v[0]^=y,v[1]^=j,v[2]^=_,v[3]^=k,v[4]^=y,v[5]^=j,v[6]^=_,v[7]^=k;for(var w=0;w<4;w++)f.call(this)}},_doProcessBlock:function(h,m){var x=this._X;f.call(this),l[0]=x[0]^x[5]>>>16^x[3]<<16,l[1]=x[2]^x[7]>>>16^x[5]<<16,l[2]=x[4]^x[1]>>>16^x[7]<<16,l[3]=x[6]^x[3]>>>16^x[1]<<16;for(var v=0;v<4;v++)l[v]=(l[v]<<8|l[v]>>>24)&16711935|(l[v]<<24|l[v]>>>8)&4278255360,h[m+v]^=l[v]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,m=this._C,x=0;x<8;x++)c[x]=m[x];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<c[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<c[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<c[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<c[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<c[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<c[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<c[6]>>>0?1:0)|0,this._b=m[7]>>>0<c[7]>>>0?1:0;for(var x=0;x<8;x++){var v=h[x]+m[x],w=v&65535,b=v>>>16,p=((w*w>>>17)+w*b>>>15)+b*b,g=((v&4294901760)*v|0)+((v&65535)*v|0);u[x]=p^g}h[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,h[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,h[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,h[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,h[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,h[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,h[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,h[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=i._createHelper(d)}(),n.RabbitLegacy})}(M0)),M0.exports}var L0={exports:{}},mv;function sS(){return mv||(mv=1,function(t,e){(function(n,r,s){t.exports=r(Re(),ea(),ta(),li(),zt())})(ge,function(n){return function(){var r=n,s=r.lib,i=s.BlockCipher,o=r.algo;const l=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var d={pbox:[],sbox:[]};function f(w,b){let p=b>>24&255,g=b>>16&255,y=b>>8&255,_=b&255,j=w.sbox[0][p]+w.sbox[1][g];return j=j^w.sbox[2][y],j=j+w.sbox[3][_],j}function h(w,b,p){let g=b,y=p,_;for(let j=0;j<l;++j)g=g^w.pbox[j],y=f(w,g)^y,_=g,g=y,y=_;return _=g,g=y,y=_,y=y^w.pbox[l],g=g^w.pbox[l+1],{left:g,right:y}}function m(w,b,p){let g=b,y=p,_;for(let j=l+1;j>1;--j)g=g^w.pbox[j],y=f(w,g)^y,_=g,g=y,y=_;return _=g,g=y,y=_,y=y^w.pbox[1],g=g^w.pbox[0],{left:g,right:y}}function x(w,b,p){for(let k=0;k<4;k++){w.sbox[k]=[];for(let C=0;C<256;C++)w.sbox[k][C]=u[k][C]}let g=0;for(let k=0;k<l+2;k++)w.pbox[k]=c[k]^b[g],g++,g>=p&&(g=0);let y=0,_=0,j=0;for(let k=0;k<l+2;k+=2)j=h(w,y,_),y=j.left,_=j.right,w.pbox[k]=y,w.pbox[k+1]=_;for(let k=0;k<4;k++)for(let C=0;C<256;C+=2)j=h(w,y,_),y=j.left,_=j.right,w.sbox[k][C]=y,w.sbox[k][C+1]=_;return!0}var v=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var w=this._keyPriorReset=this._key,b=w.words,p=w.sigBytes/4;x(d,b,p)}},encryptBlock:function(w,b){var p=h(d,w[b],w[b+1]);w[b]=p.left,w[b+1]=p.right},decryptBlock:function(w,b){var p=m(d,w[b],w[b+1]);w[b]=p.left,w[b+1]=p.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=i._createHelper(v)}(),n.Blowfish})}(L0)),L0.exports}(function(t,e){(function(n,r,s){t.exports=r(Re(),Xd(),F8(),R8(),ea(),O8(),ta(),C_(),cx(),I8(),S_(),M8(),L8(),z8(),ux(),H8(),li(),zt(),q8(),$8(),U8(),V8(),K8(),W8(),G8(),Q8(),Y8(),X8(),J8(),Z8(),eS(),tS(),nS(),rS(),sS())})(ge,function(n){return n})})(N_);var iS=N_.exports;const da=A_(iS),aS="DEMO",xv="DEMO_SECRET",oS="https://sandbox.vnpayment.vn/paymentv2/vpcpay.html",lS=`${window.location.origin}/payment-result`,gv="DEMO",vv="DEMO_KEY",cS="DEMO_SECRET",uS="https://test-payment.momo.vn/v2/gateway/api/create",bv=`${window.location.origin}/payment-result`,yv=`${window.location.origin}/api/momo-notify`,E_="local_orders",Jc="local_payment_methods",T_="local_shipping_address_",Ss=[{id:"cod",name:"Thanh ton khi nhn hng (COD)",type:"cod",is_active:!0},{id:"bank_transfer",name:"Chuyn khon ngn hng",type:"bank_transfer",is_active:!0},{id:"vnpay",name:"VNPay QR",type:"vnpay",is_active:!0},{id:"momo",name:"V MoMo",type:"momo",is_active:!0}],Ep="membership_reward",cc=()=>typeof window<"u"&&!!window.localStorage,ha=()=>{if(!cc())return[];const t=window.localStorage.getItem(E_);if(!t)return[];try{return JSON.parse(t)}catch(e){return console.warn("Khng th c n hng local:",e),[]}},Zc=t=>{cc()&&window.localStorage.setItem(E_,JSON.stringify(t))},wv=()=>{if(!cc())return Ss;const t=window.localStorage.getItem(Jc);if(!t)return window.localStorage.setItem(Jc,JSON.stringify(Ss)),Ss;try{const e=JSON.parse(t);return e.length?e:(window.localStorage.setItem(Jc,JSON.stringify(Ss)),Ss)}catch(e){return console.warn("Khng th c phng thc thanh ton local:",e),window.localStorage.setItem(Jc,JSON.stringify(Ss)),Ss}},dS=(t,e)=>{cc()&&window.localStorage.setItem(`${T_}${t}`,JSON.stringify(e))},hS=t=>{if(!cc())return null;const e=window.localStorage.getItem(`${T_}${t}`);if(!e)return null;try{return JSON.parse(e)}catch(n){return console.warn("Khng th c a ch giao hng local:",n),null}},fS=t=>ds.find(e=>e.id===t)??null,vd=(t,e,n,r)=>{t.order_status_history.push({status:e,notes:n,created_at:r})},_v=(t,e)=>{const n=Date.now();[{status:"buyer_confirmed",notes:"Ngi mua  xc nhn thanh ton thnh cng."},{status:"seller_confirmed",notes:"Ngi bn  xc nhn v chun b n hng."},{status:"shipping",notes:"Viettel Post  tip nhn v ang vn chuyn n hng."},{status:"delivered",notes:"Bn  xc nhn n hng thnh cng."}].forEach((s,i)=>{const o=new Date(n+(i+1)*500).toISOString();t.status=s.status,s.status==="buyer_confirmed"&&(t.confirmed_at=o,t.payment_status=e==="cod"?"unpaid":"paid"),s.status,s.status==="shipping"&&(t.shipped_at=o,t.logistics_provider="Viettel Post"),s.status==="delivered"&&(t.delivered_at=o,e==="cod"&&(t.payment_status="paid")),vd(t,s.status,s.notes,o)})},kv=async t=>{const e=Qd(t.product_id);if(!e||t.order_status_history.some(o=>o.status===Ep))return;const r=_t.getCurrentUser();if(!r||r.id!==t.user_id)return;const s=(r.stars??0)+e.rewardStars;await _t.updateUserStars(r.id,s);const i=new Date().toISOString();vd(t,Ep,` cng ${e.rewardStars} sao cho gi ${e.label}.`,i)},pS=async(t,e)=>{try{const{data:n}=await le.from("orders").select("user_id, product_id").eq("id",t).single();if(!n)return!1;const r=Qd(n.product_id);if(!r)return!1;const{data:s}=await le.from("user_profiles").select("stars").eq("user_id",n.user_id).single(),i=(s==null?void 0:s.stars)??0;return await le.from("user_profiles").update({stars:i+r.rewardStars}).eq("user_id",n.user_id),await le.from("order_status_history").insert({order_id:t,status:Ep,notes:` cng ${r.rewardStars} sao cho gi ${r.label}.`,created_by:e}),!0}catch(n){return console.warn("Khng th cng sao Supabase cho gi thnh vin:",n),!1}},$r={async getPaymentMethods(){if(!Ue)return wv();const{data:t,error:e}=await le.from("payment_methods").select("*").eq("is_active",!0);if(e)throw e;return t||[]},getSavedShippingAddress(t){return Ue?null:hS(t)},async createOrder(t){if(!Ue){const s=_t.getCurrentUser();if(!s)throw new Error("Cha ng nhp");const i=fS(t.product_id)??{id:t.product_id,name:"Sn phm khng xc nh",price:0,image_url:"https://images.pexels.com/photos/1076758/pexels-photo-1076758.jpeg"},o=wv(),l=o.find(m=>m.id===t.payment_method_id)??o[0],c=`local-order-${Date.now()}`,u=new Date().toISOString(),d=i.price*t.quantity,f={id:c,user_id:s.id,product_id:t.product_id,quantity:t.quantity,shipping_address:t.shipping_address,notes:t.notes,payment_method_id:(l==null?void 0:l.id)??t.payment_method_id,status:"pending",payment_status:"unpaid",total_amount:d,created_at:u,product_snapshot:{id:i.id,name:i.name,price:i.price,image_url:i.image_url},payment_method_snapshot:l??Ss[0],order_status_history:[]};vd(f,"pending","n hng c to t ngi mua.",u);const h=ha();return h.push(f),Zc(h),dS(s.id,t.shipping_address),c}const{data:{user:e}}=await le.auth.getUser();if(!e)throw new Error("Cha ng nhp");const{data:n,error:r}=await le.from("orders").insert({user_id:e.id,product_id:t.product_id,quantity:t.quantity,shipping_address:t.shipping_address,notes:t.notes,payment_method_id:t.payment_method_id,status:"pending",payment_status:"unpaid"}).select("id").single();if(r)throw r;if(!n)throw new Error("Khng th to n hng");return await le.from("order_status_history").insert({order_id:n.id,status:"pending",notes:"n hng c to",created_by:e.id}),n.id},async initiatePayment(t,e){if(!Ue){const r=ha(),s=r.find(i=>i.id===t);return s?(_v(s,e),await kv(s),Zc(r),{success:!0,orderId:t}):{success:!1,error:"Khng tm thy n hng"}}const{data:n}=await le.from("orders").select("*, products(*)").eq("id",t).single();if(!n)return{success:!1,error:"Khng tm thy n hng"};switch(e){case"vnpay":return this.createVNPayPayment(n);case"momo":return this.createMomoPayment(n);case"bank_transfer":return{success:!0,orderId:t,paymentUrl:`/payment-instructions?orderId=${t}`};case"cod":return await this.updateOrderStatus(t,"confirmed","unpaid"),{success:!0,orderId:t};default:return{success:!1,error:"Phng thc thanh ton khng hp l"}}},createVNPayPayment(t){const e=new Date().toISOString().replace(/[-:]/g,"").split(".")[0],n=t.id.replace(/-/g,"").substring(0,20),r=Math.round(t.total_amount*100),s={vnp_Version:"2.1.0",vnp_Command:"pay",vnp_TmnCode:aS,vnp_Amount:r.toString(),vnp_CreateDate:e,vnp_CurrCode:"VND",vnp_IpAddr:"127.0.0.1",vnp_Locale:"vn",vnp_OrderInfo:`Thanh toan don hang ${t.products.name}`,vnp_OrderType:"other",vnp_ReturnUrl:lS,vnp_TxnRef:n},i=Object.keys(s).sort().map(u=>`${u}=${s[u]}`).join("&"),l=da.HmacSHA512(i,xv).toString(da.enc.Hex);return{success:!0,paymentUrl:`${oS}?${i}&vnp_SecureHash=${l}`,orderId:t.id}},async createMomoPayment(t){const e=t.id.replace(/-/g,"").substring(0,20),n=Math.round(t.total_amount),r=e+new Date().getTime(),s=`accessKey=${vv}&amount=${n}&extraData=&ipnUrl=${yv}&orderId=${e}&orderInfo=Thanh toan don hang&partnerCode=${gv}&redirectUrl=${bv}&requestId=${r}&requestType=captureWallet`,i=da.HmacSHA256(s,cS).toString(da.enc.Hex),o={partnerCode:gv,accessKey:vv,requestId:r,amount:n,orderId:e,orderInfo:`Thanh ton n hng ${t.products.name}`,redirectUrl:bv,ipnUrl:yv,extraData:"",requestType:"captureWallet",signature:i,lang:"vi"};try{const c=await(await fetch(uS,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).json();return c.resultCode===0?{success:!0,paymentUrl:c.payUrl,orderId:t.id}:{success:!1,error:c.message||"Li kt ni Momo"}}catch{return{success:!1,error:"Khng th kt ni n Momo"}}},async verifyVNPayReturn(t){const e=t.vnp_SecureHash;delete t.vnp_SecureHash,delete t.vnp_SecureHashType;const n=Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&"),s=da.HmacSHA512(n,xv).toString(da.enc.Hex);if(e===s&&t.vnp_ResponseCode==="00"){const i=t.vnp_TxnRef;return await this.recordPaymentSuccess(i,"vnpay",t),!0}return!1},async recordPaymentSuccess(t,e,n){if(!Ue){const s=ha(),i=s.find(o=>o.id===t);i&&(i.order_status_history.length<=1&&_v(i,"vnpay"),i.payment_status="paid",await kv(i),Zc(s));return}const{data:{user:r}}=await le.auth.getUser();await le.from("orders").update({payment_status:"paid",status:"confirmed",confirmed_at:new Date().toISOString()}).eq("id",t),await le.from("payment_transactions").insert({order_id:t,amount:n.vnp_Amount?n.vnp_Amount/100:n.amount,status:"success",transaction_id:n.vnp_TransactionNo||n.transId,response_data:n,completed_at:new Date().toISOString()}),await pS(t,r==null?void 0:r.id),await le.from("order_status_history").insert({order_id:t,status:"confirmed",notes:"Thanh ton thnh cng",created_by:r==null?void 0:r.id})},async updateOrderStatus(t,e,n){if(!Ue){const i=ha(),o=i.find(c=>c.id===t);if(!o)return;const l=new Date().toISOString();o.status=e,n&&(o.payment_status=n),(e==="confirmed"||e==="buyer_confirmed")&&(o.confirmed_at=l),e==="shipping"&&(o.shipped_at=l,o.logistics_provider=o.logistics_provider||"Viettel Post"),e==="delivered"&&(o.delivered_at=l),vd(o,e,"Cp nht trng thi th cng.",l),Zc(i);return}const{data:{user:r}}=await le.auth.getUser(),s={status:e};n&&(s.payment_status=n),e==="confirmed"&&(s.confirmed_at=new Date().toISOString()),e==="shipping"&&(s.shipped_at=new Date().toISOString()),e==="delivered"&&(s.delivered_at=new Date().toISOString()),await le.from("orders").update(s).eq("id",t),await le.from("order_status_history").insert({order_id:t,status:e,created_by:r==null?void 0:r.id})},async getOrderDetails(t){if(!Ue){const r=ha().find(l=>l.id===t);if(!r)throw new Error("Khng tm thy n hng");const{product_snapshot:s,payment_method_snapshot:i,...o}=r;return{...o,products:s,payment_methods:i,order_status_history:r.order_status_history}}const{data:e,error:n}=await le.from("orders").select(`
        *,
        products(*),
        payment_methods:payment_method_id(*),
        payment_transactions(*),
        order_status_history(*)
      `).eq("id",t).single();if(n)throw n;return e},async getUserOrders(){if(!Ue){const r=_t.getCurrentUser();return r?ha().filter(i=>i.user_id===r.id).map(i=>{const{product_snapshot:o,payment_method_snapshot:l,...c}=i;return{...c,products:o,payment_methods:l}}):[]}const{data:{user:t}}=await le.auth.getUser();if(!t)return[];const{data:e,error:n}=await le.from("orders").select("*, products(*), payment_methods:payment_method_id(*)").eq("user_id",t.id).order("created_at",{ascending:!1});if(n)throw n;return e||[]}};function mS(){var Pe;const t=gt(),[e,n]=S.useState([]),[r,s]=S.useState(!0),[i,o]=S.useState(null),[l,c]=S.useState(""),[u,d]=S.useState(null),[f,h]=S.useState(new Set),[m,x]=S.useState({}),[v,w]=S.useState(null),[b,p]=S.useState({}),[g,y]=S.useState({}),[_,j]=S.useState(!1),[k,C]=S.useState(!1),[T,N]=S.useState({}),[B,A]=S.useState({}),D=S.useRef(async()=>{}),H=S.useRef(b);oc(),S.useEffect(()=>{H.current=b},[b]);const q=()=>{t("/login",{state:{from:"/shop"}})};S.useEffect(()=>{W(),I()},[]),S.useEffect(()=>{const F=sessionStorage.getItem("afterLogin");if(F&&u)try{const V=JSON.parse(F);if(V.page!=="shop")return;if(sessionStorage.removeItem("afterLogin"),V.productId){const Q=e.find(X=>X.id===V.productId);Q&&(V.action==="buyNow"?Me(Q):V.action==="chat"&&qe(Q))}}catch{}},[u,e]),S.useEffect(()=>{if(!u){h(new Set);return}K()},[u]);const W=async()=>{if(Ue)try{const{data:V,error:Q}=await le.auth.getUser();if(Q)console.warn("Khng th ly thng tin ngi dng Supabase:",Q.message);else if(V!=null&&V.user){d(V.user);return}}catch(V){console.warn("Supabase auth khng kh dng, chuyn sang local auth.",V)}const F=_t.getCurrentUser();d(F??null)},G=()=>{j(!0),n(ds);const F={};ds.forEach(X=>{F[X.id]=Zh.filter(pe=>pe.product_id===X.id)}),x(F);const V={};Object.entries(Yc).forEach(([X,pe])=>{V[X]=pe}),p(V),y({});const Q={};Object.entries(V).forEach(([X,pe])=>{const P=pe.filter(R=>U(R)).length;P>0&&(Q[X]=P)}),N(Q),A({})},I=async()=>{if(s(!0),x({}),p({}),y({}),N({}),A({}),C(!1),w(null),!Ue){G(),s(!1);return}try{const{data:F,error:V}=await le.from("products").select("*").order("created_at",{ascending:!1});if(V)throw V;const Q=F??[];if(!Q.length){G();return}j(!1),n(Q),Q.forEach(X=>E(X.id))}catch(F){console.error("Error fetching products:",F),G()}finally{s(!1)}},K=async()=>{try{const F=await $r.getUserOrders(),V=new Set((F||[]).map(Q=>String(Q.product_id)));h(V)}catch(F){console.warn("Khng th ti lch s n hng ca bn.",F),h(new Set)}},E=async(F,V={})=>{if(V.forceMock||!Ue){const Q=Zh.filter(X=>X.product_id===F);x(X=>({...X,[F]:Q}));return}try{const{data:Q,error:X}=await le.from("product_reviews").select("*").eq("product_id",F);if(X)throw X;x(pe=>({...pe,[F]:Q??[]}))}catch{const X=Zh.filter(pe=>pe.product_id===F);X.length&&x(pe=>({...pe,[F]:X}))}},O=async(F,V={})=>{if(V.forceMock||!Ue){const Q=H.current[F],X=Yc[F]??[],pe=Q&&Q.length?Q:X;se(F,pe);return}try{const{data:Q,error:X}=await le.from("seller_chats").select("*").eq("product_id",F).order("created_at",{ascending:!0});if(X)throw X;se(F,Q??[])}catch{Yc[F]&&se(F,Yc[F])}},M=F=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(F),U=F=>"author"in F&&F.author?F.author!=="buyer":"user_id"in F&&F.user_id?F.user_id!==(u==null?void 0:u.id):!0,z=(F,V)=>{const Q=V.reduce((X,pe)=>pe.created_at?X?new Date(pe.created_at).getTime()>new Date(X).getTime()?pe.created_at:X:pe.created_at:X,void 0);N(X=>{if(!X[F])return X;const pe={...X};return delete pe[F],pe}),Q&&A(X=>({...X,[F]:Q}))},de=(F,V)=>{const Q=B[F],X=V.filter(pe=>U(pe)?pe.created_at?Q?new Date(pe.created_at).getTime()>new Date(Q).getTime():!0:!Q:!1).length;N(pe=>{if(X===0){if(!pe[F])return pe;const P={...pe};return delete P[F],P}return{...pe,[F]:X}})},se=(F,V)=>{p(Q=>({...Q,[F]:V})),k&&(v==null?void 0:v.id)===F?z(F,V):de(F,V)},ve=Object.values(T).reduce((F,V)=>F+V,0),ee=v?b[v.id]??[]:[],Me=async F=>{if(!u){sessionStorage.setItem("afterLogin",JSON.stringify({action:"buyNow",productId:F.id,page:"shop"})),q();return}const V=`/checkout?productId=${F.id}&quantity=1`;window.location.href=V},qe=F=>{if(!u){sessionStorage.setItem("afterLogin",JSON.stringify({action:"chat",productId:F.id,page:"shop"})),q();return}w(F),C(!0);const V=b[F.id]??[];V.length&&z(F.id,V),O(F.id,{forceMock:_})},ze=F=>{if((v==null?void 0:v.id)===F&&v)return v;const V=e.find(X=>X.id===F);return V||(ds.find(X=>X.id===F)??null)},Ve=()=>{var F;if(ve>0){const V=(F=Object.entries(T).find(([,Q])=>Q>0))==null?void 0:F[0];if(V){const Q=e.find(X=>X.id===V)??ze(V);if(Q){qe(Q);return}}}if(v){k||(C(!0),ee.length&&z(v.id,ee));return}e.length&&qe(e[0])},me=S.useMemo(()=>{const F=new Set;return v!=null&&v.id&&F.add(v.id),Object.keys(b).forEach(V=>F.add(V)),Object.keys(T).forEach(V=>F.add(V)),Array.from(F).map(V=>{const Q=ze(V);return Q?{id:V,product:Q,name:Q.name,unread:T[V]??0}:null}).filter(V=>!!V)},[v,b,T,e,_]),_e=F=>{const V=ze(F);V&&qe(V)};S.useEffect(()=>{D.current=O}),S.useEffect(()=>{if(!Ue)return;const F=le.channel("shop-chat-updates").on("postgres_changes",{event:"INSERT",schema:"public",table:"seller_chats"},V=>{const Q=V.new;Q!=null&&Q.product_id&&D.current(String(Q.product_id))}).subscribe();return()=>{le.removeChannel(F)}},[Ue]);const $e=F=>{const V=m[F];if(!V||V.length===0)return null;const Q=V.reduce((pe,P)=>pe+((P==null?void 0:P.rating)??0),0);return{average:Math.round(Q/V.length*10)/10,count:V.length}},Qe=F=>"author"in F&&F.author?F.author==="buyer"?"Bn":F.author==="seller"?"Ngi bn":F.author:"user_id"in F&&F.user_id?F.user_id===(u==null?void 0:u.id)?"Bn":"Ngi mua":null,L=F=>{if(!F)return"";const V=new Date(F);return Number.isNaN(V.getTime())?"":new Intl.DateTimeFormat("vi-VN",{dateStyle:"medium"}).format(V)},Ye=F=>"author"in F&&F.author?F.author==="buyer"?"Bn":F.author==="seller"?"Ngi bn":F.author:"user_id"in F&&F.user_id?F.user_id===(u==null?void 0:u.id)?"Bn":"Ngi bn":"Khch",$=F=>{if(!F)return"";const V=new Date(F);return Number.isNaN(V.getTime())?"":new Intl.DateTimeFormat("vi-VN",{dateStyle:"short",timeStyle:"short"}).format(V)},oe=async F=>{const V=(g[F]??"").trim();if(V){if(!u){sessionStorage.setItem("afterLogin",JSON.stringify({action:"chat",productId:F,page:"shop"})),q();return}if(!Ue){const Q={id:`local-${Date.now()}`,product_id:F,author:"buyer",message:V,created_at:new Date().toISOString(),user_id:u.id},X=[...b[F]??[],Q];p(pe=>({...pe,[F]:X})),z(F,X),y(pe=>({...pe,[F]:""}));return}try{const{error:Q}=await le.from("seller_chats").insert({product_id:F,user_id:u.id,message:V});if(Q)throw Q;y(X=>({...X,[F]:""})),await O(F)}catch(Q){alert("Khng gi c  "+((Q==null?void 0:Q.message)??"li khng xc nh"))}}},he=e.filter(F=>{if(!l.trim())return!0;const V=l.trim().toLowerCase().split(/\s+/),Q=F.name.toLowerCase();return V.every(X=>Q.includes(X))}),be=i?$e(i.id):null;return a.jsxs("div",{className:"min-h-screen bg-brand-base pt-0",children:[a.jsx("div",{className:"relative h-80 bg-cover bg-center",style:{backgroundImage:"linear-gradient(rgba(47, 58, 69, 0.6), rgba(47, 58, 69, 0.75)), url(https://images.pexels.com/photos/1040945/pexels-photo-1040945.jpeg)"},children:a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center animate-fade-in-up",children:[a.jsx("h1",{className:"text-5xl md:text-7xl font-serif font-bold text-white mb-4",children:"SHOP"}),a.jsx("p",{className:"text-xl text-brand-sand font-serif italic",children:"Su tm di sn lch s"})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[a.jsxs("div",{className:"mb-8 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsx("input",{value:l,onChange:F=>c(F.target.value),placeholder:"Tm sn phm theo tn (v d: 'o', 'Sch')",className:"w-full px-4 py-3 border border-brand-blue/20 bg-white outline-none md:flex-1"}),u&&a.jsxs("button",{type:"button",onClick:Ve,className:"inline-flex items-center gap-2 self-start rounded-full border border-brand-blue px-4 py-2 text-sm font-semibold text-brand-blue transition hover:bg-brand-blue hover:text-white md:self-auto",children:[a.jsx(h2,{className:"h-4 w-4"}),a.jsx("span",{children:"Tin nhn"}),ve>0&&a.jsx("span",{className:"ml-2 flex h-5 min-w-[1.25rem] items-center justify-center rounded-full bg-brand-blue text-xs font-semibold text-white",children:ve})]})]}),_&&a.jsx("div",{className:"mb-8 rounded border border-dashed border-brand-blue/40 bg-brand-sand/40 px-4 py-3 text-sm text-brand-muted",children:"ang hin th d liu minh ho v cha kt ni Supabase."}),r?a.jsx("div",{className:"text-center text-brand-blue",children:a.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-brand-blue border-t-transparent rounded-full mx-auto"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:he.map(F=>{const V=$e(F.id);return a.jsxs("div",{className:"group relative overflow-hidden bg-white border border-brand-blue/20 hover:border-brand-blue transition-all duration-300 cursor-pointer fade-scroll",onClick:()=>o(F),children:[a.jsxs("div",{className:"relative h-64 overflow-hidden",children:[a.jsx("img",{src:F.image_url,alt:F.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-brand-text/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"text-xs text-brand-blue mb-2 uppercase tracking-wider",children:F.category}),a.jsx("h3",{className:"text-xl font-serif text-brand-text mb-2 group-hover:text-brand-blue transition-colors",children:F.name}),F.seller_name&&a.jsxs("p",{className:"text-xs text-brand-muted mb-2",children:["Ngi bn: ",F.seller_name]}),a.jsx("p",{className:"text-brand-muted text-sm mb-4 line-clamp-2",children:F.description}),V&&a.jsxs("div",{className:"mb-4 flex items-center gap-2 text-sm text-brand-text",children:[a.jsxs("span",{className:"flex items-center gap-1 text-brand-blue",children:[a.jsx(jr,{className:"w-4 h-4",fill:"currentColor"}),a.jsx("span",{children:V.average.toFixed(1)})]}),a.jsxs("span",{className:"text-xs text-brand-muted",children:["(",V.count," nh gi)"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-2xl font-serif text-brand-blue",children:M(F.price)}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:Q=>{Q.stopPropagation(),o(F)},className:"px-4 py-2 bg-brand-blue text-white text-sm uppercase tracking-wider hover:bg-brand-blue-600 transition-all duration-300",children:"Xem chi tit"}),a.jsx("button",{onClick:Q=>{Q.stopPropagation(),Me(F)},className:"px-4 py-2 border border-brand-blue text-brand-blue text-sm uppercase tracking-wider hover:bg-brand-blue hover:text-white transition-all duration-300",children:"Mua"})]})]}),f.has(F.id)&&a.jsx("div",{className:"mt-3 text-sm text-green-700",children:"Bn  mua sn phm ny trc y"})]})]},F.id)})})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-brand-text/40 z-50 flex items-center justify-center p-4 animate-fade-in",children:a.jsx("div",{className:"bg-white border-2 border-brand-blue max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>o(null),className:"absolute top-4 right-4 text-brand-muted hover:text-brand-blue transition-colors z-10",children:a.jsx(nd,{size:32})}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8 p-8",children:[a.jsx("div",{children:a.jsx("img",{src:i.image_url,alt:i.name,className:"w-full h-96 object-cover"})}),a.jsxs("div",{className:"flex flex-col justify-center",children:[a.jsx("div",{className:"text-xs text-brand-blue mb-2 uppercase tracking-wider",children:i.category}),a.jsx("h2",{className:"text-3xl font-serif text-brand-text mb-4",children:i.name}),a.jsx("p",{className:"text-brand-muted mb-6 leading-relaxed",children:i.description}),a.jsx("div",{className:"text-4xl font-serif text-brand-blue mb-4",children:M(i.price)}),be&&a.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-brand-blue",children:[a.jsx(jr,{className:"w-6 h-6",fill:"currentColor"}),a.jsx("span",{className:"text-3xl font-serif",children:be.average.toFixed(1)})]}),a.jsxs("span",{className:"text-sm text-brand-muted",children:["Tng ",be.count," nh gi"]})]}),(i.seller_name||i.seller_title||i.seller_location||i.seller_contact)&&a.jsxs("div",{className:"mb-6 border border-brand-blue/20 bg-brand-sand/40 p-4",children:[a.jsx("h4",{className:"font-serif text-lg text-brand-text mb-2",children:"Thng tin ngi bn"}),a.jsxs("div",{className:"space-y-1 text-sm text-brand-muted",children:[i.seller_name&&a.jsxs("p",{children:[a.jsx("span",{className:"text-brand-text",children:"Tn: "}),i.seller_name]}),i.seller_title&&a.jsxs("p",{children:[a.jsx("span",{className:"text-brand-text",children:"Chuyn mn: "}),i.seller_title]}),i.seller_location&&a.jsxs("p",{children:[a.jsx("span",{className:"text-brand-text",children:"Khu vc: "}),i.seller_location]}),i.seller_contact&&a.jsxs("p",{children:[a.jsx("span",{className:"text-brand-text",children:"Lin h: "}),i.seller_contact]})]}),_&&a.jsx("p",{className:"mt-3 text-xs text-brand-muted/80",children:"D liu minh ho cho tri nghim demo."})]}),a.jsxs("div",{className:"flex gap-3 mb-4",children:[a.jsx("button",{onClick:()=>Me(i),className:"px-6 py-3 bg-brand-blue text-white",children:"Mua ngay"}),a.jsxs("button",{onClick:()=>qe(i),className:"px-4 py-3 bg-brand-sand text-brand-text flex items-center gap-2",children:[a.jsx(Md,{})," Chat ngi bn"]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"font-serif text-lg mb-3",children:"nh gi & bnh lun"}),(Pe=m[i.id])!=null&&Pe.length?a.jsx("div",{className:"space-y-3",children:(m[i.id]||[]).map(F=>{const V=Qe(F),Q=L(F.created_at);return a.jsxs("div",{className:"rounded-lg border border-brand-blue/20 bg-white/80 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-brand-muted",children:[a.jsxs("span",{className:"flex items-center gap-2 text-brand-text",children:[a.jsx(jr,{className:"w-4 h-4",fill:"currentColor"}),a.jsxs("span",{children:[F.rating,"/5"]})]}),Q&&a.jsx("span",{children:Q})]}),a.jsx("p",{className:"mt-3 text-sm text-brand-text leading-relaxed whitespace-pre-line",children:F.comment}),V&&a.jsxs("div",{className:"mt-2 text-xs text-brand-muted italic",children:[" ",V]})]},F.id)})}):a.jsx("p",{className:"text-brand-muted",children:"Cha c nh gi no."})]})]})]})]})})}),v&&k&&a.jsx("div",{className:"fixed bottom-6 right-6 z-50 w-full max-w-md animate-fade-in",children:a.jsx("div",{className:"rounded-2xl border-2 border-brand-blue bg-white shadow-2xl",children:a.jsxs("div",{className:"flex",children:[me.length>0&&a.jsx("div",{className:"flex w-20 flex-col items-center gap-3 border-r border-brand-blue/10 bg-brand-base/20 px-3 py-4",children:me.map(F=>{const V=(v==null?void 0:v.id)===F.id,Q=F.product.image_url||"https://images.pexels.com/photos/1076758/pexels-photo-1076758.jpeg";return a.jsxs("button",{type:"button",onClick:()=>_e(F.id),className:`relative h-12 w-12 overflow-hidden rounded-full border transition ${V?"border-brand-blue ring-2 ring-brand-blue/40":"border-brand-blue/30 hover:border-brand-blue"}`,title:F.name,"aria-label":`Chat vi ${F.name}`,children:[a.jsx("img",{src:Q,alt:F.name,className:"h-full w-full object-cover"}),F.unread>0&&a.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 min-w-[1.1rem] items-center justify-center rounded-full bg-brand-blue text-[10px] font-semibold text-white",children:F.unread})]},F.id)})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between border-b border-brand-blue/20 px-5 py-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wider text-brand-blue",children:"Chat ngi bn"}),a.jsx("h3",{className:"font-serif text-lg text-brand-text",children:v.name})]}),a.jsx("button",{onClick:()=>C(!1),className:"text-brand-muted hover:text-brand-blue",children:a.jsx(nd,{})})]}),a.jsx("div",{className:"max-h-64 space-y-3 overflow-y-auto px-5 py-4",children:ee.length===0?a.jsx("p",{className:"py-6 text-center text-sm text-brand-muted",children:"Cha c tin nhn no. Hy l ngi m li!"}):ee.map(F=>{const V=Ye(F),Q=$(F.created_at);return a.jsxs("div",{className:"rounded-lg border border-brand-blue/20 bg-white/80 p-3",children:[a.jsxs("div",{className:"mb-1 flex items-center justify-between text-xs text-brand-muted",children:[a.jsx("span",{className:"font-semibold text-brand-text",children:V}),Q&&a.jsx("span",{children:Q})]}),a.jsx("div",{className:"text-sm text-brand-text leading-relaxed whitespace-pre-line",children:F.message})]},F.id)})}),a.jsxs("div",{className:"flex gap-2 border-t border-brand-blue/20 bg-brand-sand/30 px-5 py-4",children:[a.jsx("input",{className:"flex-1 rounded border border-brand-blue/30 px-3 py-2",placeholder:"Nhn tin...",value:g[v.id]??"",onChange:F=>y(V=>({...V,[v.id]:F.target.value}))}),a.jsx("button",{type:"button",onClick:()=>oe(v.id),disabled:!(g[v.id]??"").trim(),className:"px-4 py-2 bg-brand-blue text-white disabled:cursor-not-allowed disabled:opacity-50",children:"Gi"})]})]})]})})})]})}const z0="echoes_forum_posts_v1",H0="echoes_forum_comments_v1",q0="echoes_forum_reactions_v1",$0="echoes_forum_comment_reactions_v1",Bo=["Trao i lch s","Cm nhn c nhn","Bi nghin cu"],U0=["like","proud","haha","love"],Do={like:{label:"Like",icon:N2,accent:"text-sky-600"},proud:{label:"T ho",icon:qN,accent:"text-amber-600"},haha:{label:"Haha",icon:zN,accent:"text-emerald-600"},love:{label:"Tim",icon:g2,accent:"text-rose-600"}},eu=t=>new Date(t).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),jv=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`id-${Date.now()}-${Math.random().toString(16).slice(2,10)}`,tu=(t,e)=>{if(typeof window>"u")return e;const n=window.localStorage.getItem(t);if(!n)return e;try{return JSON.parse(n)}catch(r){return console.warn("Khng th c d liu forum t localStorage",r),e}},js=(t,e)=>{if(!(typeof window>"u"))try{window.localStorage.setItem(t,JSON.stringify(e))}catch(n){console.warn("Khng th lu d liu forum vo localStorage",n)}},V0=()=>({like:0,proud:0,haha:0,love:0}),xS=Date.now(),nn=t=>new Date(xS-t*60*60*1e3).toISOString(),Nv=[{id:"post-dien-bien-phu-nhung-chon-dau",title:"5 mc xoay chuyn chin dch in Bin Ph",content:"Mnh tng hp li nhng khonh khc chin lc nht ca chin dch in Bin Ph da trn ti liu lu tr v phng vn cu chin binh. Bn  nhit bn di gip hnh dung cng  giao tranh theo tng giai on. Clip phng s c  cui bi cng rt ng xem v ghi li khng kh tin tuyn.",category:"Trao i lch s",authorId:"user-historian",authorName:"Trn Minh An",createdAt:nn(42),updatedAt:nn(42),media:[{id:"media-dbp-map",kind:"image",url:"https://images.pexels.com/photos/1413412/pexels-photo-1413412.jpeg?auto=compress&cs=tinysrgb&w=1600",caption:"Bn  din bin ca chin dch theo tng tun l.",credit:"Ngun: Lu tr Bo tng Lch s Qun i"},{id:"media-dbp-video",kind:"video",url:"https://www.youtube.com/embed/pLh0sYj-G8g",caption:"Phng s in Bin Ph pht sng nm 1974"}]},{id:"post-bo-suu-tap-ky-vat",title:"Kho nh k vt hu phng gi tin tuyn",content:"Trong kho lu tr ca gia nh, mnh tm c lot th tay, khn thu v bng tay m b tng gi cho ng trong giai on 1953-1954. Chia s vi tm nh  mi ngi cng xem v trao i thm t liu.",category:"Cm nhn c nhn",authorId:"user-collector",authorName:"V Tho Nguyn",createdAt:nn(28),updatedAt:nn(24),media:[{id:"media-keepsake-letters",kind:"image",url:"https://images.pexels.com/photos/2882567/pexels-photo-2882567.jpeg?auto=compress&cs=tinysrgb&w=1600",caption:"B th tay c bo qun trong hp g nguyn bn."},{id:"media-keepsake-scarf",kind:"image",url:"https://images.pexels.com/photos/1106499/pexels-photo-1106499.jpeg?auto=compress&cs=tinysrgb&w=1600",caption:"Khn qung thu tay vi ha tit hoa vn dn tc Ty."}]},{id:"post-tu-lieu-am-nhac",title:'Giai iu "H ko pho" qua cc bn thu',content:'Tp hp mt s bn thu m "H ko pho" t thp nin 1960 n nay  so snh cch phi kh v cm xc th hin. Mnh cng nh km video hu trng ghi li dn hp xng luyn tp vo dp k nim chin thng nm ngoi.',category:"Bi nghin cu",authorId:"user-researcher",authorName:"ng Hi Yn",createdAt:nn(16),updatedAt:nn(12),media:[{id:"media-choir-video",kind:"video",url:"https://www.youtube.com/embed/evbW4GNzc34",caption:'Hu trng bui dn dng hp xng "H ko pho" 2024.'},{id:"media-score",kind:"image",url:"https://images.pexels.com/photos/164821/pexels-photo-164821.jpeg?auto=compress&cs=tinysrgb&w=1600",caption:"Bn chp tay ca khc c lu ti Nh vn ha in Bin."}]}],Cv=[{id:"comment-dbp-1",postId:"post-dien-bien-phu-nhung-chon-dau",parentId:null,authorId:"user-strategist",authorName:"L Hong Qun",content:"Bn  nhit ny rt trc quan! Bn c th chia s thm ngun d liu v phn b lc lng pho binh trong tun th hai khng?",createdAt:nn(34),updatedAt:nn(34)},{id:"comment-dbp-1-reply",postId:"post-dien-bien-phu-nhung-chon-dau",parentId:"comment-dbp-1",authorId:"user-historian",authorName:"Trn Minh An",content:"Mnh s ha t bo co ca i on 351. Mnh s xut li bng thng k v cp nht vo cui tun ny nh.",createdAt:nn(32),updatedAt:nn(32)},{id:"comment-keepsake-1",postId:"post-bo-suu-tap-ky-vat",parentId:null,authorId:"user-researcher",authorName:"ng Hi Yn",content:"Cht liu khn c v vn cn rt tt. Bn c th chp cn mt vi  mnh i chiu vi mu  Bo tng Ph n khng?",createdAt:nn(20),updatedAt:nn(20)},{id:"comment-keepsake-1-reply",postId:"post-bo-suu-tap-ky-vat",parentId:"comment-keepsake-1",authorId:"user-collector",authorName:"V Tho Nguyn",content:"c ch! Mnh s up thm b nh macro vo album drive v gi link ti nay.",createdAt:nn(18),updatedAt:nn(18)},{id:"comment-music-1",postId:"post-tu-lieu-am-nhac",parentId:null,authorId:"user-historian",authorName:"Trn Minh An",content:"Bn phi 1975 nghe dn b dy v nhn mnh phn ng rt hay. Bn c file m thanh lossless khng?",createdAt:nn(10),updatedAt:nn(10)}],Sv=[{postId:"post-dien-bien-phu-nhung-chon-dau",userId:"user-collector",emotion:"love"},{postId:"post-dien-bien-phu-nhung-chon-dau",userId:"user-strategist",emotion:"like"},{postId:"post-bo-suu-tap-ky-vat",userId:"user-historian",emotion:"proud"},{postId:"post-tu-lieu-am-nhac",userId:"user-collector",emotion:"love"},{postId:"post-tu-lieu-am-nhac",userId:"user-strategist",emotion:"haha"}],Ev=[{commentId:"comment-dbp-1",userId:"user-collector"},{commentId:"comment-keepsake-1",userId:"user-historian"},{commentId:"comment-music-1",userId:"user-researcher"}];function gS(){const t=gt(),[e,n]=S.useState(()=>gd()),[r,s]=S.useState([]),[i,o]=S.useState([]),[l,c]=S.useState([]),[u,d]=S.useState([]),[f,h]=S.useState(null),[m,x]=S.useState(!1),[v,w]=S.useState({title:"",content:"",category:Bo[0]}),[b,p]=S.useState(null),[g,y]=S.useState(""),[_,j]=S.useState({}),[k,C]=S.useState(null),[T,N]=S.useState({}),B=()=>{h(null),y(""),j({}),C(null),N({})},A=P=>{h(P),y(""),j({}),C(null),N({}),typeof window<"u"&&window.scrollTo({top:0,behavior:"smooth"})};S.useEffect(()=>{const P=tu(z0,[]);P.length===0?(s(Nv),js(z0,Nv)):s(P.map(ne=>({...ne,updatedAt:ne.updatedAt??ne.createdAt,media:ne.media??[]})));const R=tu(H0,[]);R.length===0&&P.length===0?(o(Cv),js(H0,Cv)):o(R.map(ne=>({...ne,parentId:ne.parentId??null,updatedAt:ne.updatedAt??ne.createdAt})));const J=tu(q0,[]);J.length===0&&P.length===0?(c(Sv),js(q0,Sv)):c(J);const te=tu($0,[]);te.length===0&&R.length===0?(d(Ev),js($0,Ev)):d(te)},[]),S.useEffect(()=>{const P=()=>n(gd());if(P(),!(typeof window>"u"))return window.addEventListener("storage",P),()=>window.removeEventListener("storage",P)},[]),S.useEffect(()=>{e||(x(!1),p(null),C(null),j({}),N({}))},[e]),S.useEffect(()=>{js(z0,r)},[r]),S.useEffect(()=>{js(H0,i)},[i]),S.useEffect(()=>{js(q0,l)},[l]),S.useEffect(()=>{js($0,u)},[u]),S.useEffect(()=>{f&&!r.some(P=>P.id===f)&&B()},[r,f]);const D=S.useMemo(()=>[...r].sort((P,R)=>new Date(R.createdAt).getTime()-new Date(P.createdAt).getTime()),[r]),H=S.useMemo(()=>{const P={};return D.forEach(R=>{P[R.id]=null}),i.forEach(R=>{const J=P[R.postId];(!J||new Date(R.createdAt).getTime()>new Date(J.createdAt).getTime())&&(P[R.postId]=R)}),P},[i,D]),q=S.useMemo(()=>{const P={};return i.forEach(R=>{P[R.postId]=(P[R.postId]||0)+1}),P},[i]),W=S.useMemo(()=>{const P={};return D.forEach(R=>{P[R.id]=V0()}),l.forEach(R=>{P[R.postId]||(P[R.postId]=V0()),P[R.postId][R.emotion]+=1}),P},[l,D]),G=S.useMemo(()=>{const P={};return Object.entries(W).forEach(([R,J])=>{P[R]=U0.reduce((te,ne)=>te+J[ne],0)}),P},[W]),I=S.useMemo(()=>f?r.find(P=>P.id===f)??null:null,[r,f]),K=S.useMemo(()=>{const P={};return i.forEach(R=>{R.parentId&&(P[R.parentId]||(P[R.parentId]=[]),P[R.parentId].push(R))}),Object.values(P).forEach(R=>R.sort((J,te)=>new Date(J.createdAt).getTime()-new Date(te.createdAt).getTime())),P},[i]),E=S.useMemo(()=>f?i.filter(P=>P.postId===f&&P.parentId===null).sort((P,R)=>new Date(P.createdAt).getTime()-new Date(R.createdAt).getTime()):[],[i,f]),O=S.useMemo(()=>{const P={};return u.forEach(R=>{P[R.commentId]=(P[R.commentId]||0)+1}),P},[u]),M=S.useMemo(()=>e?new Set(u.filter(P=>P.userId===e.id).map(P=>P.commentId)):new Set,[u,e]),U=S.useMemo(()=>{const P={};return r.forEach(R=>{P[R.authorId]||(P[R.authorId]={name:R.authorName,posts:0,comments:0}),P[R.authorId].posts+=1}),i.forEach(R=>{P[R.authorId]||(P[R.authorId]={name:R.authorName,posts:0,comments:0}),P[R.authorId].comments+=1}),Object.entries(P).map(([R,J])=>({id:R,...J})).sort((R,J)=>J.posts+J.comments-(R.posts+R.comments)).slice(0,3)},[r,i]),z=S.useMemo(()=>{const P={};return r.forEach(R=>{P[R.category]=(P[R.category]||0)+1}),Bo.map(R=>({name:R,count:P[R]||0}))},[r]),de=S.useMemo(()=>{const P=new Set;return r.forEach(R=>P.add(R.authorId)),i.forEach(R=>P.add(R.authorId)),P.size},[r,i]),se=S.useMemo(()=>{if(D.length===0)return null;let P=null,R=-1/0;const J=Date.now();return D.forEach(te=>{const ne=G[te.id]??0,ue=q[te.id]??0,Be=(J-new Date(te.createdAt).getTime())/(1e3*60*60),at=Math.max(0,72-Be),Ht=ne*2+ue*3+at;Ht>R&&(R=Ht,P=te)}),P},[D,G,q]),ve=S.useMemo(()=>{if(!e||!f)return null;const P=l.find(R=>R.postId===f&&R.userId===e.id);return(P==null?void 0:P.emotion)??null},[l,f,e]),ee=()=>e?!0:(t("/login"),!1),Me=()=>{ee()&&(p(null),w({title:"",content:"",category:Bo[0]}),x(!0))},qe=()=>{x(!1),p(null),w({title:"",content:"",category:Bo[0]})},ze=P=>{!ee()||(e==null?void 0:e.id)!==P.authorId||(w({title:P.title,content:P.content,category:P.category}),p(P.id),x(!0),B())},Ve=P=>{if(P.preventDefault(),!ee())return;const R=v.title.trim(),J=v.content.trim();if(!(!R||!J)){if(b){const te=new Date().toISOString();s(ne=>ne.map(ue=>ue.id===b?{...ue,title:R,content:J,category:v.category,updatedAt:te}:ue))}else{const te=new Date().toISOString(),ne={id:jv(),title:R,content:J,category:v.category,authorId:e.id,authorName:e.fullName,createdAt:te,updatedAt:te,media:[]};s(ue=>[ne,...ue])}qe()}},me=(P,R)=>{ee()&&c(J=>{const te=J.findIndex(Be=>Be.postId===P&&Be.userId===e.id);if(te===-1)return[...J,{postId:P,userId:e.id,emotion:R}];const ne=J[te];if(ne.emotion===R){const Be=[...J];return Be.splice(te,1),Be}const ue=[...J];return ue[te]={...ne,emotion:R},ue})},_e=P=>{if(!ee())return;const R=r.find(ne=>ne.id===P);if(!R||R.authorId!==e.id||!window.confirm("Bn c chc mun xa bi vit ny v ton b tho lun lin quan?"))return;const J=i.filter(ne=>ne.postId===P),te=new Set(J.map(ne=>ne.id));s(ne=>ne.filter(ue=>ue.id!==P)),o(ne=>ne.filter(ue=>ue.postId!==P)),c(ne=>ne.filter(ue=>ue.postId!==P)),d(ne=>ne.filter(ue=>!te.has(ue.commentId))),j(ne=>{const ue={...ne};return te.forEach(Be=>{delete ue[Be]}),ue}),N(ne=>{const ue={...ne};return te.forEach(Be=>{delete ue[Be]}),ue}),f===P&&B(),b===P&&p(null)},$e=(P,R=null)=>{if(P.preventDefault(),!ee()||!I)return;const te=(R?_[R]??"":g).trim();if(!te)return;const ne=new Date().toISOString(),ue={id:jv(),postId:I.id,parentId:R,authorId:e.id,authorName:e.fullName,content:te,createdAt:ne,updatedAt:ne};o(Be=>[...Be,ue]),R?j(Be=>{const at={...Be};return delete at[R],at}):y("")},Qe=P=>{ee()&&(k===P&&(C(null),N(R=>{const J={...R};return delete J[P],J})),j(R=>{if(R[P]!==void 0){const J={...R};return delete J[P],J}return{...R,[P]:""}}))},L=P=>{j(R=>{const J={...R};return delete J[P],J})},Ye=P=>{!ee()||(e==null?void 0:e.id)!==P.authorId||(C(P.id),N(R=>({...R,[P.id]:P.content})),j(R=>{if(R[P.id]===void 0)return R;const J={...R};return delete J[P.id],J}))},$=P=>{C(R=>R===P?null:R),N(R=>{const J={...R};return delete J[P],J})},oe=(P,R)=>{var ne;if(P.preventDefault(),!ee())return;const J=(ne=T[R])==null?void 0:ne.trim();if(!J)return;const te=new Date().toISOString();o(ue=>ue.map(Be=>Be.id===R?{...Be,content:J,updatedAt:te}:Be)),$(R)},he=P=>{if(!ee())return;const R=i.find(ne=>ne.id===P);if(!R||R.authorId!==e.id||!window.confirm("Bn c chc mun xa bnh lun ny cng cc phn hi pha di?"))return;const J=new Set,te=ne=>{J.add(ne),i.forEach(ue=>{ue.parentId===ne&&te(ue.id)})};te(P),o(ne=>ne.filter(ue=>!J.has(ue.id))),d(ne=>ne.filter(ue=>!J.has(ue.commentId))),j(ne=>{const ue={...ne};return J.forEach(Be=>{delete ue[Be]}),ue}),N(ne=>{const ue={...ne};return J.forEach(Be=>{delete ue[Be]}),ue}),k&&J.has(k)&&C(null)},be=P=>{ee()&&d(R=>{const J=R.findIndex(ne=>ne.commentId===P&&ne.userId===e.id);if(J===-1)return[...R,{commentId:P,userId:e.id}];const te=[...R];return te.splice(J,1),te})},Pe=(P,R=!1)=>{const J=W[P]??V0();return a.jsx("div",{className:`flex flex-wrap gap-4 ${R?"text-xs":"text-sm"} text-brand-muted`,children:U0.map(te=>{const ne=Do[te].icon,ue=J[te];return a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(ne,{size:R?14:16,className:Do[te].accent}),ue]},te)})})},F=P=>{if(P.length===0)return null;const R=P[0],J=R.caption??"Ni dung minh ha";return R.kind==="image"?a.jsxs("figure",{className:"mt-4 overflow-hidden rounded-2xl border border-brand-blue/10 bg-brand-sand/30",children:[a.jsx("img",{src:R.url,alt:J,className:"h-56 w-full object-cover",loading:"lazy"}),(R.caption||R.credit)&&a.jsxs("figcaption",{className:"px-4 py-3 text-xs text-brand-muted space-y-1",children:[R.caption&&a.jsx("p",{className:"font-semibold text-brand-text/80",children:R.caption}),R.credit&&a.jsx("p",{className:"italic",children:R.credit})]}),P.length>1&&a.jsxs("div",{className:"border-t border-brand-blue/10 bg-white/70 px-4 py-2 text-[11px] uppercase tracking-wide text-brand-muted",children:["+ ",P.length-1," ni dung km theo"]})]}):a.jsxs("figure",{className:"mt-4 overflow-hidden rounded-2xl border border-brand-blue/10 bg-black",children:[a.jsx("div",{className:"aspect-video",children:a.jsx("iframe",{src:R.url,title:J,className:"h-full w-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(R.caption||R.credit)&&a.jsxs("figcaption",{className:"px-4 py-3 text-xs text-brand-muted space-y-1 bg-white/80",children:[R.caption&&a.jsx("p",{className:"font-semibold text-brand-text/80",children:R.caption}),R.credit&&a.jsx("p",{className:"italic",children:R.credit})]}),P.length>1&&a.jsxs("div",{className:"border-t border-brand-blue/10 bg-white/70 px-4 py-2 text-[11px] uppercase tracking-wide text-brand-muted",children:["+ ",P.length-1," ni dung km theo"]})]})},V=P=>P.length===0?null:a.jsx("div",{className:"space-y-5",children:P.map(R=>{const J=R.caption??"Ni dung minh ha";return a.jsxs("figure",{className:"overflow-hidden rounded-2xl border border-brand-blue/15 bg-brand-sand/40",children:[R.kind==="image"?a.jsx("img",{src:R.url,alt:J,className:"w-full object-cover",loading:"lazy"}):a.jsx("div",{className:"aspect-video bg-black",children:a.jsx("iframe",{src:R.url,title:J,className:"h-full w-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(R.caption||R.credit)&&a.jsxs("figcaption",{className:"px-5 py-4 text-xs text-brand-muted space-y-1",children:[R.caption&&a.jsx("p",{className:"font-semibold text-brand-text/80",children:R.caption}),R.credit&&a.jsx("p",{className:"italic",children:R.credit})]})]},R.id)})}),Q=(P,R=0)=>{const J=K[P.id]??[],te=k===P.id,ne=O[P.id]??0,ue=M.has(P.id),Be=T[P.id]??P.content;return a.jsxs("div",{className:`space-y-3 ${R>0?"ml-8 border-l border-brand-blue/20 pl-5":""}`,children:[a.jsxs("div",{className:"rounded-2xl border border-brand-blue/15 bg-brand-sand/30 p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-brand-blue text-white flex items-center justify-center",children:a.jsx(Pi,{size:16})}),a.jsxs("div",{className:"flex flex-col text-sm text-brand-muted",children:[a.jsx("span",{className:"font-semibold text-brand-text",children:P.authorName}),a.jsxs("span",{children:[eu(P.createdAt),P.updatedAt!==P.createdAt&&a.jsx("span",{className:"ml-1 italic text-xs",children:"  chnh sa"})]})]})]}),te?a.jsxs("form",{onSubmit:at=>oe(at,P.id),className:"space-y-3",children:[a.jsx("textarea",{value:Be,onChange:at=>N(Ht=>({...Ht,[P.id]:at.target.value})),rows:3,className:"w-full rounded-2xl border border-brand-blue/40 px-4 py-3 resize-none focus:border-brand-blue outline-none",required:!0}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:()=>$(P.id),className:"rounded-full border border-brand-blue px-5 py-2 text-xs font-semibold text-brand-blue hover:bg-brand-blue hover:text-white transition",children:"Hy"}),a.jsx("button",{type:"submit",className:"rounded-full bg-brand-blue px-5 py-2 text-xs font-semibold text-white shadow-md shadow-brand-blue/30 hover:-translate-y-0.5 transition",children:"Lu thay i"})]})]}):a.jsx("p",{className:"text-sm text-brand-muted whitespace-pre-line leading-relaxed",children:P.content}),!te&&a.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-brand-muted",children:[a.jsxs("button",{type:"button",onClick:()=>be(P.id),className:`inline-flex items-center gap-2 transition ${ue?"text-brand-blue font-semibold":"hover:text-brand-text"}`,children:[a.jsx(N2,{size:14,className:ue?"text-brand-blue":"text-brand-muted"}),a.jsx("span",{children:"Thch"}),a.jsx("span",{className:"text-brand-text",children:ne})]}),a.jsxs("button",{type:"button",onClick:()=>Qe(P.id),className:"inline-flex items-center gap-2 hover:text-brand-text",children:[a.jsx(RN,{size:14}),"Tr li"]}),P.authorId===(e==null?void 0:e.id)&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{type:"button",onClick:()=>Ye(P),className:"inline-flex items-center gap-2 hover:text-brand-text",children:[a.jsx(Sh,{size:14}),"Chnh sa"]}),a.jsxs("button",{type:"button",onClick:()=>he(P.id),className:"inline-flex items-center gap-2 text-rose-600 hover:text-rose-700",children:[a.jsx(Eh,{size:14}),"Xa"]})]})]}),_[P.id]!==void 0&&!te&&a.jsxs("form",{onSubmit:at=>$e(at,P.id),className:"space-y-3",children:[a.jsx("textarea",{value:_[P.id]??"",onChange:at=>j(Ht=>({...Ht,[P.id]:at.target.value})),rows:3,placeholder:"Phn hi li bnh lun ny...",className:"w-full rounded-2xl border border-brand-blue/40 px-4 py-3 resize-none focus:border-brand-blue outline-none",required:!0}),a.jsxs("div",{className:"flex justify-end gap-3 text-xs",children:[a.jsx("button",{type:"button",onClick:()=>L(P.id),className:"rounded-full border border-brand-blue px-5 py-2 font-semibold text-brand-blue hover:bg-brand-blue hover:text-white transition",children:"Hy"}),a.jsx("button",{type:"submit",className:"rounded-full bg-brand-blue px-5 py-2 font-semibold text-white shadow-md shadow-brand-blue/30 hover:-translate-y-0.5 transition",children:"Gi phn hi"})]})]})]}),J.length>0&&a.jsx("div",{className:"space-y-3",children:J.map(at=>Q(at,R+1))})]},P.id)},X=l.length,pe=u.length;return a.jsxs("div",{className:"min-h-screen bg-brand-base",children:[a.jsx("div",{className:"relative h-80 bg-cover bg-center",style:{backgroundImage:"linear-gradient(rgba(47, 58, 69, 0.6), rgba(47, 58, 69, 0.75)), url(https://images.pexels.com/photos/2382665/pexels-photo-2382665.jpeg)"},children:a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center animate-fade-in-up",children:[a.jsx("h1",{className:"text-5xl md:text-7xl font-serif font-bold text-white mb-4",children:"DIN N"}),a.jsx("p",{className:"text-xl text-brand-sand font-serif italic",children:"Trao i v kt ni cng ng yu lch s"})]})})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-14 space-y-10",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-brand-text/70 text-sm",children:"ng bi, phn hi a tng, th cm xc v tng tc cng nhng nh nghin cu lch s khc."}),e?a.jsxs("button",{onClick:Me,className:"inline-flex items-center gap-2 px-6 py-3 bg-brand-blue text-white font-semibold shadow-lg shadow-brand-blue/20 hover:-translate-y-0.5 transition",type:"button",children:[a.jsx(WN,{size:18}),"To bi vit"]}):a.jsxs("button",{onClick:()=>t("/login"),className:"inline-flex items-center gap-2 px-6 py-3 border border-brand-blue text-brand-blue font-semibold hover:bg-brand-blue hover:text-white transition",type:"button",children:[a.jsx(Ju,{size:18}),"ng nhp  tham gia"]})]}),a.jsxs("div",{className:"grid gap-10 lg:grid-cols-[minmax(0,3fr)_minmax(0,2fr)]",children:[a.jsx("section",{className:"space-y-6",children:D.length===0?a.jsxs("div",{className:"rounded-3xl border border-dashed border-brand-blue/30 bg-white/80 px-8 py-12 text-center text-brand-muted",children:[a.jsx("p",{className:"text-lg font-semibold text-brand-text mb-2",children:"Cha c bi vit no."}),a.jsx("p",{className:"text-sm",children:e?"Hy l ngi m u cuc tho lun vi mt bi vit mi.":"ng nhp  tr thnh ngi m u cuc tho lun."})]}):D.map(P=>a.jsxs("article",{className:"bg-white border border-brand-blue/15 shadow-sm hover:shadow-xl transition rounded-3xl p-6 md:p-8 cursor-pointer",onClick:()=>A(P.id),children:[a.jsxs("header",{className:"flex flex-wrap items-start justify-between gap-3 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-11 h-11 rounded-full bg-brand-blue text-white flex items-center justify-center",children:a.jsx(Pi,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-brand-text",children:P.authorName}),a.jsxs("p",{className:"text-xs text-brand-muted",children:[eu(P.createdAt),P.updatedAt!==P.createdAt&&a.jsx("span",{className:"ml-1 italic",children:"  chnh sa"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"inline-flex items-center rounded-full border border-brand-blue/40 bg-brand-sand/70 px-3 py-1 text-xs font-semibold text-brand-blue",children:P.category}),(e==null?void 0:e.id)===P.authorId&&a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsxs("button",{type:"button",onClick:R=>{R.stopPropagation(),ze(P)},className:"inline-flex items-center gap-1 rounded-full border border-brand-blue px-3 py-1 text-brand-blue hover:bg-brand-blue hover:text-white transition",children:[a.jsx(Sh,{size:14}),"Sa"]}),a.jsxs("button",{type:"button",onClick:R=>{R.stopPropagation(),_e(P.id)},className:"inline-flex items-center gap-1 rounded-full border border-rose-500/70 px-3 py-1 text-rose-600 hover:bg-rose-600 hover:text-white transition",children:[a.jsx(Eh,{size:14}),"Xa"]})]})]})]}),a.jsx("h3",{className:"text-2xl font-serif text-brand-text mb-2",children:P.title}),a.jsx("p",{className:"text-brand-muted line-clamp-3 mb-4 whitespace-pre-line",children:P.content}),F(P.media),a.jsxs("div",{className:"rounded-2xl border border-brand-blue/10 bg-brand-sand/40 p-4 mb-4 text-sm text-brand-muted",children:[a.jsx("p",{className:"uppercase text-xs tracking-wide text-brand-muted/70",children:"Bnh lun gn nht"}),H[P.id]?a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsxs("p",{className:"text-brand-text text-sm line-clamp-2",children:["",H[P.id].content,""]}),a.jsxs("p",{className:"text-xs text-brand-muted",children:[" ",H[P.id].authorName," "," ",eu(H[P.id].createdAt)]})]}):a.jsx("p",{className:"mt-2 text-sm",children:"Cha c bnh lun no."})]}),a.jsxs("footer",{className:"flex flex-wrap items-center gap-5",children:[Pe(P.id,!0),a.jsxs("button",{type:"button",onClick:R=>{R.stopPropagation(),ee()&&A(P.id)},className:"inline-flex items-center gap-2 text-brand-blue text-sm hover:text-brand-text transition",children:[a.jsx(Md,{size:16}),a.jsxs("span",{children:[q[P.id]??0," bnh lun"]})]})]})]},P.id))}),a.jsx("aside",{className:"space-y-6",children:a.jsxs("div",{className:"rounded-3xl border border-brand-blue/15 bg-white/90 p-6 space-y-6 shadow-lg shadow-brand-blue/10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-blue/90 text-white flex items-center justify-center",children:a.jsx(Ja,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-brand-blue uppercase tracking-wide",children:"Phng tng tc"}),a.jsx("p",{className:"text-xs text-brand-muted",children:"Nhng hot ng ni bt nht hm nay"})]})]}),a.jsxs("div",{className:"rounded-2xl border border-brand-blue/20 bg-brand-sand/40 p-4 space-y-3",children:[a.jsx("p",{className:"text-xs font-semibold text-brand-muted uppercase tracking-wide",children:"Bi vit ang ni"}),se?a.jsxs("button",{type:"button",onClick:()=>A(se.id),className:"text-left space-y-2",children:[a.jsx("p",{className:"text-brand-text font-serif text-lg",children:se.title}),a.jsx("p",{className:"text-xs text-brand-muted line-clamp-2",children:se.content}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-brand-muted",children:[a.jsxs("span",{children:[q[se.id]??0," bnh lun"]}),a.jsxs("span",{children:[G[se.id]??0," cm xc"]})]})]}):a.jsx("p",{className:"text-sm text-brand-muted",children:"Hy ng bi  to ch  u tin!"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-brand-muted uppercase tracking-wide mb-3",children:"Danh mc c quan tm"}),a.jsx("div",{className:"space-y-3",children:z.map(({name:P,count:R})=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-brand-muted",children:[a.jsx("span",{children:P}),a.jsxs("span",{children:[R," bi"]})]}),a.jsx("div",{className:"h-2 rounded-full bg-brand-sand/60",children:a.jsx("div",{className:"h-full rounded-full bg-brand-blue",style:{width:`${D.length===0?0:Math.min(100,R/D.length*100)}%`}})})]},P))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-brand-muted uppercase tracking-wide mb-3",children:"Thnh vin hot ng mnh"}),U.length===0?a.jsx("p",{className:"text-sm text-brand-muted",children:"Cha c thnh vin ni bt."}):a.jsx("ul",{className:"space-y-3 text-sm text-brand-muted",children:U.map(P=>a.jsxs("li",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-brand-text",children:P.name}),a.jsxs("span",{children:[P.posts," bi  ",P.comments," phn hi"]})]},P.id))})]}),a.jsxs("div",{className:"rounded-2xl border border-brand-blue/20 bg-brand-sand/40 p-4 text-xs text-brand-muted leading-relaxed",children:[a.jsxs("p",{children:[de," thnh vin  tham gia tho lun."]}),a.jsxs("p",{children:[r.length," bi vit  ",i.length," bnh lun  ",X+pe," cm xc c trao."]})]})]})]})})]})]}),m&&a.jsx("div",{className:"fixed inset-0 z-50 bg-brand-text/40 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:a.jsx("div",{className:"w-full max-w-3xl bg-white border border-brand-blue/30 rounded-3xl shadow-2xl max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("header",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-serif text-brand-text",children:b?"Chnh sa bi vit":"To bi vit mi"}),a.jsx("p",{className:"text-sm text-brand-muted mt-1",children:b?"Cp nht li gc nhn ca bn  mi ngi cng tip tc tho lun.":"Chia s gc nhn lch s cng cng ng."})]}),a.jsx("button",{type:"button",onClick:qe,className:"text-brand-muted hover:text-brand-text",children:""})]}),a.jsxs("form",{onSubmit:Ve,className:"space-y-5",children:[a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"font-semibold text-brand-text",children:"Danh mc"}),a.jsx("select",{value:v.category,onChange:P=>w({...v,category:P.target.value}),className:"rounded-2xl border border-brand-blue/30 px-4 py-3",children:Bo.map(P=>a.jsx("option",{value:P,children:P},P))})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"font-semibold text-brand-text",children:"Tiu "}),a.jsx("input",{value:v.title,onChange:P=>w({...v,title:P.target.value}),placeholder:"V d: 5 giai on quan trng ca chin dch in Bin Ph",className:"rounded-2xl border border-brand-blue/30 px-4 py-3",required:!0})]}),a.jsxs("label",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("span",{className:"font-semibold text-brand-text",children:"Ni dung"}),a.jsx("textarea",{value:v.content,onChange:P=>w({...v,content:P.target.value}),placeholder:"Chia s quan im, t liu hoc cu hi ca bn...",rows:8,className:"rounded-2xl border border-brand-blue/30 px-4 py-3 resize-none",required:!0})]}),a.jsxs("div",{className:"flex flex-col-reverse gap-3 sm:flex-row sm:justify-end",children:[a.jsx("button",{type:"button",onClick:qe,className:"rounded-full border border-brand-blue px-6 py-3 text-sm font-semibold text-brand-blue hover:bg-brand-blue hover:text-white transition",children:"Hy"}),a.jsx("button",{type:"submit",className:"rounded-full bg-brand-blue px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-brand-blue/30 hover:-translate-y-0.5 transition",children:b?"Lu bi vit":"ng bi"})]})]})]})})}),I&&a.jsx("div",{className:"fixed inset-0 z-40 bg-brand-text/50 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:a.jsx("div",{className:"w-full max-w-4xl bg-white border border-brand-blue/20 rounded-3xl shadow-2xl max-h-[92vh] overflow-y-auto",children:a.jsxs("div",{className:"p-8 space-y-8",children:[a.jsxs("header",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-brand-blue text-white flex items-center justify-center",children:a.jsx(Pi,{size:22})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-brand-text",children:I.authorName}),a.jsxs("p",{className:"text-xs text-brand-muted",children:[eu(I.createdAt),I.updatedAt!==I.createdAt&&a.jsx("span",{className:"ml-1 italic",children:"  chnh sa"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[I.authorId===(e==null?void 0:e.id)&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{type:"button",onClick:()=>ze(I),className:"inline-flex items-center gap-2 rounded-full border border-brand-blue px-3 py-1 text-xs font-semibold text-brand-blue hover:bg-brand-blue hover:text-white transition",children:[a.jsx(Sh,{size:14}),"Sa bi"]}),a.jsxs("button",{type:"button",onClick:()=>_e(I.id),className:"inline-flex items-center gap-2 rounded-full border border-rose-500/70 px-3 py-1 text-xs font-semibold text-rose-600 hover:bg-rose-600 hover:text-white transition",children:[a.jsx(Eh,{size:14}),"Xa bi"]})]}),a.jsx("button",{type:"button",onClick:B,className:"text-brand-muted hover:text-brand-text",children:""})]})]}),a.jsx("span",{className:"inline-flex items-center rounded-full border border-brand-blue/40 bg-brand-sand/70 px-3 py-1 text-xs font-semibold text-brand-blue",children:I.category}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-3xl font-serif text-brand-text",children:I.title}),a.jsx("p",{className:"text-brand-muted whitespace-pre-line leading-relaxed",children:I.content})]}),V(I.media),a.jsxs("section",{className:"space-y-4 border-t border-brand-blue/10 pt-6",children:[a.jsx("div",{className:"flex flex-wrap items-center gap-3",children:U0.map(P=>{const R=Do[P].icon,J=ve===P;return a.jsxs("button",{type:"button",onClick:()=>me(I.id,P),className:`inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm transition ${J?"border-brand-blue bg-brand-blue text-white shadow":"border-brand-blue/30 text-brand-text hover:border-brand-blue"}`,children:[a.jsx(R,{size:16,className:J?"text-white":Do[P].accent}),Do[P].label]},P)})}),Pe(I.id)]}),a.jsxs("section",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-serif text-brand-text",children:"Bnh lun"}),e?a.jsxs("form",{onSubmit:P=>$e(P,null),className:"space-y-3",children:[a.jsx("textarea",{value:g,onChange:P=>y(P.target.value),placeholder:"Chia s  kin ca bn...",rows:3,className:"w-full rounded-2xl border border-brand-blue/30 px-4 py-3 resize-none focus:border-brand-blue outline-none",required:!0}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-full bg-brand-blue px-6 py-2 text-sm font-semibold text-white shadow-md shadow-brand-blue/30 hover:-translate-y-0.5 transition",children:[a.jsx(_2,{size:16}),"Gi bnh lun"]})})]}):a.jsxs("div",{className:"rounded-2xl border border-brand-blue/20 bg-brand-sand/40 p-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-sm text-brand-text",children:"ng nhp  bnh lun v kt ni vi cng ng yu lch s."}),a.jsxs("button",{type:"button",onClick:()=>t("/login"),className:"inline-flex items-center gap-2 rounded-full bg-brand-blue px-5 py-2 text-sm font-semibold text-white hover:-translate-y-0.5 transition",children:[a.jsx(Ju,{size:16}),"ng nhp"]})]}),a.jsx("div",{className:"space-y-4",children:E.length===0?a.jsx("p",{className:"text-sm text-brand-muted",children:"Cha c bnh lun no. Hy m u cuc tr chuyn!"}):E.map(P=>Q(P))})]})]})})})]})}function vS(){oc();const t=[{icon:p2,title:"Virtual Reality History Tours",description:"Tri nghim lch s Vit Nam qua cng ngh thc t o. Khm ph cc di tch lch s, chin trng ni ting v nhng khonh khc quan trng nh th bn ang sng trong thi khc ."},{icon:TN,title:"Digital Archives for Students",description:"Kho lu tr s ho cc ti liu lch s, hnh nh, video v bi nghin cu. Phc v hc sinh, sinh vin v nh nghin cu vi ngun ti liu chnh xc v y ."},{icon:Ld,title:"Cultural Workshops",description:"T chc cc bui hi tho, workshop v vn ha v lch s Vit Nam. Kt ni cc nh nghin cu, gio vin v ngi yu lch s  chia s kin thc v tri nghim."}];return a.jsxs("div",{className:"min-h-screen bg-brand-base pt-0",children:[a.jsx("div",{className:"relative h-80 bg-cover bg-center",style:{backgroundImage:"linear-gradient(rgba(47, 58, 69, 0.6), rgba(47, 58, 69, 0.75)), url(https://images.pexels.com/photos/1670723/pexels-photo-1670723.jpeg)"},children:a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center animate-fade-in-up",children:[a.jsx("h1",{className:"text-5xl md:text-7xl font-serif font-bold text-white mb-4",children:"DCH V & IU KHON"}),a.jsx("p",{className:"text-xl text-brand-sand font-serif italic",children:"Phc v cng ng yu lch s"})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[a.jsxs("section",{className:"mb-20",children:[a.jsxs("div",{className:"text-center mb-12 scroll-animate",children:[a.jsx("h2",{className:"text-4xl font-serif text-brand-text mb-4 parallax-text",children:"Dch V Ca Chng Ti"}),a.jsx("div",{className:"w-24 h-1 bg-brand-blue mx-auto"})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map((e,n)=>a.jsxs("div",{className:"group relative bg-white border-2 border-brand-blue/20 hover:border-brand-blue p-8 transition-all duration-300 fade-scroll shadow-soft hover:shadow-medium",children:[a.jsx("div",{className:"absolute top-0 left-8 transform -translate-y-1/2 w-16 h-16 bg-brand-blue flex items-center justify-center group-hover:bg-brand-sand transition-colors duration-300",children:a.jsx(e.icon,{size:32,className:"text-white group-hover:text-brand-text transition-colors duration-300"})}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-2xl font-serif text-brand-text mb-4 group-hover:text-brand-blue transition-colors",children:e.title}),a.jsx("p",{className:"text-brand-muted leading-relaxed",children:e.description})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{className:"text-brand-blue hover:text-brand-muted transition-colors",children:"Tm hiu thm "})})]},n))})]}),a.jsx("div",{className:"h-1 bg-brand-blue/20 my-16"}),a.jsxs("section",{children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl font-serif text-brand-text mb-4",children:"iu Khon S Dng"}),a.jsx("div",{className:"w-24 h-1 bg-brand-blue mx-auto"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white border border-brand-blue/20 p-8 shadow-soft",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx(Xa,{className:"text-brand-blue",size:32}),a.jsx("h3",{className:"text-2xl font-serif text-brand-text",children:"Chnh Sch Bo Mt"})]}),a.jsxs("div",{className:"space-y-4 text-brand-muted",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-brand-blue font-sans mb-2",children:"1. Thu Thp Thng Tin"}),a.jsx("p",{className:"text-sm leading-relaxed",children:"Chng ti thu thp thng tin c nhn khi bn ng k ti khon, tham gia din n, hoc mua sm trn website. Thng tin bao gm tn, email, v thng tin thanh ton."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-brand-blue font-sans mb-2",children:"2. S Dng Thng Tin"}),a.jsx("p",{className:"text-sm leading-relaxed",children:"Thng tin ca bn c s dng  ci thin tri nghim ngi dng, x l n hng, v gi thng bo v cc hot ng lin quan n ti khon ca bn."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-brand-blue font-sans mb-2",children:"3. Bo V Thng Tin"}),a.jsx("p",{className:"text-sm leading-relaxed",children:"Chng ti p dng cc bin php bo mt tin tin  bo v thng tin c nhn ca bn khi truy cp tri php, thay i, tit l hoc ph hy."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-brand-blue font-sans mb-2",children:"4. Chia S Thng Tin"}),a.jsx("p",{className:"text-sm leading-relaxed",children:"Chng ti khng bn, trao i hoc chuyn giao thng tin c nhn ca bn cho bn th ba m khng c s ng  ca bn, tr khi c yu cu bi php lut."})]})]})]}),a.jsxs("div",{className:"bg-white border border-brand-blue/20 p-8 shadow-soft",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx(x2,{className:"text-brand-blue",size:32}),a.jsx("h3",{className:"text-2xl font-serif text-brand-text",children:"Bn Quyn & Ni Dung"})]}),a.jsxs("div",{className:"space-y-4 text-brand-muted",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-brand-blue font-sans mb-2",children:"1. Quyn S Hu Tr Tu"}),a.jsx("p",{className:"text-sm leading-relaxed",children:"Tt c ni dung trn website ny, bao gm vn bn, hnh nh, video, logo v thit k u thuc quyn s hu ca Echoes of Vit Nam hoc c cp php s dng hp php."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-brand-blue font-sans mb-2",children:"2. S Dng Ni Dung"}),a.jsx("p",{className:"text-sm leading-relaxed",children:"Bn c th xem, ti xung v in ni dung cho mc ch c nhn, phi thng mi. Vic sao chp, phn phi hoc s dng ni dung cho mc ch thng mi phi c s ng  bng vn bn t chng ti."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-brand-blue font-sans mb-2",children:"3. Ni Dung Ngi Dng"}),a.jsx("p",{className:"text-sm leading-relaxed",children:"Khi ng ni dung ln din n, bn gi quyn s hu nhng cp cho chng ti quyn s dng, sa i v hin th ni dung  trn website."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-brand-blue font-sans mb-2",children:"4. Trch Nhim Ngi Dng"}),a.jsx("p",{className:"text-sm leading-relaxed",children:"Ngi dng chu trch nhim v ni dung mnh ng ti. Nghim cm ng ni dung vi phm php lut, xc phm, hoc xm phm quyn ca ngi khc."})]})]})]})]}),a.jsxs("div",{className:"mt-8 bg-brand-blue/10 border border-brand-blue/20 p-8",children:[a.jsx("h3",{className:"text-2xl font-serif text-brand-text mb-4",children:"iu Khon Chung"}),a.jsxs("div",{className:"space-y-3 text-brand-muted text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-brand-blue",children:" "}),"Chng ti c quyn cp nht cc iu khon ny bt k lc no. Nhng thay i s c hiu lc ngay khi c ng ti trn website."]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-brand-blue",children:" "}),"Vic tip tc s dng website sau khi c thay i ng ngha vi vic bn chp nhn cc iu khon mi."]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-brand-blue",children:" "}),"Nu c bt k cu hi no v cc iu khon ny, vui lng lin h vi chng ti qua trang Lin H."]})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("p",{className:"text-brand-muted text-sm",children:["Cp nht ln cui: ",new Date().toLocaleDateString("vi-VN")]})})]})]})]})}function bS(){oc();const[t,e]=S.useState({full_name:"",email:"",message:""}),[n,r]=S.useState(!1),[s,i]=S.useState("idle"),o=async l=>{l.preventDefault(),r(!0),i("idle");try{const{error:c}=await le.from("contact_submissions").insert([t]);if(c)throw c;i("success"),e({full_name:"",email:"",message:""}),setTimeout(()=>{i("idle")},5e3)}catch(c){console.error("Error submitting form:",c),i("error")}finally{r(!1)}};return a.jsxs("div",{className:"min-h-screen bg-brand-base pt-0",children:[a.jsx("div",{className:"relative h-80 bg-cover bg-center",style:{backgroundImage:"linear-gradient(rgba(47, 58, 69, 0.6), rgba(47, 58, 69, 0.75)), url(https://images.pexels.com/photos/1670723/pexels-photo-1670723.jpeg)"},children:a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center animate-fade-in-up",children:[a.jsx("h1",{className:"text-5xl md:text-7xl font-serif font-bold text-white mb-4",children:"LIN H"}),a.jsx("p",{className:"text-xl text-brand-sand font-serif italic",children:"Kt ni cng chng ti"})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"scroll-animate",children:[a.jsx("h2",{className:"text-3xl font-serif text-brand-text mb-6",children:"Gi Tin Nhn Cho Chng Ti"}),a.jsx("p",{className:"text-brand-muted mb-8 leading-relaxed",children:"Chng ti lun sn sng lng nghe  kin ng gp, cu hi v phn hi t bn. Hy in thng tin vo form bn di v chng ti s phn hi trong thi gian sm nht."}),a.jsxs("form",{onSubmit:o,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-brand-text mb-2 font-sans",children:["H Tn ",a.jsx("span",{className:"text-rose-500",children:"*"})]}),a.jsx("input",{type:"text",value:t.full_name,onChange:l=>e({...t,full_name:l.target.value}),className:"w-full px-4 py-3 bg-white border border-brand-blue/30 text-brand-text focus:border-brand-blue outline-none transition-colors duration-300",placeholder:"Nhp h tn ca bn",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-brand-text mb-2 font-sans",children:["Email ",a.jsx("span",{className:"text-rose-500",children:"*"})]}),a.jsx("input",{type:"email",value:t.email,onChange:l=>e({...t,email:l.target.value}),className:"w-full px-4 py-3 bg-white border border-brand-blue/30 text-brand-text focus:border-brand-blue outline-none transition-colors duration-300",placeholder:"email@example.com",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-brand-text mb-2 font-sans",children:["Ni Dung ",a.jsx("span",{className:"text-rose-500",children:"*"})]}),a.jsx("textarea",{value:t.message,onChange:l=>e({...t,message:l.target.value}),rows:6,className:"w-full px-4 py-3 bg-white border border-brand-blue/30 text-brand-text focus:border-brand-blue outline-none transition-colors duration-300 resize-none",placeholder:"Nhp ni dung tin nhn ca bn...",required:!0})]}),a.jsxs("button",{type:"submit",disabled:n,className:"group relative w-full py-4 bg-brand-blue text-white font-sans tracking-wider uppercase overflow-hidden transition-all duration-300 hover:shadow-brand disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsxs("span",{className:"relative z-10 flex items-center justify-center space-x-2",children:[a.jsx(_2,{size:20}),a.jsx("span",{children:n?"ang Gi...":"Gi Tin Nhn"})]}),a.jsx("div",{className:"absolute inset-0 bg-brand-sand/60 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]}),s==="success"&&a.jsx("div",{className:"p-4 bg-emerald-50 border border-emerald-300 text-emerald-700 animate-fade-in",children:"Cm n bn  lin h! Chng ti s phn hi sm nht c th."}),s==="error"&&a.jsx("div",{className:"p-4 bg-rose-50 border border-rose-300 text-rose-700 animate-fade-in",children:"C li xy ra. Vui lng th li sau."})]})]}),a.jsxs("div",{className:"space-y-8 fade-scroll",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-serif text-brand-text mb-6",children:"Thng Tin Lin H"}),a.jsx("p",{className:"text-brand-muted mb-8 leading-relaxed",children:"Hy kt ni vi chng ti qua cc knh thng tin di y  cp nht nhng ni dung mi nht v lch s v vn ha Vit Nam."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4 p-6 bg-white border border-brand-blue/20 hover:border-brand-blue transition-colors duration-300 scroll-animate shadow-soft",children:[a.jsx("div",{className:"w-12 h-12 bg-brand-blue flex items-center justify-center flex-shrink-0",children:a.jsx(nc,{className:"text-white",size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-brand-text font-serif text-lg mb-1",children:"Email"}),a.jsx("p",{className:"text-brand-blue",children:"contact@echoesvietnam.vn"}),a.jsx("p",{className:"text-brand-muted text-sm mt-1",children:"Phn hi trong vng 24 gi"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4 p-6 bg-white border border-brand-blue/20 hover:border-brand-blue transition-colors duration-300 shadow-soft",children:[a.jsx("div",{className:"w-12 h-12 bg-brand-blue flex items-center justify-center flex-shrink-0",children:a.jsx(Vi,{className:"text-white",size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-brand-text font-serif text-lg mb-1",children:"in Thoi"}),a.jsx("p",{className:"text-brand-blue",children:"+84 123 456 789"}),a.jsx("p",{className:"text-brand-muted text-sm mt-1",children:"Th 2 - Th 6: 8:00 - 17:00"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4 p-6 bg-white border border-brand-blue/20 hover:border-brand-blue transition-colors duration-300 shadow-soft",children:[a.jsx("div",{className:"w-12 h-12 bg-brand-blue flex items-center justify-center flex-shrink-0",children:a.jsx(Zs,{className:"text-white",size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-brand-text font-serif text-lg mb-1",children:"a Ch"}),a.jsx("p",{className:"text-brand-blue",children:"H Ni, Vit Nam"}),a.jsx("p",{className:"text-brand-muted text-sm mt-1",children:"Trung tm vn ha lch s"})]})]})]}),a.jsxs("div",{className:"bg-brand-blue/10 border border-brand-blue/20 p-8 shadow-soft",children:[a.jsx("h3",{className:"text-2xl font-serif text-brand-text mb-4",children:"Gi Lm Vic"}),a.jsxs("div",{className:"space-y-2 text-brand-muted",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Th Hai - Th Su"}),a.jsx("span",{className:"text-brand-blue",children:"8:00 - 17:00"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Th By"}),a.jsx("span",{className:"text-brand-blue",children:"9:00 - 15:00"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Ch Nht"}),a.jsx("span",{className:"text-rose-500",children:"Ngh"})]})]})]}),a.jsx("div",{className:"text-center p-8 border border-brand-blue/30 bg-white shadow-soft",children:a.jsx("p",{className:"text-brand-blue font-serif italic text-lg",children:'"Ni qu kh ngn vang trong tng hi th hin i"'})})]})]})})]})}function yS(){const t=gt(),n=Rn().state||{},[r,s]=S.useState(""),[i,o]=S.useState(""),[l,c]=S.useState(!1),[u,d]=S.useState(!1),[f,h]=S.useState(""),[m,x]=S.useState(""),v=async b=>{b.preventDefault(),d(!0),h(""),x("");try{if(Ue){const{error:y}=await le.auth.signInWithPassword({email:r,password:i});if(y)throw y}else{const{user:y,error:_}=await _t.login(r,i);if(_||!y)throw new Error(_||"ng nhp tht bi");console.log(" Local login successful for:",y.email)}x("ng nhp thnh cng."),console.log(" Stored user in localStorage");let p="/";const g=sessionStorage.getItem("afterLogin");if(g)try{const y=JSON.parse(g);sessionStorage.removeItem("afterLogin"),y!=null&&y.page&&y.page!=="home"?p=`/${y.page}`:p="/"}catch{p=n.from&&n.from!=="/login"?n.from:sessionStorage.getItem("lastVisitedPath")||"/"}else{const y=n.from&&n.from!=="/login"?n.from:sessionStorage.getItem("lastVisitedPath");y&&y!=="/login"&&(p=y)}setTimeout(()=>t(p),800)}catch(p){h(p.message||"Khng th ng nhp. Vui lng th li.")}finally{d(!1)}},w=async b=>{h(""),x("");try{const{error:p}=await le.auth.signInWithOAuth({provider:b,options:{redirectTo:window.location.origin+"/?page=home"}});if(p)throw p}catch(p){h(p.message||`Khng th ng nhp bng ${b}.`)}};return a.jsx("div",{className:"min-h-screen bg-brand-base flex items-center justify-center px-4 py-16",children:a.jsxs("div",{className:"w-full max-w-lg bg-white border border-brand-blue/20 p-10 shadow-medium",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("button",{onClick:()=>t("/"),className:"flex items-center space-x-2 text-brand-blue hover:text-brand-muted transition-colors",type:"button",children:[a.jsx(Ui,{size:18}),a.jsx("span",{children:"Quay li Trang ch"})]}),a.jsx(Ju,{className:"text-brand-blue",size:28})]}),a.jsx("h1",{className:"text-4xl font-serif text-brand-text mb-2",children:"ng Nhp"}),a.jsx("p",{className:"text-brand-muted mb-8",children:"Truy cp vo cng ng Echoes of Vit Nam  trao i v khm ph kho tng lch s."}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("button",{onClick:()=>w("google"),className:"w-full py-3 bg-white border border-gray-300 text-gray-700 font-sans flex items-center justify-center space-x-2 hover:bg-gray-50 transition-colors",children:[a.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),a.jsx("span",{children:"ng nhp bng Google"})]}),a.jsxs("button",{onClick:()=>w("facebook"),className:"w-full py-3 bg-blue-600 text-white font-sans flex items-center justify-center space-x-2 hover:bg-blue-700 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),a.jsx("span",{children:"ng nhp bng Facebook"})]})]}),a.jsxs("div",{className:"relative mb-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"hoc"})})]}),a.jsxs("form",{onSubmit:v,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-brand-text mb-2 font-sans",children:"Email"}),a.jsx("input",{type:"email",value:r,onChange:b=>s(b.target.value),className:"w-full px-4 py-3 bg-white border border-brand-blue/30 text-brand-text focus:border-brand-blue outline-none transition-colors duration-300",placeholder:"email@example.com",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-brand-text mb-2 font-sans",children:"Mt khu"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:l?"text":"password",value:i,onChange:b=>o(b.target.value),className:"w-full px-4 py-3 pr-12 bg-white border border-brand-blue/30 text-brand-text focus:border-brand-blue outline-none transition-colors duration-300",placeholder:"",required:!0}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-brand-muted hover:text-brand-blue transition-colors",children:l?a.jsx(ON,{size:20}):a.jsx(p2,{size:20})})]})]}),f&&a.jsx("div",{className:"p-4 bg-rose-100 border border-rose-300 text-rose-700",children:f}),m&&a.jsx("div",{className:"p-4 bg-brand-blue/10 border border-brand-blue text-brand-blue",children:m}),a.jsx("button",{type:"submit",disabled:u,className:"w-full py-4 bg-brand-blue text-white font-sans tracking-wider uppercase transition-all duration-300 hover:bg-brand-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"ang ng nhp...":"ng nhp"})]}),a.jsxs("div",{className:"mt-6 text-center space-y-2",children:[a.jsx("button",{onClick:()=>t("/register",{state:{from:n.from||sessionStorage.getItem("lastVisitedPath")||"/"}}),className:"text-brand-blue hover:text-brand-blue-600 transition-colors",children:"Cha c ti khon? ng k ngay"}),a.jsx("br",{}),a.jsx("button",{onClick:()=>t("/forgot-password",{state:{from:n.from||sessionStorage.getItem("lastVisitedPath")||"/"}}),className:"text-sm text-brand-muted hover:text-brand-text transition-colors",children:"Qun mt khu?"})]})]})})}const wS={displayName:"",email:"",password:"",confirmPassword:""};function _S(){const t=gt(),[e,n]=S.useState(wS),[r,s]=S.useState(!1),[i,o]=S.useState(""),[l,c]=S.useState(""),u=f=>h=>{n(m=>({...m,[f]:h.target.value}))},d=async f=>{if(f.preventDefault(),o(""),c(""),e.password!==e.confirmPassword){o("Mt khu xc nhn khng trng khp.");return}s(!0);try{if(Ue){const{data:h,error:m}=await le.auth.signUp({email:e.email,password:e.password});if(m)throw m;if(h.user){const{error:x}=await le.from("user_profiles").insert([{id:h.user.id,display_name:e.displayName,email:e.email}]);x&&console.error("Profile creation error:",x)}}else{const{user:h,error:m}=await _t.register({email:e.email,password:e.password,display_name:e.displayName});if(m||!h)throw new Error(m||"ng k tht bi")}c("ng k thnh cng! Chuyn n trang ng nhp..."),setTimeout(()=>t("/login"),2e3)}catch(h){o(h.message||"ng k tht bi. Vui lng th li.")}finally{s(!1)}};return a.jsx("div",{className:"min-h-screen bg-brand-base flex items-center justify-center px-4 py-16",children:a.jsxs("div",{className:"w-full max-w-3xl grid grid-cols-1 md:grid-cols-2 bg-white border border-brand-blue/20 shadow-medium",children:[a.jsxs("div",{className:"hidden md:flex flex-col justify-between bg-gradient-to-br from-brand-blue via-brand-blue-600 to-brand-text/90 text-white p-10",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>t("/"),className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors",type:"button",children:[a.jsx(Ui,{size:18}),a.jsx("span",{children:"Quay li Trang ch"})]}),a.jsxs("div",{className:"mt-16 space-y-6",children:[a.jsx(Ja,{size:48,className:"text-white/70"}),a.jsx("h2",{className:"text-4xl font-serif leading-tight",children:"Gia nhp cng ng Echoes of Vit Nam"}),a.jsx("p",{className:"text-white/80 leading-relaxed",children:"To ti khon  tham gia tho lun, lu tr nhng k c v chia s cu chuyn ca bn cng cng ng am m lch s."})]})]}),a.jsxs("div",{className:"space-y-2 text-white/70 text-sm",children:[a.jsx("p",{children:"- Bo tn k c v gi tr lch s Vit Nam"}),a.jsx("p",{children:"- Kt ni vi cc nh su tm v nh nghin cu"}),a.jsx("p",{children:"- Khm ph th vin t liu c quyn"})]})]}),a.jsxs("div",{className:"p-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8 md:hidden",children:[a.jsxs("button",{onClick:()=>t("/"),className:"flex items-center space-x-2 text-brand-blue hover:text-brand-muted transition-colors",type:"button",children:[a.jsx(Ui,{size:18}),a.jsx("span",{children:"Trang ch"})]}),a.jsx(td,{className:"text-brand-blue",size:28})]}),a.jsxs("div",{className:"hidden md:flex items-center justify-between mb-8",children:[a.jsx("h1",{className:"text-3xl font-serif text-brand-text",children:"To ti khon"}),a.jsx(td,{className:"text-brand-blue",size:32})]}),a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-brand-text mb-2 font-sans",children:"Tn hin th"}),a.jsx("input",{type:"text",value:e.displayName,onChange:u("displayName"),className:"w-full px-4 py-3 bg-white border border-brand-blue/30 text-brand-text focus:border-brand-blue outline-none transition-colors duration-300",placeholder:"V d: Tran Minh An",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-brand-text mb-2 font-sans",children:"Email"}),a.jsx("input",{type:"email",value:e.email,onChange:u("email"),className:"w-full px-4 py-3 bg-white border border-brand-blue/30 text-brand-text focus:border-brand-blue outline-none transition-colors duration-300",placeholder:"email@example.com",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-brand-text mb-2 font-sans",children:"Mt khu"}),a.jsx("input",{type:"password",value:e.password,onChange:u("password"),className:"w-full px-4 py-3 bg-white border border-brand-blue/30 text-brand-text focus:border-brand-blue outline-none transition-colors duration-300",placeholder:"Ti thiu 6 k t",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-brand-text mb-2 font-sans",children:"Xc nhn mt khu"}),a.jsx("input",{type:"password",value:e.confirmPassword,onChange:u("confirmPassword"),className:"w-full px-4 py-3 bg-white border border-brand-blue/30 text-brand-text focus:border-brand-blue outline-none transition-colors duration-300",placeholder:"Nhp li mt khu",required:!0})]}),i&&a.jsx("div",{className:"p-4 bg-rose-100 border border-rose-300 text-rose-700 text-sm",children:i}),l&&a.jsx("div",{className:"p-4 bg-brand-blue/10 border border-brand-blue text-brand-blue text-sm",children:l}),a.jsx("button",{type:"submit",disabled:r,className:"w-full py-4 bg-brand-blue text-white font-sans tracking-wider uppercase transition-all duration-300 hover:bg-brand-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"ang ng k...":"ng k"})]}),a.jsxs("div",{className:"mt-6 text-center text-sm text-brand-muted",children:[" c ti khon?",a.jsx("button",{type:"button",onClick:()=>t("/login"),className:"ml-2 text-brand-blue hover:text-brand-muted transition-colors",children:"ng nhp ngay"})]})]})]})})}const nu={async sendEmailVerification(t){try{const{data:e}=await le.from("email_verifications").select("id").eq("email",t).gte("created_at",new Date(Date.now()-6e5).toISOString());if(e&&e.length>=3)return{success:!1,error:"Vui lng i 10 pht trc khi gi li m"};const n=Math.floor(1e5+Math.random()*9e5).toString(),r=new Date(Date.now()+5*60*1e3).toISOString(),{error:s}=await le.from("email_verifications").insert({email:t,code:n,expires_at:r,verified:!1,attempts:0});if(s)throw s;return console.log(` Email verification code for ${t}: ${n}`),{success:!0}}catch(e){return console.error("Send email verification error:",e),{success:!1,error:e.message||"Khng th gi m xc thc"}}},async verifyEmail(t,e){try{const{data:n,error:r}=await le.from("email_verifications").select("*").eq("email",t).eq("verified",!1).order("created_at",{ascending:!1}).limit(1).single();return r||!n?{success:!1,error:"Khng tm thy m xc thc"}:new Date(n.expires_at)<new Date?{success:!1,error:"M xc thc  ht hn"}:n.attempts>=5?{success:!1,error:" vt qu s ln th. Vui lng yu cu m mi"}:n.code!==e?(await le.from("email_verifications").update({attempts:n.attempts+1}).eq("id",n.id),{success:!1,error:"M xc thc khng ng"}):(await le.from("email_verifications").update({verified:!0}).eq("id",n.id),{success:!0})}catch(n){return console.error("Verify email error:",n),{success:!1,error:n.message||"Khng th xc thc"}}},async sendPhoneVerification(t){try{if(!/^0\d{9}$/.test(t))return{success:!1,error:"S in thoi khng hp l"};const{data:e}=await le.from("phone_verifications").select("id").eq("phone",t).gte("created_at",new Date(Date.now()-10*60*1e3).toISOString());if(e&&e.length>=3)return{success:!1,error:"Vui lng i 10 pht trc khi gi li m"};const n=Math.floor(1e5+Math.random()*9e5).toString(),r=new Date(Date.now()+5*60*1e3).toISOString(),{error:s}=await le.from("phone_verifications").insert({phone:t,code:n,expires_at:r,verified:!1,attempts:0});if(s)throw s;return console.log(` Phone verification code for ${t}: ${n}`),{success:!0}}catch(e){return console.error("Send phone verification error:",e),{success:!1,error:e.message||"Khng th gi m xc thc"}}},async verifyPhone(t,e){try{const{data:n,error:r}=await le.from("phone_verifications").select("*").eq("phone",t).eq("verified",!1).order("created_at",{ascending:!1}).limit(1).single();return r||!n?{success:!1,error:"Khng tm thy m xc thc"}:new Date(n.expires_at)<new Date?{success:!1,error:"M xc thc  ht hn"}:n.attempts>=5?{success:!1,error:" vt qu s ln th. Vui lng yu cu m mi"}:n.code!==e?(await le.from("phone_verifications").update({attempts:n.attempts+1}).eq("id",n.id),{success:!1,error:"M xc thc khng ng"}):(await le.from("phone_verifications").update({verified:!0}).eq("id",n.id),{success:!0})}catch(n){return console.error("Verify phone error:",n),{success:!1,error:n.message||"Khng th xc thc"}}},async isEmailVerified(t){const{data:e}=await le.from("email_verifications").select("id").eq("email",t).eq("verified",!0).limit(1).single();return!!e},async isPhoneVerified(t){const{data:e}=await le.from("phone_verifications").select("id").eq("phone",t).eq("verified",!0).limit(1).single();return!!e}},kS={displayName:"",email:"",password:"",confirmPassword:"",phone:"",dateOfBirth:""};function jS(){const t=gt(),[e,n]=S.useState(kS),[r,s]=S.useState(!1),[i,o]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState(""),[f,h]=S.useState(""),[m,x]=S.useState(!1),[v,w]=S.useState(!1),[b,p]=S.useState(!1),[g,y]=S.useState(!1),[_,j]=S.useState(!1),[k,C]=S.useState(!1),[T,N]=S.useState(!1),[B,A]=S.useState(!1),D=E=>O=>{n(M=>({...M,[E]:O.target.value})),o("")},H=()=>e.displayName.trim()?e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?e.phone.trim()?/^0\d{9}$/.test(e.phone)?e.dateOfBirth?e.password.length<6?"Mt khu phi c t nht 6 k t":e.password!==e.confirmPassword?"Mt khu xc nhn khng khp":m?v?null:"Vui lng xc thc s in thoi":"Vui lng xc thc email":"Vui lng chn ngy sinh":"S in thoi khng hp l (10 s, bt u bng 0)":"Vui lng nhp s in thoi":"Email khng hp l":"Vui lng nhp email":"Vui lng nhp tn hin th",q=async()=>{if(!e.email.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)){o("Vui lng nhp email hp l trc");return}p(!0);const E=await nu.sendEmailVerification(e.email);p(!1),E.success?(N(!0),c("M xc thc  c gi n email ca bn! (Kim tra console)"),setTimeout(()=>c(""),5e3)):o(E.error||"Khng th gi m xc thc")},W=async()=>{if(!u.trim()){o("Vui lng nhp m xc thc");return}j(!0);const E=await nu.verifyEmail(e.email,u);j(!1),E.success?(x(!0),c(" Email  c xc thc!"),setTimeout(()=>c(""),3e3)):o(E.error||"M xc thc khng ng")},G=async()=>{if(!e.phone.trim()||!/^0\d{9}$/.test(e.phone)){o("Vui lng nhp s in thoi hp l trc");return}y(!0);const E=await nu.sendPhoneVerification(e.phone);y(!1),E.success?(A(!0),c("M xc thc  c gi n s in thoi ca bn! (Kim tra console)"),setTimeout(()=>c(""),5e3)):o(E.error||"Khng th gi m xc thc")},I=async()=>{if(!f.trim()){o("Vui lng nhp m xc thc");return}C(!0);const E=await nu.verifyPhone(e.phone,f);C(!1),E.success?(w(!0),c(" S in thoi  c xc thc!"),setTimeout(()=>c(""),3e3)):o(E.error||"M xc thc khng ng")},K=async E=>{E.preventDefault(),o(""),c("");const O=H();if(O){o(O);return}s(!0);try{const{data:M,error:U}=await le.auth.signUp({email:e.email,password:e.password,options:{data:{display_name:e.displayName,phone:e.phone,date_of_birth:e.dateOfBirth}}});if(U)throw U;M.user&&await le.from("user_profiles").upsert({user_id:M.user.id,metadata:{displayName:e.displayName,phone:e.phone,dateOfBirth:e.dateOfBirth},phone:e.phone,date_of_birth:e.dateOfBirth,is_email_verified:!0,is_phone_verified:!0,role:"user",stars:0}),c("ng k thnh cng! ang chuyn n trang ng nhp..."),setTimeout(()=>t("/login"),1500)}catch(M){o(M.message||"Khng th ng k. Vui lng th li.")}finally{s(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden",children:a.jsxs("div",{className:"grid md:grid-cols-2",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 p-8 text-white",children:[a.jsxs("button",{onClick:()=>t("/"),className:"flex items-center space-x-2 mb-8 hover:opacity-80 transition-opacity",children:[a.jsx(Ui,{size:20}),a.jsx("span",{children:"Quay li"})]}),a.jsx(td,{size:48,className:"mb-6"}),a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"To ti khon mi"}),a.jsx("p",{className:"text-blue-100 mb-6",children:"Tham gia cng ng Echoes of Vit Nam  khm ph lch s, hc hi v mua sm."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Hr,{className:"flex-shrink-0 mt-1",size:20}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Xc thc y "}),a.jsx("p",{className:"text-sm text-blue-100",children:"Email v s in thoi c xc minh"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Hr,{className:"flex-shrink-0 mt-1",size:20}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Tch lu sao"}),a.jsx("p",{className:"text-sm text-blue-100",children:"Lm quiz v hc tp  nhn sao"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Hr,{className:"flex-shrink-0 mt-1",size:20}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"M shop"}),a.jsx("p",{className:"text-sm text-blue-100",children:"t 200 sao  ng k m shop"})]})]})]})]}),a.jsx("div",{className:"p-8",children:a.jsxs("form",{onSubmit:K,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn hin th *"}),a.jsx("input",{type:"text",value:e.displayName,onChange:D("displayName"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nguyn Vn A",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email * ",m&&a.jsx(Hr,{className:"inline w-4 h-4 text-green-600"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"email",value:e.email,onChange:D("email"),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@example.com",required:!0,disabled:m}),!m&&a.jsxs("button",{type:"button",onClick:q,disabled:b||!e.email,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 flex items-center space-x-2",children:[b?a.jsx(gu,{className:"w-4 h-4 animate-spin"}):a.jsx(nc,{className:"w-4 h-4"}),a.jsx("span",{children:"Gi m"})]})]}),T&&!m&&a.jsxs("div",{className:"mt-2 flex space-x-2",children:[a.jsx("input",{type:"text",value:u,onChange:E=>d(E.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Nhp m 6 s",maxLength:6}),a.jsx("button",{type:"button",onClick:W,disabled:_,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:_?"ang xc thc...":"Xc thc"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["S in thoi * ",v&&a.jsx(Hr,{className:"inline w-4 h-4 text-green-600"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"tel",value:e.phone,onChange:D("phone"),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0123456789",required:!0,disabled:v}),!v&&a.jsxs("button",{type:"button",onClick:G,disabled:g||!e.phone,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 flex items-center space-x-2",children:[g?a.jsx(gu,{className:"w-4 h-4 animate-spin"}):a.jsx(Vi,{className:"w-4 h-4"}),a.jsx("span",{children:"Gi m"})]})]}),B&&!v&&a.jsxs("div",{className:"mt-2 flex space-x-2",children:[a.jsx("input",{type:"text",value:f,onChange:E=>h(E.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Nhp m 6 s",maxLength:6}),a.jsx("button",{type:"button",onClick:I,disabled:k,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:k?"ang xc thc...":"Xc thc"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy sinh *"}),a.jsx("input",{type:"date",value:e.dateOfBirth,onChange:D("dateOfBirth"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mt khu *"}),a.jsx("input",{type:"password",value:e.password,onChange:D("password"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ti thiu 6 k t",required:!0,minLength:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Xc nhn mt khu *"}),a.jsx("input",{type:"password",value:e.confirmPassword,onChange:D("confirmPassword"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nhp li mt khu",required:!0})]}),i&&a.jsx("div",{className:"p-3 bg-red-100 border border-red-300 text-red-700 rounded-lg text-sm",children:i}),l&&a.jsx("div",{className:"p-3 bg-green-100 border border-green-300 text-green-700 rounded-lg text-sm",children:l}),a.jsx("button",{type:"submit",disabled:r||!m||!v,className:"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:r?a.jsxs(a.Fragment,{children:[a.jsx(gu,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:"ang ng k..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(td,{className:"w-5 h-5"}),a.jsx("span",{children:"ng k"})]})}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>t("/login"),className:"text-blue-600 hover:text-blue-700 text-sm",children:" c ti khon? ng nhp ngay"})})]})})]})}),a.jsx("p",{className:"text-center text-sm text-gray-600 mt-6",children:" M xc thc s c hin th trong console (ch  pht trin)"})]})})}function NS(){const t=gt(),[e,n]=S.useState(""),[r,s]=S.useState(!1),[i,o]=S.useState(""),[l,c]=S.useState(""),u=async d=>{d.preventDefault(),s(!0),o(""),c("");try{const{error:f}=await le.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/?page=reset-password"});if(f)throw f;c(" gi email t li mt khu. Vui lng kim tra hp th ca bn.")}catch(f){o(f.message||"Khng th gi email t li mt khu. Vui lng th li.")}finally{s(!1)}};return a.jsx("div",{className:"min-h-screen bg-brand-base flex items-center justify-center px-4 py-16",children:a.jsxs("div",{className:"w-full max-w-lg bg-white border border-brand-blue/20 p-10 shadow-medium",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("button",{onClick:()=>t("/login"),className:"flex items-center space-x-2 text-brand-blue hover:text-brand-muted transition-colors",type:"button",children:[a.jsx(Ui,{size:18}),a.jsx("span",{children:"Quay li ng nhp"})]}),a.jsx(nc,{className:"text-brand-blue",size:28})]}),a.jsx("h1",{className:"text-4xl font-serif text-brand-text mb-2",children:"Qun Mt Khu"}),a.jsx("p",{className:"text-brand-muted mb-8",children:"Nhp email ca bn  nhn lin kt t li mt khu."}),a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-brand-text mb-2 font-sans",children:"Email"}),a.jsx("input",{type:"email",value:e,onChange:d=>n(d.target.value),className:"w-full px-4 py-3 bg-white border border-brand-blue/30 text-brand-text focus:border-brand-blue outline-none transition-colors duration-300",placeholder:"email@example.com",required:!0})]}),i&&a.jsx("div",{className:"p-4 bg-rose-100 border border-rose-300 text-rose-700",children:i}),l&&a.jsx("div",{className:"p-4 bg-green-100 border border-green-300 text-green-700",children:l}),a.jsx("button",{type:"submit",disabled:r,className:"w-full py-4 bg-brand-blue text-white font-sans tracking-wider uppercase transition-all duration-300 hover:bg-brand-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"ang gi...":"Gi lin kt t li"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>t("/login"),className:"text-brand-blue hover:text-brand-blue-600 transition-colors",children:"Quay li ng nhp"})})]})})}function CS(){const[t]=Id(),e=gt(),[n,r]=S.useState(!1),[s,i]=S.useState(null),[o,l]=S.useState(1),[c,u]=S.useState([]),[d,f]=S.useState(""),[h,m]=S.useState(null),[x,v]=S.useState({fullName:"",phone:"",address:"",city:"",district:"",ward:""}),[w,b]=S.useState(""),[p,g]=S.useState({});S.useEffect(()=>{y()},[]);const y=async()=>{r(!0);const A=t.get("productId"),D=t.get("quantity"),H=D?parseInt(D,10):1;try{if(!A){e("/shop");return}let q=null;if(Ue){const{data:K}=await le.from("products").select("*").eq("id",A).single();K&&(q=K)}else q=ds.find(K=>K.id===A)??null;if(!q){const K=ds.find(E=>E.id===A)??null;K&&(q=K)}if(!q){e("/shop");return}i(q),l(q.category==="Membership"?1:H);const W=Sp();W&&W.planId===q.id?m(W):m(null);const G=await $r.getPaymentMethods(),I=q.category==="Membership"?G.filter(K=>K.type!=="cod"):G;if(u(I),I.length>0&&f(I[0].id),Ue){const{data:{user:K}}=await le.auth.getUser();if(K){const{data:E}=await le.from("user_profiles").select("*").eq("user_id",K.id).single();E&&E.metadata&&v({fullName:E.metadata.fullName||"",phone:E.metadata.phone||"",address:E.metadata.address||"",city:E.metadata.city||"",district:E.metadata.district||"",ward:E.metadata.ward||""})}}else{const K=_t.getCurrentUser();if(K){const E=$r.getSavedShippingAddress(K.id);E&&v(E)}}}catch(q){if(console.error("Error loading checkout data:",q),!Ue){const W=A?ds.find(G=>G.id===A)??null:null;if(W){i(W),l(W.category==="Membership"?1:H);const G=Sp();G&&G.planId===W.id?m(G):m(null);const I=await $r.getPaymentMethods(),K=W.category==="Membership"?I.filter(E=>E.type!=="cod"):I;u(K),K.length>0&&f(K[0].id)}}}finally{r(!1)}},_=()=>{const A={};return(s==null?void 0:s.category)==="Membership"?d?(g({}),!0):(g({payment:"Vui lng chn phng thc thanh ton"}),!1):(x.fullName.trim()||(A.fullName="Vui lng nhp h tn"),x.phone.trim()?/^[0-9]{10,11}$/.test(x.phone.replace(/\s/g,""))||(A.phone="S in thoi khng hp l"):A.phone="Vui lng nhp s in thoi",x.address.trim()||(A.address="Vui lng nhp a ch"),x.city.trim()||(A.city="Vui lng chn Tnh/Thnh ph"),x.district.trim()||(A.district="Vui lng chn Qun/Huyn"),x.ward.trim()||(A.ward="Vui lng chn Phng/X"),d||(A.payment="Vui lng chn phng thc thanh ton"),g(A),Object.keys(A).length===0)},j=async A=>{if(A.preventDefault(),!(!_()||!s)){r(!0);try{const D=_t.getCurrentUser(),H=s.category==="Membership",q=H&&h&&h.planId===s.id,W=H?{fullName:x.fullName||(D==null?void 0:D.display_name)||"Thnh vin Echoes",phone:x.phone||(D==null?void 0:D.phone)||"0000000000",address:"Kch hot trc tuyn - khng cn giao hng",city:"Online",district:"Online",ward:"Online"}:x,G=q?Math.max(1,h.quantity??1):1,I=H?G:o,K=w.trim(),E=q?{...h,quantity:G}:null,O=E?`[digital-meta]${JSON.stringify(E)}`:"",M=[K,O].filter(se=>se.length>0).join(`
`),U=await $r.createOrder({product_id:s.id,quantity:I,shipping_address:W,notes:M,payment_method_id:d}),z=c.find(se=>se.id===d),de=await $r.initiatePayment(U,z.type);de.success?de.paymentUrl?window.location.href=de.paymentUrl:e(H?`/payment-result?status=success&orderId=${U}`:`/order-details?orderId=${U}`):H?e(`/payment-result?status=failed&orderId=${U}`):alert(de.error||"C li xy ra khi thanh ton")}catch(D){console.error("Checkout error:",D),alert(D.message||"C li xy ra")}finally{r(!1)}}},k=A=>{switch(A){case"vnpay":case"momo":return a.jsx(XN,{className:"w-5 h-5"});case"bank_transfer":return a.jsx(Am,{className:"w-5 h-5"});case"cod":return a.jsx(ed,{className:"w-5 h-5"});default:return a.jsx(Ol,{className:"w-5 h-5"})}};if(!s)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-gray-500",children:"ang ti..."})});const C=s.category==="Membership"?Qd(s.id):null,T=s.category==="Membership"?1:o,N=s.price*T,B=C&&(h==null?void 0:h.planId)===s.id?h:null;return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Thanh ton"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[C?a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Zs,{className:"w-5 h-5"}),"Kch hot gi thnh vin"]}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[a.jsxs("p",{children:["Gi ",a.jsx("span",{className:"font-semibold text-blue-700",children:C.label})," s c kch hot ngay cho ti khon ang ng nhp sau khi thanh ton thnh cng. Khng yu cu giao hng vt l."]}),B!=null&&B.eventTitle?a.jsxs("p",{children:["p dng cho h s s kin: ",a.jsx("span",{className:"font-semibold",children:B.eventTitle}),". Bn c th tip tc quiz ngay khi hon tt."]}):null,a.jsxs("p",{children:["Vui lng kim tra hm th v mc ",a.jsx("span",{className:"font-semibold",children:"H s"}),"  theo di sao thng v trng thi gi. Nu cn cp nht thng tin lin h, hy iu chnh ti trang h s c nhn."]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Ghi ch thm (ty chn):"}),a.jsx("textarea",{value:w,onChange:A=>b(A.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Ghi ch cho i h tr (nu c)..."})]})]}):a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Zs,{className:"w-5 h-5"}),"Thng tin giao hng"]}),a.jsxs("form",{onSubmit:j,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["H v tn ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Pi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:x.fullName,onChange:A=>v({...x,fullName:A.target.value}),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${p.fullName?"border-red-500":"border-gray-300"}`,placeholder:"Nguyn Vn A"})]}),p.fullName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.fullName})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["S in thoi ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"tel",value:x.phone,onChange:A=>v({...x,phone:A.target.value}),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${p.phone?"border-red-500":"border-gray-300"}`,placeholder:"0123456789"})]}),p.phone&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.phone})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["a ch ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:x.address,onChange:A=>v({...x,address:A.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${p.address?"border-red-500":"border-gray-300"}`,placeholder:"S nh, tn ng"}),p.address&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.address})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Tnh/Thnh ph ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:x.city,onChange:A=>v({...x,city:A.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${p.city?"border-red-500":"border-gray-300"}`,placeholder:"TP. H Ch Minh"}),p.city&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.city})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Qun/Huyn ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:x.district,onChange:A=>v({...x,district:A.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${p.district?"border-red-500":"border-gray-300"}`,placeholder:"Qun 1"}),p.district&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.district})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Phng/X ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:x.ward,onChange:A=>v({...x,ward:A.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ${p.ward?"border-red-500":"border-gray-300"}`,placeholder:"Phng Bn Ngh"}),p.ward&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.ward})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ghi ch"}),a.jsx("textarea",{value:w,onChange:A=>b(A.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Ghi ch cho ngi bn..."})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Ol,{className:"w-5 h-5"}),"Phng thc thanh ton"]}),a.jsx("div",{className:"space-y-3",children:c.map(A=>a.jsxs("label",{className:`flex items-center gap-3 p-4 border-2 rounded-lg cursor-pointer transition-all ${d===A.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("input",{type:"radio",name:"paymentMethod",value:A.id,checked:d===A.id,onChange:D=>f(D.target.value),className:"w-5 h-5 text-blue-600"}),a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[k(A.type),a.jsx("span",{className:"font-medium",children:A.name})]})]},A.id))}),p.payment&&a.jsx("p",{className:"text-red-500 text-sm mt-2",children:p.payment})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 sticky top-4",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"n hng"}),C&&a.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4 text-sm text-blue-800 mb-4",children:[a.jsxs("p",{className:"font-semibold",children:["Quyn li gi ",C.label]}),C.rewardStars>0?a.jsxs("p",{className:"mt-1",children:["+",C.rewardStars," sao thng ngay khi thanh ton."]}):null,a.jsxs("p",{className:"mt-1",children:["Hiu lc: ",C.durationDays>0?`${C.durationDays} ngy`:"p dng ngay lp tc"," k t thi im kch hot."]}),B!=null&&B.eventTitle?a.jsxs("p",{className:"mt-1",children:["p dng cho h s: ",B.eventTitle]}):null]}),a.jsxs("div",{className:"flex gap-4 mb-4 pb-4 border-b",children:[a.jsx("img",{src:s.image_url,alt:s.name,className:"w-20 h-20 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium mb-1",children:s.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["S lng: ",T]})]})]}),a.jsxs("div",{className:"space-y-2 mb-4 pb-4 border-b",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Tm tnh:"}),a.jsxs("span",{children:[N.toLocaleString("vi-VN"),""]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Ph vn chuyn:"}),a.jsx("span",{className:"text-green-600",children:"Min ph"})]})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold mb-6",children:[a.jsx("span",{children:"Tng cng:"}),a.jsxs("span",{className:"text-blue-600",children:[N.toLocaleString("vi-VN"),""]})]}),a.jsx("button",{onClick:j,disabled:n,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:n?"ang x l...":"t hng"}),a.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Bng vic t hng, bn ng  vi iu khon s dng ca chng ti"})]})})]})]})})}const Tv="[digital-meta]";function SS(t){if(!t)return null;const e=t.lastIndexOf(Tv);if(e===-1)return null;const n=t.slice(e+Tv.length).trim();if(!n)return null;try{return JSON.parse(n)}catch(r){return console.warn("Khng th parse thng tin mua lt t ghi ch n hng",r),null}}function ES(){const[t]=Id(),e=gt(),[n,r]=S.useState("processing"),[s,i]=S.useState(""),[o,l]=S.useState(null),[c,u]=S.useState(null),[d,f]=S.useState(!1);S.useEffect(()=>{h()},[]);const h=async()=>{try{const k=t.get("status"),C=t.get("orderId");if(k&&C){i(C),r(k);return}const T={};if(t.forEach((N,B)=>{T[B]=N}),T.vnp_TxnRef){const N=await $r.verifyVNPayReturn(T);i(T.vnp_TxnRef),r(N?"success":"failed")}else T.orderId?(i(T.orderId),T.resultCode==="0"?(await $r.recordPaymentSuccess(T.orderId,"momo",T),r("success")):r("failed")):r("failed")}catch(k){console.error("Payment verification error:",k),r("failed")}};S.useEffect(()=>{(async()=>{if(s)try{const C=await $r.getOrderDetails(s);l(C);const T=SS(C==null?void 0:C.notes);T&&u(T)}catch(C){console.error("Khng th ti chi tit n hng:",C)}})()},[s]);const m=o==null?void 0:o.products,x=(m==null?void 0:m.id)??(c==null?void 0:c.planId)??"",v=x?Qd(x):null,b=(m==null?void 0:m.category)==="Membership"||!!v||(c==null?void 0:c.planId),p=((v==null?void 0:v.id)??(c==null?void 0:c.planId))==="attempt-pack-10",g=(c==null?void 0:c.quantity)??10,y=c==null?void 0:c.eventTitle,_=c==null?void 0:c.eventId,j=(v==null?void 0:v.label)??"Gi +10 lt";return S.useEffect(()=>{if(n!=="success"||!p||d)return;let k=c;const C=N8("attempt-pack-10");if(!k&&C&&(k=C,u(C)),!k){f(!0);return}const T=_t.getCurrentUser();if(!T||!k.eventId){f(!0);return}_8(T.id,k.eventId,k.quantity??10),f(!0)},[n,p,d,c]),S.useEffect(()=>{if(n!=="success"||!p||!d)return;const k=_?`/event/detail?id=${_}`:"/history",C=window.setTimeout(()=>{e(k)},2500);return()=>window.clearTimeout(C)},[n,p,d,_,e]),a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 text-center",children:[n==="processing"&&a.jsxs(a.Fragment,{children:[a.jsx(gu,{className:"w-16 h-16 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"ang xc thc thanh ton"}),a.jsx("p",{className:"text-gray-600",children:"Vui lng i trong giy lt..."})]}),n==="success"&&a.jsxs(a.Fragment,{children:[a.jsx(Hr,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-2",children:"Thanh ton thnh cng!"}),b?p?a.jsxs("div",{className:"text-gray-600 mb-6 space-y-3",children:[a.jsxs("p",{children:[j,"  c kch hot cho ti khon ca bn."]}),v!=null&&v.rewardStars?a.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700 bg-blue-50 border border-blue-200 rounded-lg py-3",children:[a.jsx(Ja,{className:"w-5 h-5"}),a.jsxs("span",{className:"font-medium",children:["+",v.rewardStars," sao thng  c cng."]})]}):null,a.jsxs("p",{children:[" cng thm ",g," lt lm quiz",y?` cho "${y}".`:" vo kho luyn tp ca bn."]}),a.jsx("p",{children:"Bn c th m li quiz  s dng ngay cc lt mi va np."}),a.jsx("p",{className:"text-xs text-gray-500",children:"Trang s t chuyn v h s lin quan sau vi giy."})]}):v?a.jsxs("div",{className:"text-gray-600 mb-6 space-y-3",children:[a.jsxs("p",{children:["Gi ",a.jsx("span",{className:"font-semibold text-gray-800",children:v.label}),"  c kch hot cho ti khon ca bn."]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-700 bg-blue-50 border border-blue-200 rounded-lg py-3",children:[a.jsx(Ja,{className:"w-5 h-5"}),a.jsxs("span",{className:"font-medium",children:["+",v.rewardStars," sao thng  c cng."]})]}),a.jsxs("p",{children:["Thi hn hiu lc: ",v.durationDays," ngy k t hm nay. Kim tra mc H s  theo di sao v trng thi gi."]})]}):a.jsx("p",{className:"text-gray-600 mb-6",children:"Gi thnh vin  c kch hot. Vui lng kim tra h s  xem quyn li mi."}):a.jsx("p",{className:"text-gray-600 mb-6",children:"n hng ca bn  c xc nhn. Chng ti s x l v giao hng trong thi gian sm nht."}),b?p?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{e(_?`/event/detail?id=${_}`:"/history")},className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors mb-3",children:"Quay li h s s kin"}),a.jsx("button",{onClick:()=>e("/history"),className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"M dng thi gian lch s"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>e("/profile"),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors mb-3",children:"Xem h s v sao thng"}),a.jsx("button",{onClick:()=>e("/history"),className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Bt u khm ph quiz nng cao"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>e(`/order-details?orderId=${s}`),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors mb-3",children:"Xem chi tit n hng"}),a.jsx("button",{onClick:()=>e("/shop"),className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Tip tc mua sm"})]})]}),n==="failed"&&a.jsxs(a.Fragment,{children:[a.jsx(JN,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Thanh ton tht bi"}),b?p?a.jsx("p",{className:"text-gray-600 mb-6",children:"Giao dch cha hon tt nn lt quiz mi cha c cng. Bn c th th li vi phng thc khc hoc quay li h s s kin  mua li sau."}):a.jsx("p",{className:"text-gray-600 mb-6",children:"Giao dch cha hon tt nn gi thnh vin v sao thng vn gi nguyn. Bn c th th li vi phng thc khc hoc lin h h tr nu cn."}):a.jsx("p",{className:"text-gray-600 mb-6",children:"Giao dch khng thnh cng. Vui lng th li hoc chn phng thc thanh ton khc."}),a.jsx("button",{onClick:()=>e("/shop"),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Quay li ca hng"})]}),(n==="success"||n==="failed")&&b&&a.jsxs("div",{className:"mt-6 text-left",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Quy nh gi thnh vin"}),a.jsx("ul",{className:"space-y-2 text-sm text-gray-600",children:Z6.map(k=>a.jsxs("li",{className:"flex gap-2",children:[a.jsx("span",{className:"mt-2 h-1.5 w-1.5 rounded-full bg-blue-400 flex-shrink-0"}),a.jsx("span",{children:k})]},k))})]})]})})}function TS(){const[t]=Id(),e=gt(),[n,r]=S.useState(!0),[s,i]=S.useState(null),[o,l]=S.useState(!1);S.useEffect(()=>{c()},[]);const c=async()=>{try{const m=t.get("orderId");if(!m){e("/shop");return}const x=await $r.getOrderDetails(m);i(x)}catch(m){console.error("Error loading order:",m),alert("Khng th ti thng tin n hng")}finally{r(!1)}},u=m=>{const x={pending:{label:"Ch xc nhn",color:"bg-yellow-100 text-yellow-800",icon:Mo},buyer_confirmed:{label:"Ngi mua xc nhn",color:"bg-sky-100 text-sky-800",icon:Hr},seller_confirmed:{label:"Ngi bn xc nhn",color:"bg-emerald-100 text-emerald-700",icon:Hr},confirmed:{label:" xc nhn",color:"bg-blue-100 text-blue-800",icon:Hr},processing:{label:"ang x l",color:"bg-purple-100 text-purple-800",icon:Mo},shipping:{label:"ang giao hng",color:"bg-orange-100 text-orange-800",icon:ed},delivered:{label:" giao hng",color:"bg-green-100 text-green-800",icon:Hr},cancelled:{label:" hy",color:"bg-red-100 text-red-800",icon:Mo},refunded:{label:" hon tin",color:"bg-gray-100 text-gray-800",icon:Mo}};return x[m]||x.pending},d=m=>({unpaid:"Cha thanh ton",paid:" thanh ton",failed:"Thanh ton tht bi",refunded:" hon tin"})[m]||m;if(n)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-gray-500",children:"ang ti..."})});if(!s)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-gray-500",children:"Khng tm thy n hng"})});const f=u(s.status),h=f.icon;return a.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[a.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Chi tit n hng"}),a.jsxs("span",{className:`px-4 py-2 rounded-full text-sm font-semibold ${f.color} flex items-center gap-2`,children:[a.jsx(h,{className:"w-4 h-4"}),f.label]})]}),a.jsxs("p",{className:"text-gray-600 text-sm",children:["M n hng: ",s.id]}),a.jsxs("p",{className:"text-gray-600 text-sm",children:["Ngy t: ",new Date(s.created_at).toLocaleString("vi-VN")]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Sn phm"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("img",{src:s.products.image_url,alt:s.products.name,className:"w-24 h-24 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium mb-1",children:s.products.name}),a.jsxs("p",{className:"text-gray-600 text-sm mb-2",children:["S lng: ",s.quantity]}),a.jsxs("p",{className:"text-blue-600 font-semibold",children:[s.products.price.toLocaleString("vi-VN"),""]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Zs,{className:"w-5 h-5"}),"a ch giao hng"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsx("p",{className:"font-medium",children:s.shipping_address.fullName}),a.jsxs("p",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Vi,{className:"w-4 h-4"}),s.shipping_address.phone]}),a.jsxs("p",{className:"text-gray-600",children:[s.shipping_address.address,", ",s.shipping_address.ward,","," ",s.shipping_address.district,", ",s.shipping_address.city]})]}),s.logistics_provider&&a.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(ed,{className:"w-4 h-4"}),"n v vn chuyn: ",s.logistics_provider]}),s.notes&&a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Ghi ch:"})," ",s.notes]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Lch s n hng"}),a.jsx("div",{className:"space-y-4",children:s.order_status_history.sort((m,x)=>new Date(x.created_at).getTime()-new Date(m.created_at).getTime()).map((m,x)=>{const v=u(m.status),w=v.icon;return a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full ${v.color} flex items-center justify-center`,children:a.jsx(w,{className:"w-5 h-5"})}),x<s.order_status_history.length-1&&a.jsx("div",{className:"w-0.5 h-full bg-gray-200 mt-2"})]}),a.jsxs("div",{className:"flex-1 pb-4",children:[a.jsx("p",{className:"font-medium",children:v.label}),a.jsx("p",{className:"text-sm text-gray-600",children:new Date(m.created_at).toLocaleString("vi-VN")}),m.notes&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:m.notes})]})]},x)})})]})]}),a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Ol,{className:"w-5 h-5"}),"Thanh ton"]}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Phng thc:"}),a.jsx("span",{className:"font-medium",children:s.payment_methods.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Trng thi:"}),a.jsx("span",{className:`font-medium ${s.payment_status==="paid"?"text-green-600":"text-orange-600"}`,children:d(s.payment_status)})]}),a.jsxs("div",{className:"pt-3 border-t",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Tm tnh:"}),a.jsxs("span",{children:[(s.products.price*s.quantity).toLocaleString("vi-VN"),""]})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Ph vn chuyn:"}),a.jsx("span",{className:"text-green-600",children:"Min ph"})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[a.jsx("span",{children:"Tng cng:"}),a.jsxs("span",{className:"text-blue-600",children:[s.total_amount.toLocaleString("vi-VN"),""]})]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[s.status==="delivered"&&a.jsxs("button",{onClick:()=>l(!0),className:"w-full bg-yellow-500 text-white py-3 rounded-lg font-semibold hover:bg-yellow-600 transition-colors flex items-center justify-center gap-2",children:[a.jsx(jr,{className:"w-5 h-5"}),"nh gi sn phm"]}),a.jsx("button",{onClick:()=>e("/shop"),className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Quay li ca hng"})]})]})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"nh gi sn phm"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Tnh nng nh gi ang c pht trin..."}),a.jsx("button",{onClick:()=>l(!1),className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"ng"})]})})]})}const AS=()=>{const t=gt(),[e,n]=S.useState(!0),[r,s]=S.useState(null),[i,o]=S.useState(null),[l,c]=S.useState("");S.useEffect(()=>{u()},[]);const u=async()=>{n(!0);let v=null;try{if(Ue){const{data:{user:w}}=await le.auth.getUser();if(!w){t("/login");return}const{data:b,error:p}=await le.from("profiles").select("*").eq("id",w.id).single();if(p)throw p;if(v=b,s(v),o(null),v.role==="shopOwner"&&v.shop_id){const{data:g}=await le.from("shops").select("*").eq("id",v.shop_id).single();g&&o(g)}}else{const w=_t.getCurrentUser();if(!w){t("/login");return}const{profile:b,shop:p}=await _t.getUserProfile(w.id);if(b){const{password:g,...y}=b;v=y,s(v),o(p||null)}}if(v!=null&&v.created_at){const w=new Date(v.created_at),b=new Date,p=(b.getFullYear()-w.getFullYear())*12+(b.getMonth()-w.getMonth());if(p<=0)c("Thnh vin mi");else if(p<12)c(`${p} thng gn b`);else{const g=Math.floor(p/12),y=p%12;c(`${g} nm${y?` ${y} thng`:""}`)}}}catch(w){console.error("Error fetching profile:",w)}finally{n(!1)}},d=async()=>{Ue?await le.auth.signOut():_t.logout(),t("/login")},f=v=>{switch(v){case"admin":return a.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-blue-100/90 px-4 py-1.5 text-sm font-semibold text-brand-blue-800",children:[a.jsx(Xa,{className:"h-4 w-4 text-brand-blue-600"}),"Admin"]});case"shopOwner":return a.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-brand-sand px-4 py-1.5 text-sm font-semibold text-brand-blue-700",children:[a.jsx(Am,{className:"h-4 w-4 text-brand-blue-600"}),"Shop Owner"]});default:return a.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-4 py-1.5 text-sm font-semibold text-brand-blue-700",children:[a.jsx(Pi,{className:"h-4 w-4 text-brand-blue-600"}),"User"]})}},h=v=>new Date(v).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}),m=v=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(v),x=(r==null?void 0:r.role)==="user"&&r.stars>=200;return e?a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-brand-base via-brand-sand to-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 h-16 w-16 animate-spin rounded-full border-4 border-brand-sand border-t-brand-blue"}),a.jsx("p",{className:"text-sm text-slate-500",children:"ang ti thng tin ti khon..."})]})}):r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-brand-base via-brand-sand to-white py-14 px-4",children:a.jsx("div",{className:"mx-auto max-w-6xl space-y-8",children:a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-[360px,1fr]",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-white shadow-xl shadow-brand",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-blue-800 via-brand-blue-600 to-brand-blue-400 opacity-95"}),a.jsxs("div",{className:"relative flex h-full flex-col gap-6 p-8 text-white",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"rounded-full bg-white/20 px-3 py-1 text-xs font-medium uppercase tracking-wide",children:l||"Thnh vin Echoes"}),a.jsxs("button",{onClick:d,className:"flex items-center gap-2 rounded-full bg-white/15 px-3 py-2 text-sm font-medium transition hover:bg-white/25",children:[a.jsx(w2,{className:"h-4 w-4"}),"ng xut"]})]}),a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-white/90 to-white/40 backdrop-blur-md shadow-xl",children:a.jsx(Pi,{className:"h-12 w-12 text-brand-blue-600"})}),a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:r.display_name}),a.jsx("p",{className:"text-sm text-white/80",children:r.email})]}),a.jsxs("div",{className:"space-y-3 rounded-3xl bg-white/15 p-4 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-white/80",children:"Vai tr"}),f(r.role)]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-white/90",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(jr,{className:"h-4 w-4"}),"im Sao"]}),a.jsx("strong",{className:"text-base",children:r.stars})]}),r.phone&&a.jsxs("div",{className:"flex items-center justify-between text-sm text-white/90",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Vi,{className:"h-4 w-4"}),"S in thoi"]}),a.jsx("span",{className:"font-medium",children:r.phone})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-white/90",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(qf,{className:"h-4 w-4"}),"Tham gia"]}),a.jsx("span",{children:h(r.created_at)})]})]}),a.jsxs("div",{className:"rounded-3xl bg-white/10 p-4 text-xs text-white/70 backdrop-blur-sm",children:[a.jsx("p",{className:"font-semibold uppercase tracking-wide text-white/80",children:"Li nhn dnh cho bn"}),r.role==="admin"&&a.jsx("p",{className:"mt-2 leading-relaxed",children:"Hy tip tc truyn cm hng v h tr cng ng Echoes pht trin bn vng."}),r.role==="shopOwner"&&a.jsx("p",{className:"mt-2 leading-relaxed",children:"Qun l tt cht lng sn phm v dch v  to dng thng hiu uy tn trong cng ng."}),r.role==="user"&&a.jsx("p",{className:"mt-2 leading-relaxed",children:"Tch ly sao qua quiz, mua sm v ng gp tri thc  m kha nhiu c quyn hn."})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-3xl bg-white/95 p-8 shadow-xl shadow-brand backdrop-blur-sm",children:[a.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-brand-blue-500",children:"Thng tin c nhn"}),a.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"H s thnh vin"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-500",children:[a.jsx(Ci,{className:"h-4 w-4"}),"Ti khon  xc thc"]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsx("div",{className:"rounded-2xl border border-brand-blue-100 bg-brand-sky/60 p-4",children:a.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[a.jsx(nc,{className:"h-5 w-5 text-brand-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-brand-blue-600",children:"Email"}),a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:r.email})]})]})}),r.phone&&a.jsx("div",{className:"rounded-2xl border border-brand-blue-100 bg-brand-base/70 p-4",children:a.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[a.jsx(Vi,{className:"h-5 w-5 text-brand-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-brand-blue-600",children:"S in thoi"}),a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:r.phone})]})]})}),r.date_of_birth&&a.jsx("div",{className:"rounded-2xl border border-brand-blue-100 bg-brand-sand/70 p-4",children:a.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[a.jsx(qf,{className:"h-5 w-5 text-brand-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-brand-blue-600",children:"Ngy sinh"}),a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:h(r.date_of_birth)})]})]})}),a.jsx("div",{className:"rounded-2xl border border-brand-blue-100 bg-brand-sky/60 p-4",children:a.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[a.jsx(Zs,{className:"h-5 w-5 text-slate-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Trng thi"}),a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:r.role==="admin"?"Qun tr vin":r.role==="shopOwner"?"Ch Shop":"Thnh vin cng ng"})]})]})})]})]}),r.role==="user"&&a.jsxs("div",{className:"rounded-3xl bg-white/95 p-8 shadow-xl shadow-brand backdrop-blur-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-brand-blue-400",children:"Hnh trnh tr thnh ch shop"}),a.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Nng cp thnh Shop Owner"}),a.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Tch ly kinh nghim v sao thng  m kha c quyn kinh doanh cng Echoes Market."})]}),a.jsxs("div",{className:"rounded-2xl bg-gradient-to-r from-brand-blue-600 via-brand-blue-500 to-brand-blue-400 px-6 py-3 text-white shadow-lg shadow-brand",children:[a.jsx("span",{className:"text-xs uppercase tracking-wide text-white/70",children:"im hin ti"}),a.jsxs("p",{className:"text-xl font-semibold",children:[r.stars,a.jsx("span",{className:"ml-1 text-sm font-medium text-white/80",children:"/ 200 sao"})]})]})]}),a.jsxs("div",{className:"mt-6 grid gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl border border-brand-blue-100 bg-brand-sky/60 p-6",children:[a.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Mc c quyn"}),a.jsxs("ul",{className:"mt-4 space-y-3 text-sm text-slate-600",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ci,{className:"h-4 w-4 text-emerald-500"}),"Nhn gian hng ring trn Echoes Market"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ci,{className:"h-4 w-4 text-emerald-500"}),"Tip cn chng trnh h tr marketing ca Echoes"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ci,{className:"h-4 w-4 text-emerald-500"}),"Tham gia workshop c quyn dnh ring cho shop owner"]})]})]}),a.jsxs("div",{className:"rounded-2xl border border-brand-blue-100 bg-white/90 p-6 shadow-sm backdrop-blur-sm",children:[a.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Tin  tch lu sao"}),a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"h-3 rounded-full bg-slate-200",children:a.jsx("div",{className:"h-3 rounded-full bg-gradient-to-r from-brand-blue-600 via-brand-blue-500 to-brand-blue-400 transition-all duration-500",style:{width:`${Math.min(r.stars/200*100,100)}%`}})}),a.jsxs("p",{className:"mt-3 text-xs text-slate-500",children:["Bn cn thm ",a.jsx("strong",{children:Math.max(200-r.stars,0)})," sao  m shop"]})]})]})]}),a.jsx("div",{className:"mt-6 flex flex-col items-center justify-between gap-4 rounded-2xl border border-dashed border-brand-blue-200 bg-brand-sky/60 p-6 text-center lg:flex-row lg:text-left",children:x?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-brand-blue-600",children:"Chc mng! Bn  iu kin m shop"}),a.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Hy hon tt h s  Echoes team duyt v kch hot gian hng ca bn."})]}),a.jsx("button",{onClick:()=>t("/shop-request"),className:"rounded-full bg-brand-blue px-6 py-3 text-sm font-semibold text-white shadow-brand transition hover:-translate-y-0.5 hover:bg-brand-blue-600",children:"ng k m Shop ngay"})]}):a.jsxs("div",{className:"flex flex-1 flex-col items-center gap-3 text-sm text-brand-blue-500 lg:flex-row lg:items-start",children:[a.jsx(j2,{className:"h-10 w-10 text-brand-blue-400"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-slate-700",children:["Bn cn thm ",Math.max(200-r.stars,0)," sao  m shop"]}),a.jsx("p",{className:"mt-1",children:"Hon thnh quiz hng tun, mua sm  Echoes Market v chia s bi vit gi tr  tch ly thm sao."})]})]})})]}),r.role==="shopOwner"&&i&&a.jsxs("div",{className:"rounded-3xl bg-white/95 p-8 shadow-xl shadow-brand backdrop-blur-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-brand-blue-400",children:"Thng tin gian hng"}),a.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:i.shop_name}),a.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Hy chm sc khch hng v duy tr ch s tn nhim  nhn thm u i t Echoes."})]}),a.jsxs("div",{className:`rounded-2xl px-6 py-3 text-sm font-semibold ${i.package_type==="PRO"?"bg-gradient-to-r from-amber-400 via-orange-400 to-pink-400 text-white shadow-lg":"bg-brand-sky text-brand-blue-700"}`,children:["Gi ",i.package_type==="PRO"?"PRO ":"BASIC"]})]}),a.jsxs("div",{className:"mt-6 grid gap-6 md:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl border border-brand-blue-100 bg-brand-sky/60 p-6",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Doanh thu hin ti"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-emerald-500",children:m(i.revenue)}),a.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Cp nht theo thi gian thc"})]}),a.jsxs("div",{className:"rounded-2xl border border-brand-blue-100 bg-white/90 p-6 shadow-sm backdrop-blur-sm",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Gii hn doanh thu"}),a.jsx("p",{className:"mt-2 text-lg font-semibold text-slate-800",children:m(i.revenue_limit)}),a.jsx("div",{className:"mt-4 h-3 rounded-full bg-slate-200",children:a.jsx("div",{className:"h-3 rounded-full bg-gradient-to-r from-emerald-400 to-teal-500",style:{width:`${Math.min(i.revenue/i.revenue_limit*100,100)}%`}})})]})]}),a.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500",children:[a.jsx(PN,{className:"h-5 w-5 text-emerald-500"}),a.jsxs("span",{children:["H tr ph vn chuyn: ",i.package_type==="PRO"?"30% + 15%":"30%"]})]}),a.jsx("button",{onClick:()=>t("/shop-dashboard"),className:"rounded-full bg-brand-blue px-6 py-3 text-sm font-semibold text-white shadow-brand transition hover:-translate-y-0.5 hover:bg-brand-blue-600",children:"Qun l gian hng"})]})]}),r.role==="admin"&&a.jsxs("div",{className:"rounded-3xl bg-white/95 p-8 shadow-xl shadow-brand backdrop-blur-sm",children:[a.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-brand-blue-400",children:"Trung tm qun tr"}),a.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Bng iu khin Admin"}),a.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Theo di hot ng h thng v h tr cng ng Echoes vn hnh trn tru."})]}),a.jsx(Xa,{className:"h-12 w-12 text-brand-blue-500"})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs("button",{onClick:()=>t("/admin-dashboard"),className:"group rounded-2xl border border-brand-blue-100 bg-brand-sky/60 p-6 text-left transition hover:-translate-y-0.5 hover:shadow-lg",children:[a.jsx("p",{className:"text-sm font-semibold text-brand-blue-600",children:"Dashboard tng quan"}),a.jsx("p",{className:"mt-2 text-xs text-brand-blue-500",children:"Xem ngay bo co hot ng trong ngy"})]}),a.jsxs("button",{onClick:()=>t("/admin/users"),className:"group rounded-2xl border border-brand-blue-100 bg-brand-base/70 p-6 text-left transition hover:-translate-y-0.5 hover:shadow-lg",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Qun l ngi dng"}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Cu hnh vai tr, kho ti khon, ghi ch vi phm"})]}),a.jsxs("button",{onClick:()=>t("/admin/shop-requests"),className:"group rounded-2xl border border-brand-blue-100 bg-brand-sky/60 p-6 text-left transition hover:-translate-y-0.5 hover:shadow-lg",children:[a.jsx("p",{className:"text-sm font-semibold text-brand-blue-600",children:"Duyt n m shop"}),a.jsx("p",{className:"mt-2 text-xs text-brand-blue-500",children:"Theo di h s ng k v phn hi ng vin"})]})]})]})]})]})})}):a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-brand-base via-brand-sand to-white",children:a.jsxs("div",{className:"rounded-2xl bg-white px-10 py-12 text-center shadow-2xl",children:[a.jsx("p",{className:"mb-6 text-lg font-semibold text-brand-blue-600",children:"Khng tm thy thng tin ti khon"}),a.jsx("button",{onClick:()=>t("/login"),className:"rounded-full bg-brand-blue px-8 py-3 text-white shadow-brand transition-transform duration-200 hover:-translate-y-0.5 hover:bg-brand-blue-600",children:"Quay li ng nhp"})]})})},Av={shopName:"",businessType:"",productFocus:"",story:"",email:"",phone:"",website:"",province:"",address:"",packageType:"BASIC",monthlyCapacity:"",experience:"",brandAsset:"",brandAssetName:""},PS=()=>{const t=gt(),[e,n]=S.useState(!0),[r,s]=S.useState(!1),[i,o]=S.useState(!1),[l,c]=S.useState(null),[u,d]=S.useState(Av),[f,h]=S.useState(""),[m,x]=S.useState("");S.useEffect(()=>{(async()=>{try{if(Ue){const{data:{user:g}}=await le.auth.getUser();if(!g){t("/login");return}const{data:y}=await le.from("profiles").select("display_name, email, phone").eq("id",g.id).single();if(!y){t("/profile");return}h(y.display_name),d(_=>({..._,email:y.email||"",phone:y.phone||""}))}else{const g=_t.getCurrentUser();if(!g){t("/login");return}const{profile:y}=await _t.getUserProfile(g.id);if(!y){t("/profile");return}const{password:_,...j}=y;if(h(j.display_name),d(k=>({...k,email:j.email,phone:j.phone||""})),x(""),j.role!=="shopOwner"&&j.stars<200){t("/profile");return}}}catch(g){console.error(g),c("Khng th ti thng tin. Vui lng th li.")}finally{n(!1)}})()},[t]);const v=(p,g)=>{d(y=>({...y,[p]:g}))},w=p=>{if(!p){d(y=>({...y,brandAsset:"",brandAssetName:""})),x("");return}if(!p.type.startsWith("image/")){c("Vui lng chn tp hnh nh hp l.");return}c(null);const g=new FileReader;g.onload=()=>{const y=typeof g.result=="string"?g.result:"";d(_=>({..._,brandAsset:y,brandAssetName:p.name})),x(y)},g.readAsDataURL(p)},b=async p=>{var g;p.preventDefault(),s(!0),c(null);try{if(Ue){const{error:y}=await le.from("shop_requests").insert([{shop_name:u.shopName,business_type:u.businessType,product_focus:u.productFocus,brand_story:u.story,email:u.email,phone:u.phone,website:u.website,province:u.province,address:u.address,package_type:u.packageType,monthly_capacity:u.monthlyCapacity,experience:u.experience,status:"pending"}]);if(y){const _=((g=y.message)==null?void 0:g.toLowerCase())??"";if(!(_.includes('relation "shop_requests"')||_.includes("does not exist")))throw y;const k=localStorage.getItem("echoes_shop_requests"),C=k?JSON.parse(k):[];C.push(u),localStorage.setItem("echoes_shop_requests",JSON.stringify(C))}}else{const y=localStorage.getItem("echoes_shop_requests"),_=y?JSON.parse(y):[];_.push(u),localStorage.setItem("echoes_shop_requests",JSON.stringify(_))}o(!0),d(Av),x("")}catch(y){console.error(y),c("Khng th gi n ng k. Vui lng th li.")}finally{s(!1)}};return e?a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-[#f5f5ff] via-[#edf3ff] to-[#fdf5ff]",children:a.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-white px-6 py-4 shadow-xl",children:[a.jsx(Eg,{className:"h-5 w-5 animate-spin text-indigo-500"}),a.jsx("p",{className:"text-sm text-slate-600",children:"ang ti biu mu ng k shop..."})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#f5f5ff] via-[#edf3ff] to-[#fdf5ff] py-12 px-4",children:a.jsxs("div",{className:"mx-auto max-w-5xl space-y-6",children:[a.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-sm font-medium text-slate-500 transition hover:text-slate-700",children:[a.jsx(Ui,{className:"h-4 w-4"}),"Quay li h s"]}),a.jsxs("div",{className:"overflow-hidden rounded-3xl bg-white shadow-xl shadow-indigo-50/70",children:[a.jsxs("div",{className:"relative bg-gradient-to-r from-purple-500 via-indigo-500 to-blue-500 px-10 py-12 text-white",children:[a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle at 20% 20%, rgba(255,255,255,0.5) 0, transparent 60%)"}}),a.jsxs("div",{className:"relative flex flex-col gap-6",children:[a.jsx("span",{className:"inline-flex w-fit items-center gap-2 rounded-full bg-white/15 px-4 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-white/90",children:"Echoes Market"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"n ng k m Shop"}),a.jsx("p",{className:"mt-2 max-w-2xl text-sm text-white/80",children:"Hon thin h s kinh doanh  i ng Echoes nh gi v kch hot gian hng ca bn. Chng ti u tin cc i tc c cu chuyn vn ho, sn phm c o v kh nng phc v bn vng."})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-white/80",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ja,{className:"h-4 w-4"}),"Thi gian duyt trung bnh: 3-5 ngy lm vic"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Am,{className:"h-4 w-4"}),"Lin h h tr: vendor@echoes.vn"]})]})]})]}),a.jsx("form",{onSubmit:b,className:"space-y-10 px-10 py-12",children:i?a.jsxs("div",{className:"rounded-3xl border border-emerald-100 bg-emerald-50/60 p-8 text-center",children:[a.jsx(Ci,{className:"mx-auto h-12 w-12 text-emerald-500"}),a.jsxs("h2",{className:"mt-4 text-xl font-semibold text-emerald-700",children:["Cm n ",f,"! n ng k ca bn  c ghi nhn."]}),a.jsx("p",{className:"mt-3 text-sm text-emerald-600",children:"i ng Echoes s lin h trong vng 5 ngy lm vic  xc minh thng tin v hng dn cc bc tip theo."}),a.jsx("button",{type:"button",onClick:()=>o(!1),className:"mt-6 rounded-full bg-white px-6 py-3 text-sm font-semibold text-emerald-600 shadow hover:bg-emerald-100",children:"Gi thm n khc"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"grid gap-6 lg:grid-cols-[1.1fr,0.9fr]",children:[a.jsxs("div",{className:"space-y-4 rounded-3xl border border-slate-100 bg-slate-50/60 p-6",children:[a.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Thng tin thng hiu"}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-slate-500",children:"Tn thng hiu / Shop *"}),a.jsx("input",{required:!0,value:u.shopName,onChange:p=>v("shopName",p.target.value),placeholder:"V d: Echoes Craft Studio",className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-slate-500",children:"Loi hnh kinh doanh *"}),a.jsx("input",{required:!0,value:u.businessType,onChange:p=>v("businessType",p.target.value),placeholder:"Th cng m ngh, nng sn, dch v...",className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-slate-500",children:"Nhm sn phm ch lc *"}),a.jsx("input",{required:!0,value:u.productFocus,onChange:p=>v("productFocus",p.target.value),placeholder:"V d:  gm, m thc, tour a phng",className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-100"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-slate-500",children:"Cu chuyn thng hiu *"}),a.jsx("textarea",{required:!0,value:u.story,onChange:p=>v("story",p.target.value),rows:4,placeholder:"Chia s hnh trnh, gi tr ct li v nh hng pht trin ca thng hiu",className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-100"})]})]}),a.jsxs("div",{className:"space-y-4 rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Hnh nh thng hiu"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Ti ln mt hnh minh ho gip i ng hiu r phong cch ca bn."}),a.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-4 text-sm text-slate-500",children:m?a.jsxs("div",{className:"space-y-3",children:[a.jsx("img",{src:m,alt:"Xem trc hnh nh thng hiu",className:"h-48 w-full rounded-xl object-cover"}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-xs text-slate-500",children:[a.jsx("span",{className:"truncate",children:u.brandAssetName||"Tp  chn"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{htmlFor:"brand-asset-upload",className:"inline-flex cursor-pointer items-center gap-2 rounded-full bg-white px-4 py-2 font-semibold text-indigo-500 shadow hover:bg-indigo-50",children:[a.jsx(Tg,{className:"h-4 w-4"}),"i nh",a.jsx("input",{id:"brand-asset-upload",type:"file",accept:"image/*",onChange:p=>{var g;w(((g=p.target.files)==null?void 0:g[0])??null),p.target.value=""},className:"hidden"})]}),a.jsx("button",{type:"button",onClick:()=>w(null),className:"text-rose-500 underline-offset-2 hover:underline",children:"Xa nh"})]})]})]}):a.jsxs("label",{htmlFor:"brand-asset-upload",className:"flex cursor-pointer flex-col items-center justify-center gap-3 rounded-xl border border-slate-200 bg-white/70 px-6 py-10 text-center text-slate-500 transition hover:border-indigo-300 hover:text-indigo-500",children:[a.jsx(Tg,{className:"h-6 w-6"}),a.jsx("span",{className:"text-sm font-medium",children:"Nhn  ti hnh nh"}),a.jsx("span",{className:"text-xs text-slate-400",children:"H tr JPG, PNG, WebP (ti a ~5MB)"}),a.jsx("input",{id:"brand-asset-upload",type:"file",accept:"image/*",onChange:p=>{var g;w(((g=p.target.files)==null?void 0:g[0])??null),p.target.value=""},className:"hidden"})]})})]})]}),a.jsxs("section",{className:"grid gap-6 lg:grid-cols-[1.1fr,0.9fr]",children:[a.jsxs("div",{className:"space-y-4 rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Thng tin lin h"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-500",children:[a.jsx(nc,{className:"h-4 w-4 text-indigo-500"})," Email lin h *"]}),a.jsx("input",{required:!0,type:"email",value:u.email,onChange:p=>v("email",p.target.value),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-500",children:[a.jsx(Vi,{className:"h-4 w-4 text-indigo-500"})," S in thoi *"]}),a.jsx("input",{required:!0,value:u.phone,onChange:p=>v("phone",p.target.value),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-100"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-slate-500",children:"Website / Knh bn hng"}),a.jsx("input",{value:u.website,onChange:p=>v("website",p.target.value),placeholder:"V d: https://store.echoes.vn",className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-500",children:[a.jsx(Zs,{className:"h-4 w-4 text-indigo-500"})," Tnh / Thnh *"]}),a.jsx("input",{required:!0,value:u.province,onChange:p=>v("province",p.target.value),placeholder:"V d: H Ni",className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-slate-500",children:"a ch c th *"}),a.jsx("input",{required:!0,value:u.address,onChange:p=>v("address",p.target.value),placeholder:"S nh, ng, phng/x",className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-100"})]})]})]}),a.jsxs("div",{className:"space-y-4 rounded-3xl border border-slate-100 bg-slate-50/60 p-6",children:[a.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Quy m & kinh nghim"}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-slate-500",children:"Sn lng / thng (c tnh) *"}),a.jsx("input",{required:!0,value:u.monthlyCapacity,onChange:p=>v("monthlyCapacity",p.target.value),placeholder:"V d: 200 n / thng",className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-medium text-slate-500",children:"Kinh nghim vn hnh *"}),a.jsx("textarea",{required:!0,value:u.experience,onChange:p=>v("experience",p.target.value),rows:4,placeholder:"Kinh nghim qun l, i tc ang hp tc, cc knh  trin khai...",className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-white/60 p-4 text-xs text-slate-500",children:[a.jsx("p",{className:"font-semibold text-slate-600",children:"Lu "}),a.jsxs("ul",{className:"mt-2 space-y-1",children:[a.jsx("li",{children:" Echoes u tin thng hiu c tiu chun bn vng & cu chuyn vn ho r rng."}),a.jsx("li",{children:" Vui lng m bo thng tin lin h chnh xc  chng ti phn hi nhanh nht."})]})]})]})]}),l&&a.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50/70 p-4 text-sm text-rose-600",children:l}),a.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 border-t border-slate-100 pt-6 text-sm text-slate-500 lg:flex-row",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-wide text-slate-400",children:[a.jsx(x2,{className:"h-4 w-4"}),"in y  thng tin  tng t l xt duyt"]}),a.jsxs("button",{type:"submit",disabled:r,className:"inline-flex items-center gap-3 rounded-full bg-gradient-to-r from-purple-500 via-indigo-500 to-blue-500 px-8 py-3 text-sm font-semibold text-white shadow-lg shadow-purple-200 transition hover:-translate-y-0.5 hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-70",children:[r?a.jsx(Eg,{className:"h-4 w-4 animate-spin"}):a.jsx(Ci,{className:"h-4 w-4"}),r?"ang gi...":"Gi n ng k"]})]})]})})]})]})})},BS=[{title:"Doanh thu thng ny",value:"12.350.000 ",trend:"+12% so vi thng trc",icon:y2,color:"from-purple-500 via-indigo-500 to-blue-500"},{title:"n hng hon tt",value:"86 n",trend:"+8 n trong 7 ngy",icon:VN,color:"from-blue-500 via-sky-500 to-cyan-500"},{title:"Khch hng trung thnh",value:"43 khch",trend:"5 khch quay li tun ny",icon:Ld,color:"from-rose-400 via-orange-400 to-amber-400"}],DS=[{title:"Chun b l hng Hi An",description:"Hon tt ng gi 15 n hng gm ngh thut",time:"Hon tt trc 17:00 hm nay",icon:ed},{title:"Phn hi nh gi 5 sao",description:"Tr li khch hng v tri nghim mua vng c th cng",time:"Trong 4 gi na",icon:UN},{title:"Kim tra tn kho",description:"Cp nht s lng sn phm La t tm H ng",time:"Hon thnh trc th Su",icon:QN}],FS=[{title:"Mini game Chm vo di sn",description:"Tng voucher 15% cho khch hng tham gia chia s cu chuyn vn ho."},{title:"Workshop trc tuyn",description:"Livestream hng dn lm tranh sn mi vo cui tun."},{title:"u i gi PRO",description:"Min ph ph nn tng 1 thng khi doanh s vt 20 triu."}],RS=()=>{const t=gt(),e=S.useMemo(()=>"H Ni d bo c ma nh. Hy chun b bao b chng m cho cc n hng giao lin tnh.",[]);return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-indigo-50 to-blue-50 px-4 py-10",children:a.jsxs("div",{className:"mx-auto max-w-6xl space-y-8",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 rounded-full bg-white/70 px-4 py-2 text-sm text-indigo-600 shadow-sm transition hover:bg-white",children:[a.jsx(Ui,{className:"h-4 w-4"}),"Quay li"]}),a.jsx("div",{className:"rounded-full bg-gradient-to-r from-purple-500 via-indigo-500 to-blue-500 px-5 py-2 text-sm font-semibold text-white shadow-lg",children:"Echoes Merchant Portal"})]}),a.jsx("div",{className:"rounded-3xl bg-white/95 p-8 shadow-xl shadow-indigo-100/70 backdrop-blur-sm",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-indigo-500",children:"Tng quan hot ng"}),a.jsx("h1",{className:"mt-2 text-3xl font-semibold text-slate-900",children:"Heritage Crafts Control Center"}),a.jsx("p",{className:"mt-2 max-w-2xl text-sm text-slate-500",children:"Theo di hiu sut bn hng, cht lng dch v v ch s hi lng khch hng. iu chnh chin dch ph hp  cu chuyn vn ho ca bn lan to rng hn."})]}),a.jsxs("div",{className:"rounded-3xl bg-indigo-50 px-6 py-5 text-sm text-indigo-600",children:[a.jsx("p",{className:"font-semibold",children:"Gi ang s dng: BASIC"}),a.jsx("p",{children:"Doanh thu gii hn: 10.000.000  / thng"}),a.jsxs("p",{className:"mt-2 flex items-center gap-2 text-xs text-indigo-500",children:[a.jsx(Ja,{className:"h-4 w-4"}),"Nng cp ln PRO  nhn u i ph vn chuyn + mentor thng hiu."]})]})]})}),a.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:BS.map(n=>a.jsxs("div",{className:"rounded-3xl bg-white/95 p-6 shadow-lg shadow-indigo-100/60 backdrop-blur-sm",children:[a.jsxs("div",{className:`mb-4 inline-flex items-center gap-3 rounded-2xl bg-gradient-to-r ${n.color} px-4 py-2 text-white shadow`,children:[a.jsx(n.icon,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs uppercase tracking-wide",children:n.title})]}),a.jsx("p",{className:"text-3xl font-semibold text-slate-900",children:n.value}),a.jsx("p",{className:"mt-3 text-sm text-slate-500",children:n.trend})]},n.title))}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr,0.9fr]",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-3xl bg-white/95 p-6 shadow-lg shadow-indigo-100/70 backdrop-blur-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Tnh hnh n hng"}),a.jsxs("div",{className:"mt-4 grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"rounded-2xl border border-indigo-100 bg-indigo-50/60 p-5",children:[a.jsx("p",{className:"text-sm text-indigo-500",children:"n ang x l"}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:"12"}),a.jsx("p",{className:"mt-1 text-xs text-indigo-400",children:"u tin hon tt trc 12h tra"})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/90 p-5",children:[a.jsx("p",{className:"text-sm text-slate-500",children:"nh gi trung bnh"}),a.jsxs("p",{className:"mt-2 flex items-center gap-2 text-2xl font-semibold text-amber-500",children:[a.jsx(jr,{className:"h-6 w-6 fill-current"}),"4.8 / 5"]}),a.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"+12 nh gi mi trong tun"})]})]})]}),a.jsxs("div",{className:"rounded-3xl bg-white/95 p-6 shadow-lg shadow-indigo-100/70 backdrop-blur-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Cc hng mc cn ch "}),a.jsx("div",{className:"mt-4 space-y-4",children:DS.map(n=>a.jsxs("div",{className:"flex items-start gap-4 rounded-2xl border border-slate-100 bg-white/90 p-5 shadow-sm",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-purple-500 to-indigo-500 text-white",children:a.jsx(n.icon,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-800",children:n.title}),a.jsx("p",{className:"text-sm text-slate-500",children:n.description}),a.jsx("p",{className:"mt-1 text-xs text-indigo-500",children:n.time})]})]},n.title))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-3xl bg-gradient-to-br from-purple-500 via-indigo-500 to-blue-500 p-6 text-white shadow-xl",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Thng tin vn hnh"}),a.jsx("p",{className:"mt-2 text-sm text-white/90",children:e}),a.jsxs("div",{className:"mt-4 rounded-2xl bg-white/10 p-4 text-xs text-white/80",children:[a.jsx("p",{children:"Trung tm h tr: 1900 6868"}),a.jsx("p",{children:"Email h tr: merchant@echoes.vn"}),a.jsx("p",{children:"Mentor ph trch: Hong Minh - 0901 234 567"})]})]}),a.jsxs("div",{className:"rounded-3xl bg-white/95 p-6 shadow-lg shadow-indigo-100/70 backdrop-blur-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"Chin dch ni bt"}),a.jsx("div",{className:"mt-4 space-y-4",children:FS.map(n=>a.jsxs("div",{className:"rounded-2xl border border-indigo-100 bg-indigo-50/60 p-4",children:[a.jsx("p",{className:"text-sm font-semibold text-indigo-600",children:n.title}),a.jsx("p",{className:"mt-1 text-xs text-indigo-500",children:n.description})]},n.title))})]})]})]})]})})},dx={overview:{key:"overview",label:"Tng quan",description:"Theo di nhp  vn hnh tng th, trng thi dch v v  u tin cng vic.",highlights:["KPIs thi gian thc","Cnh bo h thng","Chin dch ang chy"],operations:[{label:"M bo co iu hnh",variant:"primary"},{label:"Xut d liu KPI",variant:"secondary"},{label:"Thit lp cnh bo"}],icon:HN,accent:"from-indigo-500 via-purple-500 to-blue-500"},users:{key:"users",label:"Ngi dng",description:"Qun l h s, phn quyn, xc minh v cc tnh hung escalated ca ngi dng.",highlights:["Ti khon mi","T l gi chn","Case vi phm ni bt"],operations:[{label:"M danh sch ngi dng",variant:"primary"},{label:"Phn b nhn s x l",variant:"secondary"},{label:"Xut log hot ng"}],icon:Ld,accent:"from-blue-500 via-indigo-500 to-purple-500"},shops:{key:"shops",label:"Shop & n m shop",description:"Theo di vng i duyt shop, trng thi thanh ton v hun luyn ch shop.",highlights:["n ch duyt","Shop cn h tr","Ti liu thiu chng t"],operations:[{label:"Duyt/treo n m shop",variant:"primary"},{label:"Gi email b sung",variant:"secondary"},{label:"Xem lch s lm vic"}],icon:Zu,accent:"from-emerald-400 via-green-500 to-lime-500"},orders:{key:"orders",label:"n hng",description:"Gim st n hng ang x l, khiu ni v kh nng p ng kho vn.",highlights:["n tr SLA","Khiu ni nng","n gi tr cao"],operations:[{label:"M bng iu phi",variant:"primary"},{label:"t cnh bo SLA",variant:"secondary"},{label:"Xut bo co giao nhn"}],icon:j2,accent:"from-orange-400 via-amber-400 to-rose-400"},payments:{key:"payments",label:"Thanh ton",description:"i sot giao dch, theo di tin cc v x l cc khon bt thng.",highlights:["i sot theo ca","Chng t thiu","Khon escalate"],operations:[{label:"M phin i sot",variant:"primary"},{label:"Gi nhc chng t",variant:"secondary"},{label:"To bin bn bt thng"}],icon:Ol,accent:"from-teal-400 via-cyan-500 to-sky-500"},content:{key:"content",label:"Ni dung & din n",description:"Moderate ni dung, phn hi bo co v kch hot chin dch cng ng.",highlights:["Bi b bo co","Xu hng tho lun","Chin dch ang live"],operations:[{label:"M hng i moderation",variant:"primary"},{label:"Ln lch thng bo",variant:"secondary"},{label:"Xem d liu sentiment"}],icon:Md,accent:"from-violet-500 via-purple-500 to-pink-500"},analytics:{key:"analytics",label:"Bo co & phn tch",description:"Tng hp d liu kinh doanh, theo di xu hng v k hoch tng trng.",highlights:["Dashboard doanh thu","Hiu qu chin dch","D bo tn kho"],operations:[{label:"M studio phn tch",variant:"primary"},{label:"Xut d liu raw",variant:"secondary"},{label:"Gi bo co lch biu"}],icon:KN,accent:"from-fuchsia-500 via-purple-500 to-rose-500"},support:{key:"support",label:"H tr",description:"iu phi ticket, SLA phn hi v k hoch chm sc khch hng.",highlights:["Ticket vt SLA","Phn b nhn s","FAQ cp nht"],operations:[{label:"M trung tm h tr",variant:"primary"},{label:"Phn ca trc",variant:"secondary"},{label:"Tng hp insight khch"}],icon:b2,accent:"from-sky-400 via-blue-500 to-indigo-500"},settings:{key:"settings",label:"Ci t",description:"Cu hnh h thng, phn quyn v quy trnh vn hnh lin phng ban.",highlights:["Phn quyn nhm","Workflow ph duyt","Tch hp bn th ba"],operations:[{label:"Ty chnh phn quyn",variant:"primary"},{label:"Qun l webhook",variant:"secondary"},{label:"Theo di lch s thay i"}],icon:k2,accent:"from-slate-500 via-gray-500 to-slate-400"}},OS=["overview","users","shops","orders","payments","content","analytics","support","settings"],IS=[{title:"Ngi dng ton h thng",value:"12,584",change:"+320 tun ny",icon:Ld,gradient:"from-blue-500 via-indigo-500 to-purple-500",description:"Tng lng user hot ng cng bin ng theo tun gip nh gi  khe ca h thng.",operations:[{label:"Xem phn b user",variant:"primary"},{label:"To cohort gi chn",variant:"secondary"},{label:"Xut danh sch segment"}],targetWorkflow:"users"},{title:"Shop ang hot ng",value:"148",change:"5 shop mi duyt",icon:Zu,gradient:"from-emerald-400 via-green-500 to-lime-500",description:"Cc shop  go-live v hot ng tun ny, gm c nhng shop mi c kch hot.",operations:[{label:"Xem bng sc khe shop",variant:"primary"},{label:"Gi checklist onboarding",variant:"secondary"},{label:"To chin dch upsell"}],targetWorkflow:"shops"},{title:"n m shop ang ch",value:"09",change:"Cn x l trc 12h",icon:LN,gradient:"from-amber-400 via-orange-400 to-rose-400",description:"S lng h s ang ch ph duyt hoc b sung chng t trong ngy.",operations:[{label:"u tin x l h s",variant:"primary"},{label:"Gi nhc chng t",variant:"secondary"},{label:"Phn cng chuyn vin"}],targetWorkflow:"shops"},{title:"Doanh thu thng 10",value:"1.24B",change:"+18% so vi thng trc",icon:y2,gradient:"from-fuchsia-500 via-purple-500 to-rose-500",description:"Tng doanh thu c ghi nhn v i sot trong thng hin ti.",operations:[{label:"Phn tch theo gi",variant:"primary"},{label:"Xut bo co ti chnh",variant:"secondary"},{label:"Gi forecast cho Finance"}],targetWorkflow:"analytics"}],MS=[{label:"Duyt n m shop",description:"3 n ang ch xc thc thanh ton",icon:Ci,accent:"bg-indigo-50 text-indigo-600",operations:[{label:"M hng i hm nay",variant:"primary"},{label:"nh km bin bn b sung",variant:"secondary"},{label:"Giao ticket cho chuyn vin"}],targetWorkflow:"shops"},{label:"Qun l ngi dng",description:"2 ti khon b bo co trong 24h qua",icon:Xa,accent:"bg-emerald-50 text-emerald-600",operations:[{label:"M danh sch cnh bo",variant:"primary"},{label:"Khi to chin dch retention",variant:"secondary"},{label:"Xem lch s escalated"}],targetWorkflow:"users"},{label:"i sot thanh ton",description:"4 khon t cc cn kim tra chng t",icon:Ol,accent:"bg-amber-50 text-amber-600",operations:[{label:"Bt u phin i sot",variant:"primary"},{label:"Gi checklist b sung",variant:"secondary"},{label:"nh du hon tt"}],targetWorkflow:"payments"}],LS=[{id:"REQ-2025-1042",shopName:"Gm Vit Heritage",owner:"Trn Minh Hi",packageType:"PRO",stars:248,paymentStatus:"verifying",status:"pending",submittedAt:"28/10/2025 09:24",email:"hai.tran@example.com",phone:"0901 234 567"},{id:"REQ-2025-1039",shopName:"Th Cng Hi An",owner:"L Thu Tin",packageType:"BASIC",stars:212,paymentStatus:"waiting",status:"inReview",submittedAt:"27/10/2025 16:45",email:"tien.le@example.com",phone:"0912 556 889"},{id:"REQ-2025-1033",shopName:"K c ng Dng",owner:"Nguyn Quc t",packageType:"PRO",stars:305,paymentStatus:"verified",status:"approved",submittedAt:"26/10/2025 11:12",email:"dat.nguyen@example.com",phone:"0976 443 128"},{id:"REQ-2025-1027",shopName:"Tranh Ph C",owner:"Phm Gia Huy",packageType:"BASIC",stars:184,paymentStatus:"missing",status:"rejected",submittedAt:"24/10/2025 15:30",email:"huy.pham@example.com",phone:"0988 776 320"}],zS={pending:"bg-amber-100 text-amber-700",inReview:"bg-sky-100 text-sky-700",approved:"bg-emerald-100 text-emerald-700",rejected:"bg-rose-100 text-rose-700"},HS={pending:"Ch kim tra",inReview:"ang xem xt",approved:" duyt",rejected:"T chi"},Pv={waiting:"bg-amber-50 text-amber-600",verifying:"bg-sky-50 text-sky-600",verified:"bg-emerald-50 text-emerald-600",missing:"bg-rose-50 text-rose-600",escalated:"bg-purple-50 text-purple-600",completed:"bg-slate-100 text-slate-600"},Bv={waiting:"Ch chuyn khon",verifying:"ang i sot",verified:" xc nhn",missing:"Thiu chng t",escalated:"Cn can thip",completed:"Hon tt"},Dv=[{id:"user-0045",name:"Phm Quc Anh",issue:"Bo co spam din n (3 ln)",stars:45,lastAction:"27/10/2025 21:14",severity:"warning"},{id:"user-0192",name:"L Ngc H",issue:"Yu cu t li mt khu khn cp",stars:120,lastAction:"28/10/2025 07:42",severity:"info"},{id:"shop-0007",name:"Metro Craft Studio",issue:"B kho tm thi do ph chm thanh ton",stars:0,lastAction:"26/10/2025 18:03",severity:"critical"}],qS={info:"border-sky-100 bg-sky-50 text-sky-700",warning:"border-amber-100 bg-amber-50 text-amber-700",critical:"border-rose-100 bg-rose-50 text-rose-700"},$S=[{id:"PAY-9382",shopName:"Gm Vit Heritage",owner:"Trn Minh Hi",amount:5e5,method:"Momo",submittedAt:"28/10/2025 08:40",status:"verifying"},{id:"PAY-9374",shopName:"Th Cng Hi An",owner:"L Thu Tin",amount:3e5,method:"Chuyn khon",submittedAt:"27/10/2025 19:20",status:"waiting"},{id:"PAY-9366",shopName:"Kho T Liu Hu",owner:"V Nht Nam",amount:5e5,method:"VNPay",submittedAt:"27/10/2025 10:55",status:"escalated"},{id:"PAY-9351",shopName:"K c ng Dng",owner:"Nguyn Quc t",amount:5e5,method:"VNPay",submittedAt:"26/10/2025 11:18",status:"completed"}],US=[{time:"10:24",actor:"Admin Hoa",action:"Duyt shop PRO K c ng Dng",type:"approve"},{time:"09:55",actor:"Admin Minh",action:"Ghi ch yu cu b sung chng t PAY-9366",type:"note"},{time:"09:18",actor:"Cnh bo h thng",action:"Tng t bin truy cp vo din n lch s",type:"warning"},{time:"08:40",actor:"Admin Hoa",action:"Khi phc ti khon user-0192",type:"info"}],VS={approve:"bg-emerald-100 text-emerald-700",note:"bg-slate-100 text-slate-600",warning:"bg-amber-100 text-amber-700",info:"bg-sky-100 text-sky-700"},KS=[{id:"shop-001",name:"Gm Vit Heritage",packageType:"PRO",revenue:186e5,revenueLimit:3e7,orders:156,supportUsed:6},{id:"shop-014",name:"Th Cng Hi An",packageType:"BASIC",revenue:82e5,revenueLimit:1e7,orders:73,supportUsed:4},{id:"shop-027",name:"Metro Craft Studio",packageType:"PRO",revenue:247e5,revenueLimit:3e7,orders:182,supportUsed:9}],WS=()=>{const t=gt(),e=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}),n=new Intl.NumberFormat("vi-VN"),r=new Date,s=r.toLocaleDateString("vi-VN",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),i=r.getHours(),o=i<12?"bui sng":i<18?"bui chiu":"bui ti",l=OS.map(u=>({workflow:dx[u],isActive:u==="overview"})),c=(u,d)=>{if(d){t(`/admin-workflow/${u}`,{state:{focus:d}});return}t(`/admin-workflow/${u}`)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#eef2ff] via-white to-[#fff1f5] px-6 py-8 text-slate-900",children:a.jsxs("div",{className:"flex w-full gap-6",children:[a.jsxs("aside",{className:"flex w-72 flex-col rounded-3xl bg-white p-6 shadow-xl shadow-indigo-100/50",children:[a.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-400 text-white",children:a.jsx(Mo,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"Echoes Admin"}),a.jsx("span",{className:"text-xs text-slate-400",children:"Control Center"})]})]}),a.jsx("nav",{className:"space-y-1",children:l.map(({workflow:u,isActive:d})=>a.jsxs("button",{type:"button",className:`flex w-full items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white ${d?"bg-gradient-to-r from-indigo-500 via-purple-500 to-blue-500 text-white shadow-lg shadow-indigo-200/60":"text-slate-500 hover:bg-slate-100"}`,onClick:()=>c(u.key),children:[a.jsx(u.icon,{className:`h-4 w-4 ${d?"text-white":"text-slate-400"}`}),u.label]},u.key))}),a.jsxs("div",{className:"mt-auto rounded-2xl bg-gradient-to-br from-purple-500/10 via-white to-indigo-500/10 p-4 text-xs text-slate-500",children:[a.jsx("p",{className:"font-semibold text-slate-700",children:"Bng iu khin admin"}),a.jsx("p",{className:"mt-1",children:"Qun l user, shop, thanh ton v h thng h tr trong mt ni."}),a.jsxs("button",{className:"mt-3 inline-flex items-center gap-2 rounded-full bg-white px-4 py-2 text-xs font-semibold text-indigo-500 shadow-sm shadow-indigo-100 transition hover:shadow-md",children:[a.jsx(b2,{className:"h-4 w-4"}),"Trung tm h tr"]})]})]}),a.jsx("main",{className:"relative flex-1 overflow-hidden rounded-[2.5rem] border border-indigo-50 bg-white/95 shadow-xl shadow-indigo-100/50 backdrop-blur",children:a.jsxs("div",{className:"relative flex h-full flex-col p-8",children:[a.jsxs("header",{className:"overflow-hidden rounded-3xl bg-gradient-to-r from-indigo-500 via-purple-500 to-blue-500 p-8 text-white shadow-lg shadow-indigo-200/60",children:[a.jsxs("div",{className:"relative flex flex-wrap items-start justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-white/70",children:"Bng iu khin"}),a.jsx("h1",{className:"mt-3 text-3xl font-semibold",children:"Xin cho, Admin Hoa"}),a.jsxs("p",{className:"mt-2 text-sm text-white/80",children:["Hm nay l ",s,". Chc bn mt ",o," hiu qu!"]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-white/10 px-4 py-2 text-sm text-white/90 backdrop-blur",children:[a.jsx(GN,{className:"h-4 w-4 text-white/70"}),a.jsx("input",{"aria-label":"Search admin",placeholder:"Tm ngi dng, shop hoc giao dch",className:"w-56 border-none bg-transparent text-sm text-white placeholder:text-white/70 focus:outline-none"})]}),a.jsxs("button",{className:"relative inline-flex h-11 w-11 items-center justify-center rounded-full bg-white/10 text-white transition hover:bg-white/20",children:[a.jsx(h2,{className:"h-5 w-5"}),a.jsx("span",{className:"absolute right-2 top-2 h-2 w-2 rounded-full bg-rose-300"})]})]}),a.jsx("div",{className:"pointer-events-none absolute -right-12 -top-12 h-40 w-40 rounded-full bg-white/20 blur-3xl"}),a.jsx("div",{className:"pointer-events-none absolute -left-16 bottom-0 h-32 w-32 rounded-full bg-white/10 blur-3xl"})]}),a.jsxs("div",{className:"mt-7 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{className:"rounded-2xl bg-white/10 p-4 text-white",children:[a.jsx("p",{className:"text-xs uppercase tracking-wider text-white/70",children:"Hm nay"}),a.jsx("p",{className:"mt-2 text-xl font-semibold",children:"37 cng vic u tin"}),a.jsx("p",{className:"mt-1 text-xs text-white/70",children:"Bao gm 3 n m shop v 4 thanh ton"})]}),a.jsxs("div",{className:"rounded-2xl bg-white/10 p-4 text-white",children:[a.jsx("p",{className:"text-xs uppercase tracking-wider text-white/70",children:"Truy cp"}),a.jsx("p",{className:"mt-2 text-xl font-semibold",children:"+126%"}),a.jsx("p",{className:"mt-1 text-xs text-white/70",children:"Din n lch s tng mnh sau s kin ti qua"})]}),a.jsxs("div",{className:"rounded-2xl bg-white/10 p-4 text-white",children:[a.jsx("p",{className:"text-xs uppercase tracking-wider text-white/70",children:"H tr khch"}),a.jsx("p",{className:"mt-2 text-xl font-semibold",children:"12 ticket ang x l"}),a.jsx("p",{className:"mt-1 text-xs text-white/70",children:"ng qun nh du hon thnh sau khi phn hi"})]}),a.jsxs("div",{className:"rounded-2xl bg-white/10 p-4 text-white",children:[a.jsx("p",{className:"text-xs uppercase tracking-wider text-white/70",children:"S kin"}),a.jsx("p",{className:"mt-2 text-xl font-semibold",children:"Lch review 14:30"}),a.jsx("p",{className:"mt-1 text-xs text-white/70",children:"nh gi 2 shop PRO v cp nht chnh sch ph"})]})]})]}),a.jsx("section",{className:"mt-6 grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:IS.map(u=>a.jsxs("button",{type:"button",onClick:()=>c(u.targetWorkflow,{type:"stat",data:u}),className:"relative overflow-hidden rounded-3xl border border-indigo-100 bg-white p-5 text-left shadow-sm transition duration-300 hover:-translate-y-1 hover:shadow-xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:[a.jsx("div",{className:`absolute -right-10 -top-10 h-32 w-32 rounded-full bg-gradient-to-br ${u.gradient} opacity-20`}),a.jsxs("div",{className:"relative flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-400",children:u.title}),a.jsx("p",{className:"mt-3 text-3xl font-semibold text-slate-900",children:u.value}),a.jsx("p",{className:"mt-2 text-xs font-medium text-emerald-600",children:u.change})]}),a.jsx("div",{className:`relative flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${u.gradient} text-white shadow-lg shadow-indigo-200/60`,children:a.jsx(u.icon,{className:"h-5 w-5"})})]})]},u.title))}),a.jsx("section",{className:"mt-6 grid gap-4 lg:grid-cols-3",children:MS.map(u=>a.jsxs("button",{type:"button",onClick:()=>c(u.targetWorkflow,{type:"quickAction",data:u}),className:`flex items-start gap-4 rounded-3xl border border-slate-100 bg-white p-6 text-left shadow-sm transition hover:-translate-y-1 hover:shadow-xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 ${u.accent}`,children:[a.jsx("span",{className:"mt-1 inline-flex h-9 w-9 items-center justify-center rounded-2xl bg-white text-current",children:a.jsx(u.icon,{className:"h-5 w-5"})}),a.jsxs("span",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:u.label}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:u.description})]})]},u.label))}),a.jsxs("div",{className:"mt-6 grid gap-6 xl:grid-cols-[2fr,1fr]",children:[a.jsxs("section",{className:"overflow-hidden rounded-3xl border border-slate-100 bg-white shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-6 py-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"n m shop cn x l"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Theo di tin , trng thi thanh ton v s sao ca ng vin"})]}),a.jsx("button",{className:"text-sm font-semibold text-indigo-500 hover:text-indigo-600",children:"Xem tt c"})]}),a.jsxs("table",{className:"min-w-full table-fixed divide-y divide-slate-100 text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-xs uppercase tracking-wide text-slate-400",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left font-semibold",children:"Shop"}),a.jsx("th",{className:"px-3 py-3 text-left font-semibold",children:"Gi"}),a.jsx("th",{className:"px-3 py-3 text-left font-semibold",children:"Sao"}),a.jsx("th",{className:"px-3 py-3 text-left font-semibold",children:"Thanh ton"}),a.jsx("th",{className:"px-3 py-3 text-left font-semibold",children:"Trng thi"}),a.jsx("th",{className:"px-3 py-3 text-left font-semibold",children:"Np lc"}),a.jsx("th",{className:"px-6 py-3 text-right font-semibold",children:"Thao tc"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:LS.map(u=>a.jsxs("tr",{className:"cursor-pointer transition hover:bg-indigo-50/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",onClick:()=>c("shops",{type:"shopRequest",data:u}),onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),c("shops",{type:"shopRequest",data:u}))},role:"button",tabIndex:0,children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-semibold text-slate-800",children:u.shopName}),a.jsx("span",{className:"text-xs text-slate-500",children:u.owner}),a.jsxs("span",{className:"text-xs text-slate-400",children:[u.email,"  ",u.phone]})]})}),a.jsx("td",{className:"px-3 py-4 text-xs font-semibold text-slate-600",children:u.packageType}),a.jsx("td",{className:"px-3 py-4 text-xs text-slate-500",children:u.stars}),a.jsx("td",{className:"px-3 py-4",children:a.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${Pv[u.paymentStatus]}`,children:Bv[u.paymentStatus]??u.paymentStatus})}),a.jsx("td",{className:"px-3 py-4",children:a.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${zS[u.status]}`,children:HS[u.status]??u.status})}),a.jsx("td",{className:"px-3 py-4 text-xs text-slate-500",children:u.submittedAt}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{className:"text-xs font-semibold text-indigo-500 hover:text-indigo-600",children:"Xem h s"})})]},u.id))})]})]}),a.jsxs("section",{className:"flex h-full flex-col rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Cnh bo & ti khon cn ch "}),a.jsxs("span",{className:"rounded-full bg-rose-50 px-3 py-1 text-xs font-semibold text-rose-600",children:[Dv.length," cnh bo"]})]}),a.jsx("div",{className:"mt-4 space-y-4",children:Dv.map(u=>a.jsxs("div",{className:`rounded-2xl border px-4 py-4 transition ${qS[u.severity]} hover:-translate-y-0.5 hover:shadow focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400`,role:"button",tabIndex:0,onClick:()=>c("users",{type:"userAlert",data:u}),onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),c("users",{type:"userAlert",data:u}))},children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:u.name}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:u.issue}),a.jsxs("p",{className:"mt-2 text-[11px] text-slate-400",children:["Cp nht: ",u.lastAction]})]}),a.jsxs("span",{className:"rounded-full bg-white px-3 py-1 text-[11px] font-semibold text-slate-600 shadow-sm",children:[u.stars," sao"]})]}),a.jsxs("div",{className:"mt-3 flex gap-2 text-xs",children:[a.jsx("button",{className:"inline-flex items-center justify-center rounded-full bg-white px-3 py-2 font-semibold text-indigo-500 shadow-sm shadow-indigo-100 transition hover:bg-indigo-50",children:"Ghi ch x l"}),a.jsx("button",{className:"inline-flex items-center justify-center rounded-full border border-white/60 px-3 py-2 font-semibold text-slate-600 transition hover:border-slate-200 hover:text-slate-800",children:"Xem lch s"})]})]},u.id))})]})]}),a.jsxs("div",{className:"mt-6 grid gap-6 xl:grid-cols-[1.5fr,1fr]",children:[a.jsxs("section",{className:"overflow-hidden rounded-3xl border border-slate-100 bg-white shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-6 py-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Hng i i sot thanh ton"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Theo di cc khon t cc v chuyn khon cn xc thc"})]}),a.jsx("button",{className:"text-sm font-semibold text-indigo-500 hover:text-indigo-600",children:"Xut bo co"})]}),a.jsxs("table",{className:"min-w-full table-fixed divide-y divide-slate-100 text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-xs uppercase tracking-wide text-slate-400",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left font-semibold",children:"Thanh ton"}),a.jsx("th",{className:"px-3 py-3 text-left font-semibold",children:"S tin"}),a.jsx("th",{className:"px-3 py-3 text-left font-semibold",children:"Phng thc"}),a.jsx("th",{className:"px-3 py-3 text-left font-semibold",children:"Trng thi"}),a.jsx("th",{className:"px-3 py-3 text-left font-semibold",children:"Np lc"}),a.jsx("th",{className:"px-6 py-3 text-right font-semibold",children:"Thao tc"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:$S.map(u=>a.jsxs("tr",{className:"cursor-pointer transition hover:bg-indigo-50/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",onClick:()=>c("payments",{type:"payment",data:u}),onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),c("payments",{type:"payment",data:u}))},role:"button",tabIndex:0,children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-semibold text-slate-800",children:u.shopName}),a.jsx("span",{className:"text-xs text-slate-500",children:u.owner}),a.jsxs("span",{className:"text-[11px] text-slate-400",children:["M thanh ton: ",u.id]})]})}),a.jsx("td",{className:"px-3 py-4 text-xs font-semibold text-slate-600",children:e.format(u.amount)}),a.jsx("td",{className:"px-3 py-4 text-xs text-slate-500",children:u.method}),a.jsx("td",{className:"px-3 py-4",children:a.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${Pv[u.status]}`,children:Bv[u.status]??u.status})}),a.jsx("td",{className:"px-3 py-4 text-xs text-slate-500",children:u.submittedAt}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{className:"text-xs font-semibold text-indigo-500 hover:text-indigo-600",children:"Xem chng t"})})]},u.id))})]})]}),a.jsxs("section",{className:"flex h-full flex-col rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Nht k h thng"}),a.jsx("div",{className:"mt-4 space-y-4",children:US.map((u,d)=>a.jsxs("button",{type:"button",onClick:()=>c("overview",{type:"systemActivity",data:u}),className:"group relative w-full rounded-2xl border border-slate-100 bg-white/60 p-4 pl-6 text-left transition hover:-translate-y-0.5 hover:border-indigo-200 hover:bg-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:[a.jsx("span",{className:"absolute left-2 top-5 h-2.5 w-2.5 rounded-full bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500"}),a.jsx("p",{className:"text-xs font-semibold text-slate-400",children:u.time}),a.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-800",children:u.actor}),a.jsx("span",{className:`mt-1 inline-flex rounded-full px-3 py-1 text-[11px] font-medium ${VS[u.type]}`,children:u.action})]},`${u.time}-${d}`))})]})]}),a.jsxs("section",{className:"mt-6 rounded-3xl border border-slate-100 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Hiu sut cc shop ni bt"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Theo di doanh thu, gii hn gi v s n  x l"})]}),a.jsx("button",{className:"text-sm font-semibold text-indigo-500 hover:text-indigo-600",children:"Qun l tt c shop"})]}),a.jsx("div",{className:"mt-5 space-y-4",children:KS.map(u=>{const d=Math.min(Math.round(u.revenue/u.revenueLimit*100),100);return a.jsxs("button",{type:"button",onClick:()=>c("analytics",{type:"shopPerformance",data:u}),className:"w-full rounded-3xl border border-slate-100 bg-slate-50/60 p-5 text-left transition hover:-translate-y-0.5 hover:shadow-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:u.name}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Gi ",u.packageType,"  ",n.format(u.orders)," n"]})]}),a.jsxs("span",{className:"rounded-full bg-white px-3 py-1 text-xs font-semibold text-slate-600 shadow-sm",children:[e.format(u.revenue)," / ",e.format(u.revenueLimit)]})]}),a.jsx("div",{className:"mt-3 h-2 rounded-full bg-white",children:a.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500",style:{width:`${d}%`}})}),a.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-slate-500",children:[a.jsxs("span",{children:[" dng ",d,"% hn mc doanh thu"]}),a.jsxs("span",{children:[u.supportUsed," ln h tr vn chuyn"]})]})]},u.id)})})]})]})})]})})},GS={pending:"Ch kim tra",inReview:"ang xem xt",approved:" duyt",rejected:"T chi"},Fv={waiting:"Ch chuyn khon",verifying:"ang i sot",verified:" xc nhn",missing:"Thiu chng t",escalated:"Cn can thip",completed:"Hon tt"},QS={info:"Thng tin",warning:"Cn theo di",critical:"Cnh bo nghim trng"},YS=t=>t in dx,Rv=t=>t.variant==="primary"?"bg-gradient-to-r from-indigo-500 via-purple-500 to-blue-500 text-white shadow-lg shadow-indigo-200/60 hover:shadow-xl":t.variant==="secondary"?"border border-indigo-200 bg-indigo-50 text-indigo-600 hover:bg-indigo-100":t.variant==="danger"?"border border-rose-200 bg-rose-50 text-rose-600 hover:bg-rose-100":"border border-slate-200 bg-white text-slate-700 hover:border-slate-300 hover:bg-slate-100",XS=()=>{var u;const t=Bj(),e=gt(),r=(u=Rn().state)==null?void 0:u.focus;if(!t.workflowKey||!YS(t.workflowKey))return a.jsx(i2,{to:"/admin-dashboard",replace:!0});const s=t.workflowKey,i=dx[s],o=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}),l=new Intl.NumberFormat("vi-VN"),c=S.useMemo(()=>{if(!r)return null;switch(r.type){case"stat":return{heading:r.data.title,subtitle:r.data.value,description:r.data.description,bullets:[`Bin ng: ${r.data.change}`,...r.data.operations.map(d=>`Nhim v gi : ${d.label}`)],actions:r.data.operations};case"quickAction":return{heading:r.data.label,description:r.data.description,bullets:["Thit k cho ca trc hin ti"," chun b checklist km ti liu"],actions:r.data.operations};case"shopRequest":{const d=r.data,f=[{label:"M h s chi tit",variant:"primary"},{label:"Ph duyt nhanh",variant:"secondary"},{label:"Yu cu b sung chng t"}];return{heading:d.shopName,subtitle:`${d.packageType}  ${d.id}`,description:"H s ng k m shop ang trong hng i x l.",bullets:[`Trng thi h s: ${GS[d.status]??d.status}`,`Thanh ton: ${Fv[d.paymentStatus]??d.paymentStatus}`,`S sao uy tn: ${l.format(d.stars)}`,`Lin h: ${d.owner}  ${d.phone}`,`Email: ${d.email}`,`Np lc: ${d.submittedAt}`],actions:f}}case"payment":{const d=r.data,f=[{label:"Xem chng t gc",variant:"primary"},{label:"Ghi ch i sot",variant:"secondary"},{label:"Escalate cho Finance"}];return{heading:d.shopName,subtitle:`${d.id}  ${d.method}`,description:"Khon t cc cn i sot trong ca trc hin ti.",bullets:[`S tin: ${o.format(d.amount)}`,`Trng thi: ${Fv[d.status]??d.status}`,`Ngi gi: ${d.owner}`,`Ghi nhn: ${d.submittedAt}`],actions:f}}case"userAlert":{const d=r.data,f=[{label:"Ghi ch x l",variant:"primary"},{label:"Xem lch s vi phm",variant:"secondary"},{label:"t lch follow-up"}];return{heading:d.name,subtitle:d.id,description:d.issue,bullets:[`Mc : ${QS[d.severity]??"Thng tin"}`,`im uy tn: ${d.stars} sao`,`Cp nht cui: ${d.lastAction}`],actions:f}}case"systemActivity":{const d=r.data,f=[{label:"Xem log chi tit",variant:"primary"},{label:"Gn tag i ng lin quan",variant:"secondary"},{label:"To nhim v follow-up"}];return{heading:d.actor,subtitle:`${d.time}  Log h thng`,description:d.action,bullets:["Log c ghi vo h thng gim st","m bo ng b audit trail"],actions:f}}case"shopPerformance":{const d=r.data,f=o.format(d.revenueLimit),h=o.format(d.revenue),m=[{label:"Gi t vn tng trng",variant:"primary"},{label:"t lch coaching",variant:"secondary"},{label:"Xem lch s tng tc"}];return{heading:d.name,subtitle:`${d.packageType}  ${d.id}`,description:"Hiu sut shop ni bt cn theo di v h tr vn hnh.",bullets:[`Doanh thu: ${h} / ${f}`,`n  x l: ${l.format(d.orders)}`,`Lt h tr vn chuyn: ${d.supportUsed}`],actions:m}}default:return null}},[r,o,l]);return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#eef2ff] via-white to-[#fff1f5] px-6 py-10 text-slate-900",children:a.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-8",children:[a.jsxs("header",{className:"rounded-3xl border border-white/60 bg-white/80 p-8 shadow-xl shadow-indigo-100/50 backdrop-blur",children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{type:"button",onClick:()=>e("/admin-dashboard"),className:"inline-flex items-center gap-2 rounded-full border border-indigo-100 bg-white px-4 py-2 text-sm font-semibold text-indigo-500 shadow-sm transition hover:-translate-y-0.5 hover:border-indigo-200 hover:shadow-md",children:[a.jsx(Pm,{className:"h-4 w-4"}),"Quay v tng quan"]}),a.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-indigo-500 via-purple-500 to-blue-500 text-white shadow-lg shadow-indigo-200/60",children:a.jsx(i.icon,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-indigo-400",children:"Nghip v admin"}),a.jsx("h1",{className:"mt-2 text-3xl font-semibold",children:i.label}),a.jsx("p",{className:"mt-2 max-w-2xl text-sm text-slate-500",children:i.description})]})]}),a.jsxs("button",{type:"button",onClick:()=>e("/admin-dashboard"),className:"inline-flex items-center gap-2 rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-slate-900/40 transition hover:-translate-y-0.5 hover:bg-slate-800",children:[a.jsx(DN,{className:"h-4 w-4"}),"Bng iu khin chnh"]})]}),a.jsx("div",{className:"mt-6 flex flex-wrap gap-3",children:i.highlights.map(d=>a.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-indigo-50 px-4 py-2 text-xs font-semibold text-indigo-600",children:[a.jsx(AN,{className:"h-3.5 w-3.5"}),d]},d))})]}),c?a.jsxs("section",{className:"grid gap-6 lg:grid-cols-[1.4fr,1fr]",children:[a.jsxs("div",{className:"rounded-3xl border border-indigo-50 bg-white p-7 shadow-lg shadow-indigo-100/40",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-indigo-400",children:"Ng cnh va chn"}),a.jsx("h2",{className:"mt-3 text-2xl font-semibold text-slate-900",children:c.heading}),c.subtitle?a.jsx("p",{className:"mt-1 text-sm font-semibold text-indigo-500",children:c.subtitle}):null,c.description?a.jsx("p",{className:"mt-4 text-sm leading-relaxed text-slate-600",children:c.description}):null,a.jsx("ul",{className:"mt-5 space-y-2 text-sm text-slate-600",children:c.bullets.map((d,f)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500"}),a.jsx("span",{children:d})]},`${d}-${f}`))})]}),a.jsxs("aside",{className:"flex h-full flex-col justify-between gap-4 rounded-3xl border border-emerald-50 bg-emerald-50/70 p-7 text-slate-800 shadow-inner shadow-emerald-100/60",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-emerald-500",children:"Nghip v k tip"}),a.jsx("h3",{className:"mt-3 text-lg font-semibold",children:"Cc thao tc nn u tin"}),a.jsx("p",{className:"mt-2 text-sm text-emerald-700",children:"Chn nhanh mt hnh ng bn di  tip tc quy trnh."})]}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-3",children:c.actions.map((d,f)=>a.jsxs("button",{type:"button",className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 ${Rv(d)}`,children:[a.jsx($f,{className:"h-4 w-4"}),d.label]},`${d.label}-${f}`))})]})]}):a.jsxs("section",{className:"rounded-3xl border border-indigo-50 bg-white p-7 shadow-lg shadow-indigo-100/40",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-indigo-400",children:"Gi "}),a.jsx("h2",{className:"mt-3 text-2xl font-semibold text-slate-900",children:"Chn mt card trong dashboard  xem chi tit nghip v"}),a.jsx("p",{className:"mt-4 max-w-2xl text-sm leading-relaxed text-slate-600",children:"Trang ny s hin th quy trnh chi tit tng ng vi widget bn va chn. Hy quay li dashboard v chn th bn quan tm  tip tc."})]}),a.jsxs("section",{className:"rounded-3xl border border-slate-100 bg-white p-7 shadow-lg shadow-indigo-100/20",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Nghip v kh dng"}),a.jsxs("h2",{className:"mt-3 text-xl font-semibold text-slate-900",children:["Thao tc chnh cho module ",i.label.toLowerCase()]}),a.jsx("div",{className:"mt-5 flex flex-wrap gap-3",children:i.operations.map((d,f)=>a.jsxs("button",{type:"button",className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 ${Rv(d)}`,children:[a.jsx($f,{className:"h-4 w-4"}),d.label]},`${d.label}-${f}`))})]})]})})};function JS(){return a.jsx(gN,{children:a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-brand-base via-brand-sand to-white",children:[a.jsx(vC,{}),a.jsx("main",{children:a.jsxs(Wj,{children:[a.jsx(pt,{path:"/",element:a.jsx(s8,{})}),a.jsx(pt,{path:"/history",element:a.jsx(o8,{})}),a.jsx(pt,{path:"/event/detail",element:a.jsx(E8,{})}),a.jsx(pt,{path:"/event/detail-enhanced",element:a.jsx(T8,{})}),a.jsx(pt,{path:"/shop",element:a.jsx(mS,{})}),a.jsx(pt,{path:"/forum",element:a.jsx(gS,{})}),a.jsx(pt,{path:"/services",element:a.jsx(vS,{})}),a.jsx(pt,{path:"/contact",element:a.jsx(bS,{})}),a.jsx(pt,{path:"/login",element:a.jsx(yS,{})}),a.jsx(pt,{path:"/register",element:a.jsx(_S,{})}),a.jsx(pt,{path:"/register-enhanced",element:a.jsx(jS,{})}),a.jsx(pt,{path:"/forgot-password",element:a.jsx(NS,{})}),a.jsx(pt,{path:"/profile",element:a.jsx(AS,{})}),a.jsx(pt,{path:"/shop-request",element:a.jsx(PS,{})}),a.jsx(pt,{path:"/shop-dashboard",element:a.jsx(RS,{})}),a.jsx(pt,{path:"/admin-dashboard",element:a.jsx(WS,{})}),a.jsx(pt,{path:"/admin-workflow/:workflowKey",element:a.jsx(XS,{})}),a.jsx(pt,{path:"/checkout",element:a.jsx(CS,{})}),a.jsx(pt,{path:"/payment-result",element:a.jsx(ES,{})}),a.jsx(pt,{path:"/order-details",element:a.jsx(TS,{})}),a.jsx(pt,{path:"*",element:a.jsx(i2,{to:"/",replace:!0})})]})}),a.jsx(bC,{})]})})}class ZS extends S.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error(" Uncaught error:",e,n)}render(){var e,n;return this.state.hasError?a.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",fontFamily:"system-ui, -apple-system, sans-serif"},children:a.jsxs("div",{style:{background:"white",padding:"40px",borderRadius:"10px",maxWidth:"700px",boxShadow:"0 10px 50px rgba(0,0,0,0.3)"},children:[a.jsx("h1",{style:{color:"#f5576c",marginBottom:"20px",fontSize:"28px"},children:" Application Error"}),a.jsx("p",{style:{color:"#333",lineHeight:"1.6",marginBottom:"20px"},children:a.jsx("strong",{children:"The application encountered an error and couldn't render."})}),a.jsxs("div",{style:{background:"#fff5f5",border:"2px solid #feb2b2",borderRadius:"8px",padding:"20px",marginBottom:"20px"},children:[a.jsx("p",{style:{color:"#c53030",fontWeight:"bold",marginBottom:"10px"},children:"Error Details:"}),a.jsx("code",{style:{display:"block",background:"#fff",padding:"15px",borderRadius:"4px",fontSize:"14px",color:"#2d3748",overflowX:"auto"},children:(e=this.state.error)==null?void 0:e.toString()}),((n=this.state.error)==null?void 0:n.stack)&&a.jsxs("details",{style:{marginTop:"15px"},children:[a.jsx("summary",{style:{cursor:"pointer",color:"#4a5568"},children:"Stack Trace"}),a.jsx("pre",{style:{marginTop:"10px",padding:"15px",background:"#f7fafc",borderRadius:"4px",fontSize:"12px",overflow:"auto",maxHeight:"300px"},children:this.state.error.stack})]})]}),a.jsxs("div",{style:{background:"#e6fffa",border:"2px solid #81e6d9",borderRadius:"8px",padding:"20px"},children:[a.jsx("p",{style:{color:"#234e52",fontWeight:"bold",marginBottom:"10px"},children:" Common Fixes:"}),a.jsxs("ul",{style:{color:"#234e52",lineHeight:"1.8",paddingLeft:"20px"},children:[a.jsx("li",{children:"Check browser console (F12) for more details"}),a.jsx("li",{children:"Verify all environment variables are set (.env file)"}),a.jsx("li",{children:"Make sure all dependencies are installed (npm install)"}),a.jsx("li",{children:"Clear browser cache and hard reload (Ctrl+Shift+R)"}),a.jsx("li",{children:"Check if Supabase client is properly initialized"})]})]}),a.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"12px 24px",background:"#f5576c",color:"white",border:"none",borderRadius:"6px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",width:"100%"},children:" Reload Page"})]})}):this.props.children}}Qy(document.getElementById("root")).render(a.jsx(S.StrictMode,{children:a.jsx(ZS,{children:a.jsx(JS,{})})}));
